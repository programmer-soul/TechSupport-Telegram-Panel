(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function o0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Wu={exports:{}},Rl={},Fu={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _s=Symbol.for("react.element"),a0=Symbol.for("react.portal"),u0=Symbol.for("react.fragment"),c0=Symbol.for("react.strict_mode"),d0=Symbol.for("react.profiler"),h0=Symbol.for("react.provider"),f0=Symbol.for("react.context"),m0=Symbol.for("react.forward_ref"),x0=Symbol.for("react.suspense"),p0=Symbol.for("react.memo"),g0=Symbol.for("react.lazy"),ja=Symbol.iterator;function v0(e){return e===null||typeof e!="object"?null:(e=ja&&e[ja]||e["@@iterator"],typeof e=="function"?e:null)}var Uu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vu=Object.assign,Hu={};function Pr(e,t,n){this.props=e,this.context=t,this.refs=Hu,this.updater=n||Uu}Pr.prototype.isReactComponent={};Pr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Pr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Qu(){}Qu.prototype=Pr.prototype;function Co(e,t,n){this.props=e,this.context=t,this.refs=Hu,this.updater=n||Uu}var _o=Co.prototype=new Qu;_o.constructor=Co;Vu(_o,Pr.prototype);_o.isPureReactComponent=!0;var ba=Array.isArray,Ku=Object.prototype.hasOwnProperty,Lo={current:null},Ju={key:!0,ref:!0,__self:!0,__source:!0};function Yu(e,t,n){var s,l={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Ku.call(t,s)&&!Ju.hasOwnProperty(s)&&(l[s]=t[s]);var a=arguments.length-2;if(a===1)l.children=n;else if(1<a){for(var u=Array(a),m=0;m<a;m++)u[m]=arguments[m+2];l.children=u}if(e&&e.defaultProps)for(s in a=e.defaultProps,a)l[s]===void 0&&(l[s]=a[s]);return{$$typeof:_s,type:e,key:i,ref:o,props:l,_owner:Lo.current}}function w0(e,t){return{$$typeof:_s,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Eo(e){return typeof e=="object"&&e!==null&&e.$$typeof===_s}function y0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Na=/\/+/g;function ql(e,t){return typeof e=="object"&&e!==null&&e.key!=null?y0(""+e.key):t.toString(36)}function Zs(e,t,n,s,l){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case _s:case a0:o=!0}}if(o)return o=e,l=l(o),e=s===""?"."+ql(o,0):s,ba(l)?(n="",e!=null&&(n=e.replace(Na,"$&/")+"/"),Zs(l,t,n,"",function(m){return m})):l!=null&&(Eo(l)&&(l=w0(l,n+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(Na,"$&/")+"/")+e)),t.push(l)),1;if(o=0,s=s===""?".":s+":",ba(e))for(var a=0;a<e.length;a++){i=e[a];var u=s+ql(i,a);o+=Zs(i,t,n,u,l)}else if(u=v0(e),typeof u=="function")for(e=u.call(e),a=0;!(i=e.next()).done;)i=i.value,u=s+ql(i,a++),o+=Zs(i,t,n,u,l);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ps(e,t,n){if(e==null)return e;var s=[],l=0;return Zs(e,s,"","",function(i){return t.call(n,i,l++)}),s}function j0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var et={current:null},qs={transition:null},b0={ReactCurrentDispatcher:et,ReactCurrentBatchConfig:qs,ReactCurrentOwner:Lo};function Gu(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:Ps,forEach:function(e,t,n){Ps(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ps(e,function(){t++}),t},toArray:function(e){return Ps(e,function(t){return t})||[]},only:function(e){if(!Eo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};le.Component=Pr;le.Fragment=u0;le.Profiler=d0;le.PureComponent=Co;le.StrictMode=c0;le.Suspense=x0;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b0;le.act=Gu;le.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Vu({},e.props),l=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Lo.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)Ku.call(t,u)&&!Ju.hasOwnProperty(u)&&(s[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)s.children=n;else if(1<u){a=Array(u);for(var m=0;m<u;m++)a[m]=arguments[m+2];s.children=a}return{$$typeof:_s,type:e.type,key:l,ref:i,props:s,_owner:o}};le.createContext=function(e){return e={$$typeof:f0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:h0,_context:e},e.Consumer=e};le.createElement=Yu;le.createFactory=function(e){var t=Yu.bind(null,e);return t.type=e,t};le.createRef=function(){return{current:null}};le.forwardRef=function(e){return{$$typeof:m0,render:e}};le.isValidElement=Eo;le.lazy=function(e){return{$$typeof:g0,_payload:{_status:-1,_result:e},_init:j0}};le.memo=function(e,t){return{$$typeof:p0,type:e,compare:t===void 0?null:t}};le.startTransition=function(e){var t=qs.transition;qs.transition={};try{e()}finally{qs.transition=t}};le.unstable_act=Gu;le.useCallback=function(e,t){return et.current.useCallback(e,t)};le.useContext=function(e){return et.current.useContext(e)};le.useDebugValue=function(){};le.useDeferredValue=function(e){return et.current.useDeferredValue(e)};le.useEffect=function(e,t){return et.current.useEffect(e,t)};le.useId=function(){return et.current.useId()};le.useImperativeHandle=function(e,t,n){return et.current.useImperativeHandle(e,t,n)};le.useInsertionEffect=function(e,t){return et.current.useInsertionEffect(e,t)};le.useLayoutEffect=function(e,t){return et.current.useLayoutEffect(e,t)};le.useMemo=function(e,t){return et.current.useMemo(e,t)};le.useReducer=function(e,t,n){return et.current.useReducer(e,t,n)};le.useRef=function(e){return et.current.useRef(e)};le.useState=function(e){return et.current.useState(e)};le.useSyncExternalStore=function(e,t,n){return et.current.useSyncExternalStore(e,t,n)};le.useTransition=function(){return et.current.useTransition()};le.version="18.3.1";Fu.exports=le;var d=Fu.exports;const N0=o0(d);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k0=d,S0=Symbol.for("react.element"),C0=Symbol.for("react.fragment"),_0=Object.prototype.hasOwnProperty,L0=k0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,E0={key:!0,ref:!0,__self:!0,__source:!0};function Xu(e,t,n){var s,l={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)_0.call(t,s)&&!E0.hasOwnProperty(s)&&(l[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)l[s]===void 0&&(l[s]=t[s]);return{$$typeof:S0,type:e,key:i,ref:o,props:l,_owner:L0.current}}Rl.Fragment=C0;Rl.jsx=Xu;Rl.jsxs=Xu;Wu.exports=Rl;var r=Wu.exports,Ti={},Zu={exports:{}},ht={},qu={exports:{}},ec={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,B){var W=M.length;M.push(B);e:for(;0<W;){var V=W-1>>>1,re=M[V];if(0<l(re,B))M[V]=B,M[W]=re,W=V;else break e}}function n(M){return M.length===0?null:M[0]}function s(M){if(M.length===0)return null;var B=M[0],W=M.pop();if(W!==B){M[0]=W;e:for(var V=0,re=M.length,me=re>>>1;V<me;){var ae=2*(V+1)-1,Pe=M[ae],pe=ae+1,ge=M[pe];if(0>l(Pe,W))pe<re&&0>l(ge,Pe)?(M[V]=ge,M[pe]=W,V=pe):(M[V]=Pe,M[ae]=W,V=ae);else if(pe<re&&0>l(ge,W))M[V]=ge,M[pe]=W,V=pe;else break e}}return B}function l(M,B){var W=M.sortIndex-B.sortIndex;return W!==0?W:M.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],m=[],y=1,p=null,g=3,v=!1,N=!1,w=!1,P=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,c=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(M){for(var B=n(m);B!==null;){if(B.callback===null)s(m);else if(B.startTime<=M)s(m),B.sortIndex=B.expirationTime,t(u,B);else break;B=n(m)}}function k(M){if(w=!1,x(M),!N)if(n(u)!==null)N=!0,I(T);else{var B=n(m);B!==null&&Y(k,B.startTime-M)}}function T(M,B){N=!1,w&&(w=!1,f(b),b=-1),v=!0;var W=g;try{for(x(B),p=n(u);p!==null&&(!(p.expirationTime>B)||M&&!H());){var V=p.callback;if(typeof V=="function"){p.callback=null,g=p.priorityLevel;var re=V(p.expirationTime<=B);B=e.unstable_now(),typeof re=="function"?p.callback=re:p===n(u)&&s(u),x(B)}else s(u);p=n(u)}if(p!==null)var me=!0;else{var ae=n(m);ae!==null&&Y(k,ae.startTime-B),me=!1}return me}finally{p=null,g=W,v=!1}}var L=!1,E=null,b=-1,A=5,O=-1;function H(){return!(e.unstable_now()-O<A)}function ee(){if(E!==null){var M=e.unstable_now();O=M;var B=!0;try{B=E(!0,M)}finally{B?ue():(L=!1,E=null)}}else L=!1}var ue;if(typeof c=="function")ue=function(){c(ee)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,C=S.port2;S.port1.onmessage=ee,ue=function(){C.postMessage(null)}}else ue=function(){P(ee,0)};function I(M){E=M,L||(L=!0,ue())}function Y(M,B){b=P(function(){M(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){N||v||(N=!0,I(T))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(M){switch(g){case 1:case 2:case 3:var B=3;break;default:B=g}var W=g;g=B;try{return M()}finally{g=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,B){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var W=g;g=M;try{return B()}finally{g=W}},e.unstable_scheduleCallback=function(M,B,W){var V=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?V+W:V):W=V,M){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=W+re,M={id:y++,callback:B,priorityLevel:M,startTime:W,expirationTime:re,sortIndex:-1},W>V?(M.sortIndex=W,t(m,M),n(u)===null&&M===n(m)&&(w?(f(b),b=-1):w=!0,Y(k,W-V))):(M.sortIndex=re,t(u,M),N||v||(N=!0,I(T))),M},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(M){var B=g;return function(){var W=g;g=B;try{return M.apply(this,arguments)}finally{g=W}}}})(ec);qu.exports=ec;var T0=qu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0=d,dt=T0;function z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tc=new Set,cs={};function Zn(e,t){Cr(e,t),Cr(e+"Capture",t)}function Cr(e,t){for(cs[e]=t,e=0;e<t.length;e++)tc.add(t[e])}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mi=Object.prototype.hasOwnProperty,z0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ka={},Sa={};function P0(e){return Mi.call(Sa,e)?!0:Mi.call(ka,e)?!1:z0.test(e)?Sa[e]=!0:(ka[e]=!0,!1)}function O0(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function R0(e,t,n,s){if(t===null||typeof t>"u"||O0(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function tt(e,t,n,s,l,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var He={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){He[e]=new tt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];He[t]=new tt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){He[e]=new tt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){He[e]=new tt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){He[e]=new tt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){He[e]=new tt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){He[e]=new tt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){He[e]=new tt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){He[e]=new tt(e,5,!1,e.toLowerCase(),null,!1,!1)});var To=/[\-:]([a-z])/g;function Mo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(To,Mo);He[t]=new tt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(To,Mo);He[t]=new tt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(To,Mo);He[t]=new tt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){He[e]=new tt(e,1,!1,e.toLowerCase(),null,!1,!1)});He.xlinkHref=new tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){He[e]=new tt(e,1,!1,e.toLowerCase(),null,!0,!0)});function zo(e,t,n,s){var l=He.hasOwnProperty(t)?He[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(R0(t,n,l,s)&&(n=null),s||l===null?P0(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,s=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var an=M0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Os=Symbol.for("react.element"),or=Symbol.for("react.portal"),ar=Symbol.for("react.fragment"),Po=Symbol.for("react.strict_mode"),zi=Symbol.for("react.profiler"),nc=Symbol.for("react.provider"),rc=Symbol.for("react.context"),Oo=Symbol.for("react.forward_ref"),Pi=Symbol.for("react.suspense"),Oi=Symbol.for("react.suspense_list"),Ro=Symbol.for("react.memo"),xn=Symbol.for("react.lazy"),sc=Symbol.for("react.offscreen"),Ca=Symbol.iterator;function Ir(e){return e===null||typeof e!="object"?null:(e=Ca&&e[Ca]||e["@@iterator"],typeof e=="function"?e:null)}var Ce=Object.assign,ei;function Xr(e){if(ei===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ei=t&&t[1]||""}return`
`+ei+e}var ti=!1;function ni(e,t){if(!e||ti)return"";ti=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var s=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){s=m}e.call(t.prototype)}else{try{throw Error()}catch(m){s=m}e()}}catch(m){if(m&&s&&typeof m.stack=="string"){for(var l=m.stack.split(`
`),i=s.stack.split(`
`),o=l.length-1,a=i.length-1;1<=o&&0<=a&&l[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(l[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||l[o]!==i[a]){var u=`
`+l[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{ti=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Xr(e):""}function D0(e){switch(e.tag){case 5:return Xr(e.type);case 16:return Xr("Lazy");case 13:return Xr("Suspense");case 19:return Xr("SuspenseList");case 0:case 2:case 15:return e=ni(e.type,!1),e;case 11:return e=ni(e.type.render,!1),e;case 1:return e=ni(e.type,!0),e;default:return""}}function Ri(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ar:return"Fragment";case or:return"Portal";case zi:return"Profiler";case Po:return"StrictMode";case Pi:return"Suspense";case Oi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rc:return(e.displayName||"Context")+".Consumer";case nc:return(e._context.displayName||"Context")+".Provider";case Oo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ro:return t=e.displayName||null,t!==null?t:Ri(e.type)||"Memo";case xn:t=e._payload,e=e._init;try{return Ri(e(t))}catch{}}return null}function A0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ri(t);case 8:return t===Po?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Tn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function B0(e){var t=lc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Rs(e){e._valueTracker||(e._valueTracker=B0(e))}function ic(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=lc(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function dl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Di(e,t){var n=t.checked;return Ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function _a(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Tn(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function oc(e,t){t=t.checked,t!=null&&zo(e,"checked",t,!1)}function Ai(e,t){oc(e,t);var n=Tn(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Bi(e,t.type,n):t.hasOwnProperty("defaultValue")&&Bi(e,t.type,Tn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function La(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Bi(e,t,n){(t!=="number"||dl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Zr=Array.isArray;function yr(e,t,n,s){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Tn(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function $i(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(z(91));return Ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ea(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(z(92));if(Zr(n)){if(1<n.length)throw Error(z(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Tn(n)}}function ac(e,t){var n=Tn(t.value),s=Tn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Ta(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function uc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ii(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?uc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ds,cc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ds=Ds||document.createElement("div"),Ds.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ds.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ds(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ts={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$0=["Webkit","ms","Moz","O"];Object.keys(ts).forEach(function(e){$0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ts[t]=ts[e]})});function dc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ts.hasOwnProperty(e)&&ts[e]?(""+t).trim():t+"px"}function hc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,l=dc(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,l):e[n]=l}}var I0=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wi(e,t){if(t){if(I0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(z(62))}}function Fi(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ui=null;function Do(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vi=null,jr=null,br=null;function Ma(e){if(e=Ts(e)){if(typeof Vi!="function")throw Error(z(280));var t=e.stateNode;t&&(t=Il(t),Vi(e.stateNode,e.type,t))}}function fc(e){jr?br?br.push(e):br=[e]:jr=e}function mc(){if(jr){var e=jr,t=br;if(br=jr=null,Ma(e),t)for(e=0;e<t.length;e++)Ma(t[e])}}function xc(e,t){return e(t)}function pc(){}var ri=!1;function gc(e,t,n){if(ri)return e(t,n);ri=!0;try{return xc(e,t,n)}finally{ri=!1,(jr!==null||br!==null)&&(pc(),mc())}}function hs(e,t){var n=e.stateNode;if(n===null)return null;var s=Il(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(z(231,t,typeof n));return n}var Hi=!1;if(rn)try{var Wr={};Object.defineProperty(Wr,"passive",{get:function(){Hi=!0}}),window.addEventListener("test",Wr,Wr),window.removeEventListener("test",Wr,Wr)}catch{Hi=!1}function W0(e,t,n,s,l,i,o,a,u){var m=Array.prototype.slice.call(arguments,3);try{t.apply(n,m)}catch(y){this.onError(y)}}var ns=!1,hl=null,fl=!1,Qi=null,F0={onError:function(e){ns=!0,hl=e}};function U0(e,t,n,s,l,i,o,a,u){ns=!1,hl=null,W0.apply(F0,arguments)}function V0(e,t,n,s,l,i,o,a,u){if(U0.apply(this,arguments),ns){if(ns){var m=hl;ns=!1,hl=null}else throw Error(z(198));fl||(fl=!0,Qi=m)}}function qn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function vc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function za(e){if(qn(e)!==e)throw Error(z(188))}function H0(e){var t=e.alternate;if(!t){if(t=qn(e),t===null)throw Error(z(188));return t!==e?null:e}for(var n=e,s=t;;){var l=n.return;if(l===null)break;var i=l.alternate;if(i===null){if(s=l.return,s!==null){n=s;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===n)return za(l),e;if(i===s)return za(l),t;i=i.sibling}throw Error(z(188))}if(n.return!==s.return)n=l,s=i;else{for(var o=!1,a=l.child;a;){if(a===n){o=!0,n=l,s=i;break}if(a===s){o=!0,s=l,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,s=l;break}if(a===s){o=!0,s=i,n=l;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==s)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?e:t}function wc(e){return e=H0(e),e!==null?yc(e):null}function yc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=yc(e);if(t!==null)return t;e=e.sibling}return null}var jc=dt.unstable_scheduleCallback,Pa=dt.unstable_cancelCallback,Q0=dt.unstable_shouldYield,K0=dt.unstable_requestPaint,Ee=dt.unstable_now,J0=dt.unstable_getCurrentPriorityLevel,Ao=dt.unstable_ImmediatePriority,bc=dt.unstable_UserBlockingPriority,ml=dt.unstable_NormalPriority,Y0=dt.unstable_LowPriority,Nc=dt.unstable_IdlePriority,Dl=null,Ut=null;function G0(e){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Dl,e,void 0,(e.current.flags&128)===128)}catch{}}var Tt=Math.clz32?Math.clz32:q0,X0=Math.log,Z0=Math.LN2;function q0(e){return e>>>=0,e===0?32:31-(X0(e)/Z0|0)|0}var As=64,Bs=4194304;function qr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xl(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,l=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~l;a!==0?s=qr(a):(i&=o,i!==0&&(s=qr(i)))}else o=n&~l,o!==0?s=qr(o):i!==0&&(s=qr(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&l)&&(l=s&-s,i=t&-t,l>=i||l===16&&(i&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Tt(t),l=1<<n,s|=e[n],t&=~l;return s}function eh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function th(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Tt(i),a=1<<o,u=l[o];u===-1?(!(a&n)||a&s)&&(l[o]=eh(a,t)):u<=t&&(e.expiredLanes|=a),i&=~a}}function Ki(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function kc(){var e=As;return As<<=1,!(As&4194240)&&(As=64),e}function si(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ls(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Tt(t),e[t]=n}function nh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Tt(n),i=1<<l;t[l]=0,s[l]=-1,e[l]=-1,n&=~i}}function Bo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Tt(n),l=1<<s;l&t|e[s]&t&&(e[s]|=t),n&=~l}}var he=0;function Sc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Cc,$o,_c,Lc,Ec,Ji=!1,$s=[],bn=null,Nn=null,kn=null,fs=new Map,ms=new Map,gn=[],rh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oa(e,t){switch(e){case"focusin":case"focusout":bn=null;break;case"dragenter":case"dragleave":Nn=null;break;case"mouseover":case"mouseout":kn=null;break;case"pointerover":case"pointerout":fs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ms.delete(t.pointerId)}}function Fr(e,t,n,s,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[l]},t!==null&&(t=Ts(t),t!==null&&$o(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function sh(e,t,n,s,l){switch(t){case"focusin":return bn=Fr(bn,e,t,n,s,l),!0;case"dragenter":return Nn=Fr(Nn,e,t,n,s,l),!0;case"mouseover":return kn=Fr(kn,e,t,n,s,l),!0;case"pointerover":var i=l.pointerId;return fs.set(i,Fr(fs.get(i)||null,e,t,n,s,l)),!0;case"gotpointercapture":return i=l.pointerId,ms.set(i,Fr(ms.get(i)||null,e,t,n,s,l)),!0}return!1}function Tc(e){var t=Wn(e.target);if(t!==null){var n=qn(t);if(n!==null){if(t=n.tag,t===13){if(t=vc(n),t!==null){e.blockedOn=t,Ec(e.priority,function(){_c(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function el(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yi(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Ui=s,n.target.dispatchEvent(s),Ui=null}else return t=Ts(n),t!==null&&$o(t),e.blockedOn=n,!1;t.shift()}return!0}function Ra(e,t,n){el(e)&&n.delete(t)}function lh(){Ji=!1,bn!==null&&el(bn)&&(bn=null),Nn!==null&&el(Nn)&&(Nn=null),kn!==null&&el(kn)&&(kn=null),fs.forEach(Ra),ms.forEach(Ra)}function Ur(e,t){e.blockedOn===t&&(e.blockedOn=null,Ji||(Ji=!0,dt.unstable_scheduleCallback(dt.unstable_NormalPriority,lh)))}function xs(e){function t(l){return Ur(l,e)}if(0<$s.length){Ur($s[0],e);for(var n=1;n<$s.length;n++){var s=$s[n];s.blockedOn===e&&(s.blockedOn=null)}}for(bn!==null&&Ur(bn,e),Nn!==null&&Ur(Nn,e),kn!==null&&Ur(kn,e),fs.forEach(t),ms.forEach(t),n=0;n<gn.length;n++)s=gn[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<gn.length&&(n=gn[0],n.blockedOn===null);)Tc(n),n.blockedOn===null&&gn.shift()}var Nr=an.ReactCurrentBatchConfig,pl=!0;function ih(e,t,n,s){var l=he,i=Nr.transition;Nr.transition=null;try{he=1,Io(e,t,n,s)}finally{he=l,Nr.transition=i}}function oh(e,t,n,s){var l=he,i=Nr.transition;Nr.transition=null;try{he=4,Io(e,t,n,s)}finally{he=l,Nr.transition=i}}function Io(e,t,n,s){if(pl){var l=Yi(e,t,n,s);if(l===null)mi(e,t,s,gl,n),Oa(e,s);else if(sh(l,e,t,n,s))s.stopPropagation();else if(Oa(e,s),t&4&&-1<rh.indexOf(e)){for(;l!==null;){var i=Ts(l);if(i!==null&&Cc(i),i=Yi(e,t,n,s),i===null&&mi(e,t,s,gl,n),i===l)break;l=i}l!==null&&s.stopPropagation()}else mi(e,t,s,null,n)}}var gl=null;function Yi(e,t,n,s){if(gl=null,e=Do(s),e=Wn(e),e!==null)if(t=qn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=vc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return gl=e,null}function Mc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(J0()){case Ao:return 1;case bc:return 4;case ml:case Y0:return 16;case Nc:return 536870912;default:return 16}default:return 16}}var yn=null,Wo=null,tl=null;function zc(){if(tl)return tl;var e,t=Wo,n=t.length,s,l="value"in yn?yn.value:yn.textContent,i=l.length;for(e=0;e<n&&t[e]===l[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===l[i-s];s++);return tl=l.slice(e,1<s?1-s:void 0)}function nl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Is(){return!0}function Da(){return!1}function ft(e){function t(n,s,l,i,o){this._reactName=n,this._targetInst=l,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Is:Da,this.isPropagationStopped=Da,this}return Ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Is)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Is)},persist:function(){},isPersistent:Is}),t}var Or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fo=ft(Or),Es=Ce({},Or,{view:0,detail:0}),ah=ft(Es),li,ii,Vr,Al=Ce({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vr&&(Vr&&e.type==="mousemove"?(li=e.screenX-Vr.screenX,ii=e.screenY-Vr.screenY):ii=li=0,Vr=e),li)},movementY:function(e){return"movementY"in e?e.movementY:ii}}),Aa=ft(Al),uh=Ce({},Al,{dataTransfer:0}),ch=ft(uh),dh=Ce({},Es,{relatedTarget:0}),oi=ft(dh),hh=Ce({},Or,{animationName:0,elapsedTime:0,pseudoElement:0}),fh=ft(hh),mh=Ce({},Or,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xh=ft(mh),ph=Ce({},Or,{data:0}),Ba=ft(ph),gh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wh[e])?!!t[e]:!1}function Uo(){return yh}var jh=Ce({},Es,{key:function(e){if(e.key){var t=gh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=nl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uo,charCode:function(e){return e.type==="keypress"?nl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?nl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bh=ft(jh),Nh=Ce({},Al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$a=ft(Nh),kh=Ce({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uo}),Sh=ft(kh),Ch=Ce({},Or,{propertyName:0,elapsedTime:0,pseudoElement:0}),_h=ft(Ch),Lh=Ce({},Al,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Eh=ft(Lh),Th=[9,13,27,32],Vo=rn&&"CompositionEvent"in window,rs=null;rn&&"documentMode"in document&&(rs=document.documentMode);var Mh=rn&&"TextEvent"in window&&!rs,Pc=rn&&(!Vo||rs&&8<rs&&11>=rs),Ia=" ",Wa=!1;function Oc(e,t){switch(e){case"keyup":return Th.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ur=!1;function zh(e,t){switch(e){case"compositionend":return Rc(t);case"keypress":return t.which!==32?null:(Wa=!0,Ia);case"textInput":return e=t.data,e===Ia&&Wa?null:e;default:return null}}function Ph(e,t){if(ur)return e==="compositionend"||!Vo&&Oc(e,t)?(e=zc(),tl=Wo=yn=null,ur=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pc&&t.locale!=="ko"?null:t.data;default:return null}}var Oh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Oh[e.type]:t==="textarea"}function Dc(e,t,n,s){fc(s),t=vl(t,"onChange"),0<t.length&&(n=new Fo("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var ss=null,ps=null;function Rh(e){Kc(e,0)}function Bl(e){var t=hr(e);if(ic(t))return e}function Dh(e,t){if(e==="change")return t}var Ac=!1;if(rn){var ai;if(rn){var ui="oninput"in document;if(!ui){var Ua=document.createElement("div");Ua.setAttribute("oninput","return;"),ui=typeof Ua.oninput=="function"}ai=ui}else ai=!1;Ac=ai&&(!document.documentMode||9<document.documentMode)}function Va(){ss&&(ss.detachEvent("onpropertychange",Bc),ps=ss=null)}function Bc(e){if(e.propertyName==="value"&&Bl(ps)){var t=[];Dc(t,ps,e,Do(e)),gc(Rh,t)}}function Ah(e,t,n){e==="focusin"?(Va(),ss=t,ps=n,ss.attachEvent("onpropertychange",Bc)):e==="focusout"&&Va()}function Bh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bl(ps)}function $h(e,t){if(e==="click")return Bl(t)}function Ih(e,t){if(e==="input"||e==="change")return Bl(t)}function Wh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zt=typeof Object.is=="function"?Object.is:Wh;function gs(e,t){if(zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var l=n[s];if(!Mi.call(t,l)||!zt(e[l],t[l]))return!1}return!0}function Ha(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qa(e,t){var n=Ha(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ha(n)}}function $c(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$c(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ic(){for(var e=window,t=dl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=dl(e.document)}return t}function Ho(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Fh(e){var t=Ic(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&$c(n.ownerDocument.documentElement,n)){if(s!==null&&Ho(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,i=Math.min(s.start,l);s=s.end===void 0?i:Math.min(s.end,l),!e.extend&&i>s&&(l=s,s=i,i=l),l=Qa(n,i);var o=Qa(n,s);l&&o&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Uh=rn&&"documentMode"in document&&11>=document.documentMode,cr=null,Gi=null,ls=null,Xi=!1;function Ka(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xi||cr==null||cr!==dl(s)||(s=cr,"selectionStart"in s&&Ho(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ls&&gs(ls,s)||(ls=s,s=vl(Gi,"onSelect"),0<s.length&&(t=new Fo("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=cr)))}function Ws(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dr={animationend:Ws("Animation","AnimationEnd"),animationiteration:Ws("Animation","AnimationIteration"),animationstart:Ws("Animation","AnimationStart"),transitionend:Ws("Transition","TransitionEnd")},ci={},Wc={};rn&&(Wc=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);function $l(e){if(ci[e])return ci[e];if(!dr[e])return e;var t=dr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Wc)return ci[e]=t[n];return e}var Fc=$l("animationend"),Uc=$l("animationiteration"),Vc=$l("animationstart"),Hc=$l("transitionend"),Qc=new Map,Ja="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zn(e,t){Qc.set(e,t),Zn(t,[e])}for(var di=0;di<Ja.length;di++){var hi=Ja[di],Vh=hi.toLowerCase(),Hh=hi[0].toUpperCase()+hi.slice(1);zn(Vh,"on"+Hh)}zn(Fc,"onAnimationEnd");zn(Uc,"onAnimationIteration");zn(Vc,"onAnimationStart");zn("dblclick","onDoubleClick");zn("focusin","onFocus");zn("focusout","onBlur");zn(Hc,"onTransitionEnd");Cr("onMouseEnter",["mouseout","mouseover"]);Cr("onMouseLeave",["mouseout","mouseover"]);Cr("onPointerEnter",["pointerout","pointerover"]);Cr("onPointerLeave",["pointerout","pointerover"]);Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var es="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qh=new Set("cancel close invalid load scroll toggle".split(" ").concat(es));function Ya(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,V0(s,t,void 0,e),e.currentTarget=null}function Kc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],l=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var a=s[o],u=a.instance,m=a.currentTarget;if(a=a.listener,u!==i&&l.isPropagationStopped())break e;Ya(l,a,m),i=u}else for(o=0;o<s.length;o++){if(a=s[o],u=a.instance,m=a.currentTarget,a=a.listener,u!==i&&l.isPropagationStopped())break e;Ya(l,a,m),i=u}}}if(fl)throw e=Qi,fl=!1,Qi=null,e}function je(e,t){var n=t[no];n===void 0&&(n=t[no]=new Set);var s=e+"__bubble";n.has(s)||(Jc(t,e,2,!1),n.add(s))}function fi(e,t,n){var s=0;t&&(s|=4),Jc(n,e,s,t)}var Fs="_reactListening"+Math.random().toString(36).slice(2);function vs(e){if(!e[Fs]){e[Fs]=!0,tc.forEach(function(n){n!=="selectionchange"&&(Qh.has(n)||fi(n,!1,e),fi(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fs]||(t[Fs]=!0,fi("selectionchange",!1,t))}}function Jc(e,t,n,s){switch(Mc(t)){case 1:var l=ih;break;case 4:l=oh;break;default:l=Io}n=l.bind(null,t,n,e),l=void 0,!Hi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function mi(e,t,n,s,l){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===l||a.nodeType===8&&a.parentNode===l)break;if(o===4)for(o=s.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===l||u.nodeType===8&&u.parentNode===l))return;o=o.return}for(;a!==null;){if(o=Wn(a),o===null)return;if(u=o.tag,u===5||u===6){s=i=o;continue e}a=a.parentNode}}s=s.return}gc(function(){var m=i,y=Do(n),p=[];e:{var g=Qc.get(e);if(g!==void 0){var v=Fo,N=e;switch(e){case"keypress":if(nl(n)===0)break e;case"keydown":case"keyup":v=bh;break;case"focusin":N="focus",v=oi;break;case"focusout":N="blur",v=oi;break;case"beforeblur":case"afterblur":v=oi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Aa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=ch;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Sh;break;case Fc:case Uc:case Vc:v=fh;break;case Hc:v=_h;break;case"scroll":v=ah;break;case"wheel":v=Eh;break;case"copy":case"cut":case"paste":v=xh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=$a}var w=(t&4)!==0,P=!w&&e==="scroll",f=w?g!==null?g+"Capture":null:g;w=[];for(var c=m,x;c!==null;){x=c;var k=x.stateNode;if(x.tag===5&&k!==null&&(x=k,f!==null&&(k=hs(c,f),k!=null&&w.push(ws(c,k,x)))),P)break;c=c.return}0<w.length&&(g=new v(g,N,null,n,y),p.push({event:g,listeners:w}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",g&&n!==Ui&&(N=n.relatedTarget||n.fromElement)&&(Wn(N)||N[sn]))break e;if((v||g)&&(g=y.window===y?y:(g=y.ownerDocument)?g.defaultView||g.parentWindow:window,v?(N=n.relatedTarget||n.toElement,v=m,N=N?Wn(N):null,N!==null&&(P=qn(N),N!==P||N.tag!==5&&N.tag!==6)&&(N=null)):(v=null,N=m),v!==N)){if(w=Aa,k="onMouseLeave",f="onMouseEnter",c="mouse",(e==="pointerout"||e==="pointerover")&&(w=$a,k="onPointerLeave",f="onPointerEnter",c="pointer"),P=v==null?g:hr(v),x=N==null?g:hr(N),g=new w(k,c+"leave",v,n,y),g.target=P,g.relatedTarget=x,k=null,Wn(y)===m&&(w=new w(f,c+"enter",N,n,y),w.target=x,w.relatedTarget=P,k=w),P=k,v&&N)t:{for(w=v,f=N,c=0,x=w;x;x=ir(x))c++;for(x=0,k=f;k;k=ir(k))x++;for(;0<c-x;)w=ir(w),c--;for(;0<x-c;)f=ir(f),x--;for(;c--;){if(w===f||f!==null&&w===f.alternate)break t;w=ir(w),f=ir(f)}w=null}else w=null;v!==null&&Ga(p,g,v,w,!1),N!==null&&P!==null&&Ga(p,P,N,w,!0)}}e:{if(g=m?hr(m):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var T=Dh;else if(Fa(g))if(Ac)T=Ih;else{T=Bh;var L=Ah}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(T=$h);if(T&&(T=T(e,m))){Dc(p,T,n,y);break e}L&&L(e,g,m),e==="focusout"&&(L=g._wrapperState)&&L.controlled&&g.type==="number"&&Bi(g,"number",g.value)}switch(L=m?hr(m):window,e){case"focusin":(Fa(L)||L.contentEditable==="true")&&(cr=L,Gi=m,ls=null);break;case"focusout":ls=Gi=cr=null;break;case"mousedown":Xi=!0;break;case"contextmenu":case"mouseup":case"dragend":Xi=!1,Ka(p,n,y);break;case"selectionchange":if(Uh)break;case"keydown":case"keyup":Ka(p,n,y)}var E;if(Vo)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else ur?Oc(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(Pc&&n.locale!=="ko"&&(ur||b!=="onCompositionStart"?b==="onCompositionEnd"&&ur&&(E=zc()):(yn=y,Wo="value"in yn?yn.value:yn.textContent,ur=!0)),L=vl(m,b),0<L.length&&(b=new Ba(b,e,null,n,y),p.push({event:b,listeners:L}),E?b.data=E:(E=Rc(n),E!==null&&(b.data=E)))),(E=Mh?zh(e,n):Ph(e,n))&&(m=vl(m,"onBeforeInput"),0<m.length&&(y=new Ba("onBeforeInput","beforeinput",null,n,y),p.push({event:y,listeners:m}),y.data=E))}Kc(p,t)})}function ws(e,t,n){return{instance:e,listener:t,currentTarget:n}}function vl(e,t){for(var n=t+"Capture",s=[];e!==null;){var l=e,i=l.stateNode;l.tag===5&&i!==null&&(l=i,i=hs(e,n),i!=null&&s.unshift(ws(e,i,l)),i=hs(e,t),i!=null&&s.push(ws(e,i,l))),e=e.return}return s}function ir(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ga(e,t,n,s,l){for(var i=t._reactName,o=[];n!==null&&n!==s;){var a=n,u=a.alternate,m=a.stateNode;if(u!==null&&u===s)break;a.tag===5&&m!==null&&(a=m,l?(u=hs(n,i),u!=null&&o.unshift(ws(n,u,a))):l||(u=hs(n,i),u!=null&&o.push(ws(n,u,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Kh=/\r\n?/g,Jh=/\u0000|\uFFFD/g;function Xa(e){return(typeof e=="string"?e:""+e).replace(Kh,`
`).replace(Jh,"")}function Us(e,t,n){if(t=Xa(t),Xa(e)!==t&&n)throw Error(z(425))}function wl(){}var Zi=null,qi=null;function eo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var to=typeof setTimeout=="function"?setTimeout:void 0,Yh=typeof clearTimeout=="function"?clearTimeout:void 0,Za=typeof Promise=="function"?Promise:void 0,Gh=typeof queueMicrotask=="function"?queueMicrotask:typeof Za<"u"?function(e){return Za.resolve(null).then(e).catch(Xh)}:to;function Xh(e){setTimeout(function(){throw e})}function xi(e,t){var n=t,s=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(s===0){e.removeChild(l),xs(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=l}while(n);xs(t)}function Sn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qa(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Rr=Math.random().toString(36).slice(2),Ft="__reactFiber$"+Rr,ys="__reactProps$"+Rr,sn="__reactContainer$"+Rr,no="__reactEvents$"+Rr,Zh="__reactListeners$"+Rr,qh="__reactHandles$"+Rr;function Wn(e){var t=e[Ft];if(t)return t;for(var n=e.parentNode;n;){if(t=n[sn]||n[Ft]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=qa(e);e!==null;){if(n=e[Ft])return n;e=qa(e)}return t}e=n,n=e.parentNode}return null}function Ts(e){return e=e[Ft]||e[sn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(z(33))}function Il(e){return e[ys]||null}var ro=[],fr=-1;function Pn(e){return{current:e}}function be(e){0>fr||(e.current=ro[fr],ro[fr]=null,fr--)}function ve(e,t){fr++,ro[fr]=e.current,e.current=t}var Mn={},Ye=Pn(Mn),st=Pn(!1),Kn=Mn;function _r(e,t){var n=e.type.contextTypes;if(!n)return Mn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},i;for(i in n)l[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function lt(e){return e=e.childContextTypes,e!=null}function yl(){be(st),be(Ye)}function eu(e,t,n){if(Ye.current!==Mn)throw Error(z(168));ve(Ye,t),ve(st,n)}function Yc(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(z(108,A0(e)||"Unknown",l));return Ce({},n,s)}function jl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mn,Kn=Ye.current,ve(Ye,e),ve(st,st.current),!0}function tu(e,t,n){var s=e.stateNode;if(!s)throw Error(z(169));n?(e=Yc(e,t,Kn),s.__reactInternalMemoizedMergedChildContext=e,be(st),be(Ye),ve(Ye,e)):be(st),ve(st,n)}var qt=null,Wl=!1,pi=!1;function Gc(e){qt===null?qt=[e]:qt.push(e)}function ef(e){Wl=!0,Gc(e)}function On(){if(!pi&&qt!==null){pi=!0;var e=0,t=he;try{var n=qt;for(he=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}qt=null,Wl=!1}catch(l){throw qt!==null&&(qt=qt.slice(e+1)),jc(Ao,On),l}finally{he=t,pi=!1}}return null}var mr=[],xr=0,bl=null,Nl=0,pt=[],gt=0,Jn=null,en=1,tn="";function $n(e,t){mr[xr++]=Nl,mr[xr++]=bl,bl=e,Nl=t}function Xc(e,t,n){pt[gt++]=en,pt[gt++]=tn,pt[gt++]=Jn,Jn=e;var s=en;e=tn;var l=32-Tt(s)-1;s&=~(1<<l),n+=1;var i=32-Tt(t)+l;if(30<i){var o=l-l%5;i=(s&(1<<o)-1).toString(32),s>>=o,l-=o,en=1<<32-Tt(t)+l|n<<l|s,tn=i+e}else en=1<<i|n<<l|s,tn=e}function Qo(e){e.return!==null&&($n(e,1),Xc(e,1,0))}function Ko(e){for(;e===bl;)bl=mr[--xr],mr[xr]=null,Nl=mr[--xr],mr[xr]=null;for(;e===Jn;)Jn=pt[--gt],pt[gt]=null,tn=pt[--gt],pt[gt]=null,en=pt[--gt],pt[gt]=null}var ct=null,ut=null,Ne=!1,Et=null;function Zc(e,t){var n=vt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function nu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ct=e,ut=Sn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ct=e,ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Jn!==null?{id:en,overflow:tn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=vt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ct=e,ut=null,!0):!1;default:return!1}}function so(e){return(e.mode&1)!==0&&(e.flags&128)===0}function lo(e){if(Ne){var t=ut;if(t){var n=t;if(!nu(e,t)){if(so(e))throw Error(z(418));t=Sn(n.nextSibling);var s=ct;t&&nu(e,t)?Zc(s,n):(e.flags=e.flags&-4097|2,Ne=!1,ct=e)}}else{if(so(e))throw Error(z(418));e.flags=e.flags&-4097|2,Ne=!1,ct=e}}}function ru(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ct=e}function Vs(e){if(e!==ct)return!1;if(!Ne)return ru(e),Ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!eo(e.type,e.memoizedProps)),t&&(t=ut)){if(so(e))throw qc(),Error(z(418));for(;t;)Zc(e,t),t=Sn(t.nextSibling)}if(ru(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ut=Sn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ut=null}}else ut=ct?Sn(e.stateNode.nextSibling):null;return!0}function qc(){for(var e=ut;e;)e=Sn(e.nextSibling)}function Lr(){ut=ct=null,Ne=!1}function Jo(e){Et===null?Et=[e]:Et.push(e)}var tf=an.ReactCurrentBatchConfig;function Hr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var s=n.stateNode}if(!s)throw Error(z(147,e));var l=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=l.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,e))}return e}function Hs(e,t){throw e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function su(e){var t=e._init;return t(e._payload)}function ed(e){function t(f,c){if(e){var x=f.deletions;x===null?(f.deletions=[c],f.flags|=16):x.push(c)}}function n(f,c){if(!e)return null;for(;c!==null;)t(f,c),c=c.sibling;return null}function s(f,c){for(f=new Map;c!==null;)c.key!==null?f.set(c.key,c):f.set(c.index,c),c=c.sibling;return f}function l(f,c){return f=En(f,c),f.index=0,f.sibling=null,f}function i(f,c,x){return f.index=x,e?(x=f.alternate,x!==null?(x=x.index,x<c?(f.flags|=2,c):x):(f.flags|=2,c)):(f.flags|=1048576,c)}function o(f){return e&&f.alternate===null&&(f.flags|=2),f}function a(f,c,x,k){return c===null||c.tag!==6?(c=Ni(x,f.mode,k),c.return=f,c):(c=l(c,x),c.return=f,c)}function u(f,c,x,k){var T=x.type;return T===ar?y(f,c,x.props.children,k,x.key):c!==null&&(c.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===xn&&su(T)===c.type)?(k=l(c,x.props),k.ref=Hr(f,c,x),k.return=f,k):(k=ul(x.type,x.key,x.props,null,f.mode,k),k.ref=Hr(f,c,x),k.return=f,k)}function m(f,c,x,k){return c===null||c.tag!==4||c.stateNode.containerInfo!==x.containerInfo||c.stateNode.implementation!==x.implementation?(c=ki(x,f.mode,k),c.return=f,c):(c=l(c,x.children||[]),c.return=f,c)}function y(f,c,x,k,T){return c===null||c.tag!==7?(c=Hn(x,f.mode,k,T),c.return=f,c):(c=l(c,x),c.return=f,c)}function p(f,c,x){if(typeof c=="string"&&c!==""||typeof c=="number")return c=Ni(""+c,f.mode,x),c.return=f,c;if(typeof c=="object"&&c!==null){switch(c.$$typeof){case Os:return x=ul(c.type,c.key,c.props,null,f.mode,x),x.ref=Hr(f,null,c),x.return=f,x;case or:return c=ki(c,f.mode,x),c.return=f,c;case xn:var k=c._init;return p(f,k(c._payload),x)}if(Zr(c)||Ir(c))return c=Hn(c,f.mode,x,null),c.return=f,c;Hs(f,c)}return null}function g(f,c,x,k){var T=c!==null?c.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return T!==null?null:a(f,c,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Os:return x.key===T?u(f,c,x,k):null;case or:return x.key===T?m(f,c,x,k):null;case xn:return T=x._init,g(f,c,T(x._payload),k)}if(Zr(x)||Ir(x))return T!==null?null:y(f,c,x,k,null);Hs(f,x)}return null}function v(f,c,x,k,T){if(typeof k=="string"&&k!==""||typeof k=="number")return f=f.get(x)||null,a(c,f,""+k,T);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Os:return f=f.get(k.key===null?x:k.key)||null,u(c,f,k,T);case or:return f=f.get(k.key===null?x:k.key)||null,m(c,f,k,T);case xn:var L=k._init;return v(f,c,x,L(k._payload),T)}if(Zr(k)||Ir(k))return f=f.get(x)||null,y(c,f,k,T,null);Hs(c,k)}return null}function N(f,c,x,k){for(var T=null,L=null,E=c,b=c=0,A=null;E!==null&&b<x.length;b++){E.index>b?(A=E,E=null):A=E.sibling;var O=g(f,E,x[b],k);if(O===null){E===null&&(E=A);break}e&&E&&O.alternate===null&&t(f,E),c=i(O,c,b),L===null?T=O:L.sibling=O,L=O,E=A}if(b===x.length)return n(f,E),Ne&&$n(f,b),T;if(E===null){for(;b<x.length;b++)E=p(f,x[b],k),E!==null&&(c=i(E,c,b),L===null?T=E:L.sibling=E,L=E);return Ne&&$n(f,b),T}for(E=s(f,E);b<x.length;b++)A=v(E,f,b,x[b],k),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?b:A.key),c=i(A,c,b),L===null?T=A:L.sibling=A,L=A);return e&&E.forEach(function(H){return t(f,H)}),Ne&&$n(f,b),T}function w(f,c,x,k){var T=Ir(x);if(typeof T!="function")throw Error(z(150));if(x=T.call(x),x==null)throw Error(z(151));for(var L=T=null,E=c,b=c=0,A=null,O=x.next();E!==null&&!O.done;b++,O=x.next()){E.index>b?(A=E,E=null):A=E.sibling;var H=g(f,E,O.value,k);if(H===null){E===null&&(E=A);break}e&&E&&H.alternate===null&&t(f,E),c=i(H,c,b),L===null?T=H:L.sibling=H,L=H,E=A}if(O.done)return n(f,E),Ne&&$n(f,b),T;if(E===null){for(;!O.done;b++,O=x.next())O=p(f,O.value,k),O!==null&&(c=i(O,c,b),L===null?T=O:L.sibling=O,L=O);return Ne&&$n(f,b),T}for(E=s(f,E);!O.done;b++,O=x.next())O=v(E,f,b,O.value,k),O!==null&&(e&&O.alternate!==null&&E.delete(O.key===null?b:O.key),c=i(O,c,b),L===null?T=O:L.sibling=O,L=O);return e&&E.forEach(function(ee){return t(f,ee)}),Ne&&$n(f,b),T}function P(f,c,x,k){if(typeof x=="object"&&x!==null&&x.type===ar&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Os:e:{for(var T=x.key,L=c;L!==null;){if(L.key===T){if(T=x.type,T===ar){if(L.tag===7){n(f,L.sibling),c=l(L,x.props.children),c.return=f,f=c;break e}}else if(L.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===xn&&su(T)===L.type){n(f,L.sibling),c=l(L,x.props),c.ref=Hr(f,L,x),c.return=f,f=c;break e}n(f,L);break}else t(f,L);L=L.sibling}x.type===ar?(c=Hn(x.props.children,f.mode,k,x.key),c.return=f,f=c):(k=ul(x.type,x.key,x.props,null,f.mode,k),k.ref=Hr(f,c,x),k.return=f,f=k)}return o(f);case or:e:{for(L=x.key;c!==null;){if(c.key===L)if(c.tag===4&&c.stateNode.containerInfo===x.containerInfo&&c.stateNode.implementation===x.implementation){n(f,c.sibling),c=l(c,x.children||[]),c.return=f,f=c;break e}else{n(f,c);break}else t(f,c);c=c.sibling}c=ki(x,f.mode,k),c.return=f,f=c}return o(f);case xn:return L=x._init,P(f,c,L(x._payload),k)}if(Zr(x))return N(f,c,x,k);if(Ir(x))return w(f,c,x,k);Hs(f,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,c!==null&&c.tag===6?(n(f,c.sibling),c=l(c,x),c.return=f,f=c):(n(f,c),c=Ni(x,f.mode,k),c.return=f,f=c),o(f)):n(f,c)}return P}var Er=ed(!0),td=ed(!1),kl=Pn(null),Sl=null,pr=null,Yo=null;function Go(){Yo=pr=Sl=null}function Xo(e){var t=kl.current;be(kl),e._currentValue=t}function io(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function kr(e,t){Sl=e,Yo=pr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(rt=!0),e.firstContext=null)}function yt(e){var t=e._currentValue;if(Yo!==e)if(e={context:e,memoizedValue:t,next:null},pr===null){if(Sl===null)throw Error(z(308));pr=e,Sl.dependencies={lanes:0,firstContext:e}}else pr=pr.next=e;return t}var Fn=null;function Zo(e){Fn===null?Fn=[e]:Fn.push(e)}function nd(e,t,n,s){var l=t.interleaved;return l===null?(n.next=n,Zo(t)):(n.next=l.next,l.next=n),t.interleaved=n,ln(e,s)}function ln(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var pn=!1;function qo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function nn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Cn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,de&2){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,ln(e,n)}return l=s.interleaved,l===null?(t.next=t,Zo(s)):(t.next=l.next,l.next=t),s.interleaved=t,ln(e,n)}function rl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Bo(e,n)}}function lu(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var l=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?l=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?l=i=t:i=i.next=t}else l=i=t;n={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Cl(e,t,n,s){var l=e.updateQueue;pn=!1;var i=l.firstBaseUpdate,o=l.lastBaseUpdate,a=l.shared.pending;if(a!==null){l.shared.pending=null;var u=a,m=u.next;u.next=null,o===null?i=m:o.next=m,o=u;var y=e.alternate;y!==null&&(y=y.updateQueue,a=y.lastBaseUpdate,a!==o&&(a===null?y.firstBaseUpdate=m:a.next=m,y.lastBaseUpdate=u))}if(i!==null){var p=l.baseState;o=0,y=m=u=null,a=i;do{var g=a.lane,v=a.eventTime;if((s&g)===g){y!==null&&(y=y.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var N=e,w=a;switch(g=t,v=n,w.tag){case 1:if(N=w.payload,typeof N=="function"){p=N.call(v,p,g);break e}p=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=w.payload,g=typeof N=="function"?N.call(v,p,g):N,g==null)break e;p=Ce({},p,g);break e;case 2:pn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,g=l.effects,g===null?l.effects=[a]:g.push(a))}else v={eventTime:v,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},y===null?(m=y=v,u=p):y=y.next=v,o|=g;if(a=a.next,a===null){if(a=l.shared.pending,a===null)break;g=a,a=g.next,g.next=null,l.lastBaseUpdate=g,l.shared.pending=null}}while(!0);if(y===null&&(u=p),l.baseState=u,l.firstBaseUpdate=m,l.lastBaseUpdate=y,t=l.shared.interleaved,t!==null){l=t;do o|=l.lane,l=l.next;while(l!==t)}else i===null&&(l.shared.lanes=0);Gn|=o,e.lanes=o,e.memoizedState=p}}function iu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=n,typeof l!="function")throw Error(z(191,l));l.call(s)}}}var Ms={},Vt=Pn(Ms),js=Pn(Ms),bs=Pn(Ms);function Un(e){if(e===Ms)throw Error(z(174));return e}function ea(e,t){switch(ve(bs,t),ve(js,e),ve(Vt,Ms),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ii(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ii(t,e)}be(Vt),ve(Vt,t)}function Tr(){be(Vt),be(js),be(bs)}function sd(e){Un(bs.current);var t=Un(Vt.current),n=Ii(t,e.type);t!==n&&(ve(js,e),ve(Vt,n))}function ta(e){js.current===e&&(be(Vt),be(js))}var ke=Pn(0);function _l(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gi=[];function na(){for(var e=0;e<gi.length;e++)gi[e]._workInProgressVersionPrimary=null;gi.length=0}var sl=an.ReactCurrentDispatcher,vi=an.ReactCurrentBatchConfig,Yn=0,Se=null,Oe=null,Be=null,Ll=!1,is=!1,Ns=0,nf=0;function Qe(){throw Error(z(321))}function ra(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!zt(e[n],t[n]))return!1;return!0}function sa(e,t,n,s,l,i){if(Yn=i,Se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,sl.current=e===null||e.memoizedState===null?of:af,e=n(s,l),is){i=0;do{if(is=!1,Ns=0,25<=i)throw Error(z(301));i+=1,Be=Oe=null,t.updateQueue=null,sl.current=uf,e=n(s,l)}while(is)}if(sl.current=El,t=Oe!==null&&Oe.next!==null,Yn=0,Be=Oe=Se=null,Ll=!1,t)throw Error(z(300));return e}function la(){var e=Ns!==0;return Ns=0,e}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Se.memoizedState=Be=e:Be=Be.next=e,Be}function jt(){if(Oe===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var t=Be===null?Se.memoizedState:Be.next;if(t!==null)Be=t,Oe=e;else{if(e===null)throw Error(z(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},Be===null?Se.memoizedState=Be=e:Be=Be.next=e}return Be}function ks(e,t){return typeof t=="function"?t(e):t}function wi(e){var t=jt(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var s=Oe,l=s.baseQueue,i=n.pending;if(i!==null){if(l!==null){var o=l.next;l.next=i.next,i.next=o}s.baseQueue=l=i,n.pending=null}if(l!==null){i=l.next,s=s.baseState;var a=o=null,u=null,m=i;do{var y=m.lane;if((Yn&y)===y)u!==null&&(u=u.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),s=m.hasEagerState?m.eagerState:e(s,m.action);else{var p={lane:y,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};u===null?(a=u=p,o=s):u=u.next=p,Se.lanes|=y,Gn|=y}m=m.next}while(m!==null&&m!==i);u===null?o=s:u.next=a,zt(s,t.memoizedState)||(rt=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=u,n.lastRenderedState=s}if(e=n.interleaved,e!==null){l=e;do i=l.lane,Se.lanes|=i,Gn|=i,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function yi(e){var t=jt(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var s=n.dispatch,l=n.pending,i=t.memoizedState;if(l!==null){n.pending=null;var o=l=l.next;do i=e(i,o.action),o=o.next;while(o!==l);zt(i,t.memoizedState)||(rt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,s]}function ld(){}function id(e,t){var n=Se,s=jt(),l=t(),i=!zt(s.memoizedState,l);if(i&&(s.memoizedState=l,rt=!0),s=s.queue,ia(ud.bind(null,n,s,e),[e]),s.getSnapshot!==t||i||Be!==null&&Be.memoizedState.tag&1){if(n.flags|=2048,Ss(9,ad.bind(null,n,s,l,t),void 0,null),$e===null)throw Error(z(349));Yn&30||od(n,t,l)}return l}function od(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ad(e,t,n,s){t.value=n,t.getSnapshot=s,cd(t)&&dd(e)}function ud(e,t,n){return n(function(){cd(t)&&dd(e)})}function cd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!zt(e,n)}catch{return!0}}function dd(e){var t=ln(e,1);t!==null&&Mt(t,e,1,-1)}function ou(e){var t=Wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:e},t.queue=e,e=e.dispatch=lf.bind(null,Se,e),[t.memoizedState,e]}function Ss(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function hd(){return jt().memoizedState}function ll(e,t,n,s){var l=Wt();Se.flags|=e,l.memoizedState=Ss(1|t,n,void 0,s===void 0?null:s)}function Fl(e,t,n,s){var l=jt();s=s===void 0?null:s;var i=void 0;if(Oe!==null){var o=Oe.memoizedState;if(i=o.destroy,s!==null&&ra(s,o.deps)){l.memoizedState=Ss(t,n,i,s);return}}Se.flags|=e,l.memoizedState=Ss(1|t,n,i,s)}function au(e,t){return ll(8390656,8,e,t)}function ia(e,t){return Fl(2048,8,e,t)}function fd(e,t){return Fl(4,2,e,t)}function md(e,t){return Fl(4,4,e,t)}function xd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pd(e,t,n){return n=n!=null?n.concat([e]):null,Fl(4,4,xd.bind(null,t,e),n)}function oa(){}function gd(e,t){var n=jt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&ra(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function vd(e,t){var n=jt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&ra(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function wd(e,t,n){return Yn&21?(zt(n,t)||(n=kc(),Se.lanes|=n,Gn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,rt=!0),e.memoizedState=n)}function rf(e,t){var n=he;he=n!==0&&4>n?n:4,e(!0);var s=vi.transition;vi.transition={};try{e(!1),t()}finally{he=n,vi.transition=s}}function yd(){return jt().memoizedState}function sf(e,t,n){var s=Ln(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},jd(e))bd(t,n);else if(n=nd(e,t,n,s),n!==null){var l=qe();Mt(n,e,s,l),Nd(n,t,s)}}function lf(e,t,n){var s=Ln(e),l={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(jd(e))bd(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(l.hasEagerState=!0,l.eagerState=a,zt(a,o)){var u=t.interleaved;u===null?(l.next=l,Zo(t)):(l.next=u.next,u.next=l),t.interleaved=l;return}}catch{}finally{}n=nd(e,t,l,s),n!==null&&(l=qe(),Mt(n,e,s,l),Nd(n,t,s))}}function jd(e){var t=e.alternate;return e===Se||t!==null&&t===Se}function bd(e,t){is=Ll=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Nd(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Bo(e,n)}}var El={readContext:yt,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},of={readContext:yt,useCallback:function(e,t){return Wt().memoizedState=[e,t===void 0?null:t],e},useContext:yt,useEffect:au,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ll(4194308,4,xd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ll(4194308,4,e,t)},useInsertionEffect:function(e,t){return ll(4,2,e,t)},useMemo:function(e,t){var n=Wt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Wt();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=sf.bind(null,Se,e),[s.memoizedState,e]},useRef:function(e){var t=Wt();return e={current:e},t.memoizedState=e},useState:ou,useDebugValue:oa,useDeferredValue:function(e){return Wt().memoizedState=e},useTransition:function(){var e=ou(!1),t=e[0];return e=rf.bind(null,e[1]),Wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=Se,l=Wt();if(Ne){if(n===void 0)throw Error(z(407));n=n()}else{if(n=t(),$e===null)throw Error(z(349));Yn&30||od(s,t,n)}l.memoizedState=n;var i={value:n,getSnapshot:t};return l.queue=i,au(ud.bind(null,s,i,e),[e]),s.flags|=2048,Ss(9,ad.bind(null,s,i,n,t),void 0,null),n},useId:function(){var e=Wt(),t=$e.identifierPrefix;if(Ne){var n=tn,s=en;n=(s&~(1<<32-Tt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ns++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=nf++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},af={readContext:yt,useCallback:gd,useContext:yt,useEffect:ia,useImperativeHandle:pd,useInsertionEffect:fd,useLayoutEffect:md,useMemo:vd,useReducer:wi,useRef:hd,useState:function(){return wi(ks)},useDebugValue:oa,useDeferredValue:function(e){var t=jt();return wd(t,Oe.memoizedState,e)},useTransition:function(){var e=wi(ks)[0],t=jt().memoizedState;return[e,t]},useMutableSource:ld,useSyncExternalStore:id,useId:yd,unstable_isNewReconciler:!1},uf={readContext:yt,useCallback:gd,useContext:yt,useEffect:ia,useImperativeHandle:pd,useInsertionEffect:fd,useLayoutEffect:md,useMemo:vd,useReducer:yi,useRef:hd,useState:function(){return yi(ks)},useDebugValue:oa,useDeferredValue:function(e){var t=jt();return Oe===null?t.memoizedState=e:wd(t,Oe.memoizedState,e)},useTransition:function(){var e=yi(ks)[0],t=jt().memoizedState;return[e,t]},useMutableSource:ld,useSyncExternalStore:id,useId:yd,unstable_isNewReconciler:!1};function _t(e,t){if(e&&e.defaultProps){t=Ce({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function oo(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:Ce({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ul={isMounted:function(e){return(e=e._reactInternals)?qn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=qe(),l=Ln(e),i=nn(s,l);i.payload=t,n!=null&&(i.callback=n),t=Cn(e,i,l),t!==null&&(Mt(t,e,l,s),rl(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=qe(),l=Ln(e),i=nn(s,l);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Cn(e,i,l),t!==null&&(Mt(t,e,l,s),rl(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=qe(),s=Ln(e),l=nn(n,s);l.tag=2,t!=null&&(l.callback=t),t=Cn(e,l,s),t!==null&&(Mt(t,e,s,n),rl(t,e,s))}};function uu(e,t,n,s,l,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!gs(n,s)||!gs(l,i):!0}function kd(e,t,n){var s=!1,l=Mn,i=t.contextType;return typeof i=="object"&&i!==null?i=yt(i):(l=lt(t)?Kn:Ye.current,s=t.contextTypes,i=(s=s!=null)?_r(e,l):Mn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ul,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=i),t}function cu(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Ul.enqueueReplaceState(t,t.state,null)}function ao(e,t,n,s){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},qo(e);var i=t.contextType;typeof i=="object"&&i!==null?l.context=yt(i):(i=lt(t)?Kn:Ye.current,l.context=_r(e,i)),l.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(oo(e,t,i,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Ul.enqueueReplaceState(l,l.state,null),Cl(e,n,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Mr(e,t){try{var n="",s=t;do n+=D0(s),s=s.return;while(s);var l=n}catch(i){l=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:l,digest:null}}function ji(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var cf=typeof WeakMap=="function"?WeakMap:Map;function Sd(e,t,n){n=nn(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Ml||(Ml=!0,yo=s),uo(e,t)},n}function Cd(e,t,n){n=nn(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;n.payload=function(){return s(l)},n.callback=function(){uo(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){uo(e,t),typeof s!="function"&&(_n===null?_n=new Set([this]):_n.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function du(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new cf;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(n)||(l.add(n),e=kf.bind(null,e,t,n),t.then(e,e))}function hu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fu(e,t,n,s,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=nn(-1,1),t.tag=2,Cn(n,t,1))),n.lanes|=1),e)}var df=an.ReactCurrentOwner,rt=!1;function Ze(e,t,n,s){t.child=e===null?td(t,null,n,s):Er(t,e.child,n,s)}function mu(e,t,n,s,l){n=n.render;var i=t.ref;return kr(t,l),s=sa(e,t,n,s,i,l),n=la(),e!==null&&!rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,on(e,t,l)):(Ne&&n&&Qo(t),t.flags|=1,Ze(e,t,s,l),t.child)}function xu(e,t,n,s,l){if(e===null){var i=n.type;return typeof i=="function"&&!xa(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,_d(e,t,i,s,l)):(e=ul(n.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&l)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:gs,n(o,s)&&e.ref===t.ref)return on(e,t,l)}return t.flags|=1,e=En(i,s),e.ref=t.ref,e.return=t,t.child=e}function _d(e,t,n,s,l){if(e!==null){var i=e.memoizedProps;if(gs(i,s)&&e.ref===t.ref)if(rt=!1,t.pendingProps=s=i,(e.lanes&l)!==0)e.flags&131072&&(rt=!0);else return t.lanes=e.lanes,on(e,t,l)}return co(e,t,n,s,l)}function Ld(e,t,n){var s=t.pendingProps,l=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(vr,at),at|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ve(vr,at),at|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,ve(vr,at),at|=s}else i!==null?(s=i.baseLanes|n,t.memoizedState=null):s=n,ve(vr,at),at|=s;return Ze(e,t,l,n),t.child}function Ed(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function co(e,t,n,s,l){var i=lt(n)?Kn:Ye.current;return i=_r(t,i),kr(t,l),n=sa(e,t,n,s,i,l),s=la(),e!==null&&!rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,on(e,t,l)):(Ne&&s&&Qo(t),t.flags|=1,Ze(e,t,n,l),t.child)}function pu(e,t,n,s,l){if(lt(n)){var i=!0;jl(t)}else i=!1;if(kr(t,l),t.stateNode===null)il(e,t),kd(t,n,s),ao(t,n,s,l),s=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,m=n.contextType;typeof m=="object"&&m!==null?m=yt(m):(m=lt(n)?Kn:Ye.current,m=_r(t,m));var y=n.getDerivedStateFromProps,p=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||u!==m)&&cu(t,o,s,m),pn=!1;var g=t.memoizedState;o.state=g,Cl(t,s,o,l),u=t.memoizedState,a!==s||g!==u||st.current||pn?(typeof y=="function"&&(oo(t,n,y,s),u=t.memoizedState),(a=pn||uu(t,n,a,s,g,u,m))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=u),o.props=s,o.state=u,o.context=m,s=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,rd(e,t),a=t.memoizedProps,m=t.type===t.elementType?a:_t(t.type,a),o.props=m,p=t.pendingProps,g=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=yt(u):(u=lt(n)?Kn:Ye.current,u=_r(t,u));var v=n.getDerivedStateFromProps;(y=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||g!==u)&&cu(t,o,s,u),pn=!1,g=t.memoizedState,o.state=g,Cl(t,s,o,l);var N=t.memoizedState;a!==p||g!==N||st.current||pn?(typeof v=="function"&&(oo(t,n,v,s),N=t.memoizedState),(m=pn||uu(t,n,m,s,g,N,u)||!1)?(y||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,N,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,N,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=N),o.props=s,o.state=N,o.context=u,s=m):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),s=!1)}return ho(e,t,n,s,i,l)}function ho(e,t,n,s,l,i){Ed(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return l&&tu(t,n,!1),on(e,t,i);s=t.stateNode,df.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=Er(t,e.child,null,i),t.child=Er(t,null,a,i)):Ze(e,t,a,i),t.memoizedState=s.state,l&&tu(t,n,!0),t.child}function Td(e){var t=e.stateNode;t.pendingContext?eu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&eu(e,t.context,!1),ea(e,t.containerInfo)}function gu(e,t,n,s,l){return Lr(),Jo(l),t.flags|=256,Ze(e,t,n,s),t.child}var fo={dehydrated:null,treeContext:null,retryLane:0};function mo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Md(e,t,n){var s=t.pendingProps,l=ke.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(l&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),ve(ke,l&1),e===null)return lo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ql(o,s,0,null),e=Hn(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=mo(n),t.memoizedState=fo,e):aa(t,o));if(l=e.memoizedState,l!==null&&(a=l.dehydrated,a!==null))return hf(e,t,o,s,a,l,n);if(i){i=s.fallback,o=t.mode,l=e.child,a=l.sibling;var u={mode:"hidden",children:s.children};return!(o&1)&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=u,t.deletions=null):(s=En(l,u),s.subtreeFlags=l.subtreeFlags&14680064),a!==null?i=En(a,i):(i=Hn(i,o,n,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?mo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=fo,s}return i=e.child,e=i.sibling,s=En(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function aa(e,t){return t=Ql({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Qs(e,t,n,s){return s!==null&&Jo(s),Er(t,e.child,null,n),e=aa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hf(e,t,n,s,l,i,o){if(n)return t.flags&256?(t.flags&=-257,s=ji(Error(z(422))),Qs(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,l=t.mode,s=Ql({mode:"visible",children:s.children},l,0,null),i=Hn(i,l,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&Er(t,e.child,null,o),t.child.memoizedState=mo(o),t.memoizedState=fo,i);if(!(t.mode&1))return Qs(e,t,o,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var a=s.dgst;return s=a,i=Error(z(419)),s=ji(i,s,void 0),Qs(e,t,o,s)}if(a=(o&e.childLanes)!==0,rt||a){if(s=$e,s!==null){switch(o&-o){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(s.suspendedLanes|o)?0:l,l!==0&&l!==i.retryLane&&(i.retryLane=l,ln(e,l),Mt(s,e,l,-1))}return ma(),s=ji(Error(z(421))),Qs(e,t,o,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Sf.bind(null,e),l._reactRetry=t,null):(e=i.treeContext,ut=Sn(l.nextSibling),ct=t,Ne=!0,Et=null,e!==null&&(pt[gt++]=en,pt[gt++]=tn,pt[gt++]=Jn,en=e.id,tn=e.overflow,Jn=t),t=aa(t,s.children),t.flags|=4096,t)}function vu(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),io(e.return,t,n)}function bi(e,t,n,s,l){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:l}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=l)}function zd(e,t,n){var s=t.pendingProps,l=s.revealOrder,i=s.tail;if(Ze(e,t,s.children,n),s=ke.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vu(e,n,t);else if(e.tag===19)vu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(ve(ke,s),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&_l(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),bi(t,!1,l,n,i);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&_l(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}bi(t,!0,n,null,i);break;case"together":bi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function il(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function on(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,n=En(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=En(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ff(e,t,n){switch(t.tag){case 3:Td(t),Lr();break;case 5:sd(t);break;case 1:lt(t.type)&&jl(t);break;case 4:ea(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;ve(kl,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(ve(ke,ke.current&1),t.flags|=128,null):n&t.child.childLanes?Md(e,t,n):(ve(ke,ke.current&1),e=on(e,t,n),e!==null?e.sibling:null);ve(ke,ke.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return zd(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ve(ke,ke.current),s)break;return null;case 22:case 23:return t.lanes=0,Ld(e,t,n)}return on(e,t,n)}var Pd,xo,Od,Rd;Pd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xo=function(){};Od=function(e,t,n,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,Un(Vt.current);var i=null;switch(n){case"input":l=Di(e,l),s=Di(e,s),i=[];break;case"select":l=Ce({},l,{value:void 0}),s=Ce({},s,{value:void 0}),i=[];break;case"textarea":l=$i(e,l),s=$i(e,s),i=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=wl)}Wi(n,s);var o;n=null;for(m in l)if(!s.hasOwnProperty(m)&&l.hasOwnProperty(m)&&l[m]!=null)if(m==="style"){var a=l[m];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(cs.hasOwnProperty(m)?i||(i=[]):(i=i||[]).push(m,null));for(m in s){var u=s[m];if(a=l!=null?l[m]:void 0,s.hasOwnProperty(m)&&u!==a&&(u!=null||a!=null))if(m==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(m,n)),n=u;else m==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(m,u)):m==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(m,""+u):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(cs.hasOwnProperty(m)?(u!=null&&m==="onScroll"&&je("scroll",e),i||a===u||(i=[])):(i=i||[]).push(m,u))}n&&(i=i||[]).push("style",n);var m=i;(t.updateQueue=m)&&(t.flags|=4)}};Rd=function(e,t,n,s){n!==s&&(t.flags|=4)};function Qr(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function mf(e,t,n){var s=t.pendingProps;switch(Ko(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return lt(t.type)&&yl(),Ke(t),null;case 3:return s=t.stateNode,Tr(),be(st),be(Ye),na(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Vs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Et!==null&&(No(Et),Et=null))),xo(e,t),Ke(t),null;case 5:ta(t);var l=Un(bs.current);if(n=t.type,e!==null&&t.stateNode!=null)Od(e,t,n,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(z(166));return Ke(t),null}if(e=Un(Vt.current),Vs(t)){s=t.stateNode,n=t.type;var i=t.memoizedProps;switch(s[Ft]=t,s[ys]=i,e=(t.mode&1)!==0,n){case"dialog":je("cancel",s),je("close",s);break;case"iframe":case"object":case"embed":je("load",s);break;case"video":case"audio":for(l=0;l<es.length;l++)je(es[l],s);break;case"source":je("error",s);break;case"img":case"image":case"link":je("error",s),je("load",s);break;case"details":je("toggle",s);break;case"input":_a(s,i),je("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},je("invalid",s);break;case"textarea":Ea(s,i),je("invalid",s)}Wi(n,i),l=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?s.textContent!==a&&(i.suppressHydrationWarning!==!0&&Us(s.textContent,a,e),l=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Us(s.textContent,a,e),l=["children",""+a]):cs.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&je("scroll",s)}switch(n){case"input":Rs(s),La(s,i,!0);break;case"textarea":Rs(s),Ta(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=wl)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=uc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[Ft]=t,e[ys]=s,Pd(e,t,!1,!1),t.stateNode=e;e:{switch(o=Fi(n,s),n){case"dialog":je("cancel",e),je("close",e),l=s;break;case"iframe":case"object":case"embed":je("load",e),l=s;break;case"video":case"audio":for(l=0;l<es.length;l++)je(es[l],e);l=s;break;case"source":je("error",e),l=s;break;case"img":case"image":case"link":je("error",e),je("load",e),l=s;break;case"details":je("toggle",e),l=s;break;case"input":_a(e,s),l=Di(e,s),je("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=Ce({},s,{value:void 0}),je("invalid",e);break;case"textarea":Ea(e,s),l=$i(e,s),je("invalid",e);break;default:l=s}Wi(n,l),a=l;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?hc(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&cc(e,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ds(e,u):typeof u=="number"&&ds(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(cs.hasOwnProperty(i)?u!=null&&i==="onScroll"&&je("scroll",e):u!=null&&zo(e,i,u,o))}switch(n){case"input":Rs(e),La(e,s,!1);break;case"textarea":Rs(e),Ta(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Tn(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?yr(e,!!s.multiple,i,!1):s.defaultValue!=null&&yr(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=wl)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ke(t),null;case 6:if(e&&t.stateNode!=null)Rd(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(z(166));if(n=Un(bs.current),Un(Vt.current),Vs(t)){if(s=t.stateNode,n=t.memoizedProps,s[Ft]=t,(i=s.nodeValue!==n)&&(e=ct,e!==null))switch(e.tag){case 3:Us(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Us(s.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Ft]=t,t.stateNode=s}return Ke(t),null;case 13:if(be(ke),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&ut!==null&&t.mode&1&&!(t.flags&128))qc(),Lr(),t.flags|=98560,i=!1;else if(i=Vs(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(z(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[Ft]=t}else Lr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ke(t),i=!1}else Et!==null&&(No(Et),Et=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||ke.current&1?Re===0&&(Re=3):ma())),t.updateQueue!==null&&(t.flags|=4),Ke(t),null);case 4:return Tr(),xo(e,t),e===null&&vs(t.stateNode.containerInfo),Ke(t),null;case 10:return Xo(t.type._context),Ke(t),null;case 17:return lt(t.type)&&yl(),Ke(t),null;case 19:if(be(ke),i=t.memoizedState,i===null)return Ke(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)Qr(i,!1);else{if(Re!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=_l(e),o!==null){for(t.flags|=128,Qr(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)i=n,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ve(ke,ke.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ee()>zr&&(t.flags|=128,s=!0,Qr(i,!1),t.lanes=4194304)}else{if(!s)if(e=_l(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Qr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ne)return Ke(t),null}else 2*Ee()-i.renderingStartTime>zr&&n!==1073741824&&(t.flags|=128,s=!0,Qr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ee(),t.sibling=null,n=ke.current,ve(ke,s?n&1|2:n&1),t):(Ke(t),null);case 22:case 23:return fa(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?at&1073741824&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),null;case 24:return null;case 25:return null}throw Error(z(156,t.tag))}function xf(e,t){switch(Ko(t),t.tag){case 1:return lt(t.type)&&yl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Tr(),be(st),be(Ye),na(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ta(t),null;case 13:if(be(ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));Lr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return be(ke),null;case 4:return Tr(),null;case 10:return Xo(t.type._context),null;case 22:case 23:return fa(),null;case 24:return null;default:return null}}var Ks=!1,Je=!1,pf=typeof WeakSet=="function"?WeakSet:Set,$=null;function gr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Le(e,t,s)}else n.current=null}function po(e,t,n){try{n()}catch(s){Le(e,t,s)}}var wu=!1;function gf(e,t){if(Zi=pl,e=Ic(),Ho(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var l=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,m=0,y=0,p=e,g=null;t:for(;;){for(var v;p!==n||l!==0&&p.nodeType!==3||(a=o+l),p!==i||s!==0&&p.nodeType!==3||(u=o+s),p.nodeType===3&&(o+=p.nodeValue.length),(v=p.firstChild)!==null;)g=p,p=v;for(;;){if(p===e)break t;if(g===n&&++m===l&&(a=o),g===i&&++y===s&&(u=o),(v=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=v}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(qi={focusedElem:e,selectionRange:n},pl=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var w=N.memoizedProps,P=N.memoizedState,f=t.stateNode,c=f.getSnapshotBeforeUpdate(t.elementType===t.type?w:_t(t.type,w),P);f.__reactInternalSnapshotBeforeUpdate=c}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(k){Le(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return N=wu,wu=!1,N}function os(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var i=l.destroy;l.destroy=void 0,i!==void 0&&po(t,n,i)}l=l.next}while(l!==s)}}function Vl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function go(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Dd(e){var t=e.alternate;t!==null&&(e.alternate=null,Dd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ft],delete t[ys],delete t[no],delete t[Zh],delete t[qh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ad(e){return e.tag===5||e.tag===3||e.tag===4}function yu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ad(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vo(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=wl));else if(s!==4&&(e=e.child,e!==null))for(vo(e,t,n),e=e.sibling;e!==null;)vo(e,t,n),e=e.sibling}function wo(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(wo(e,t,n),e=e.sibling;e!==null;)wo(e,t,n),e=e.sibling}var Ue=null,Lt=!1;function fn(e,t,n){for(n=n.child;n!==null;)Bd(e,t,n),n=n.sibling}function Bd(e,t,n){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Dl,n)}catch{}switch(n.tag){case 5:Je||gr(n,t);case 6:var s=Ue,l=Lt;Ue=null,fn(e,t,n),Ue=s,Lt=l,Ue!==null&&(Lt?(e=Ue,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ue.removeChild(n.stateNode));break;case 18:Ue!==null&&(Lt?(e=Ue,n=n.stateNode,e.nodeType===8?xi(e.parentNode,n):e.nodeType===1&&xi(e,n),xs(e)):xi(Ue,n.stateNode));break;case 4:s=Ue,l=Lt,Ue=n.stateNode.containerInfo,Lt=!0,fn(e,t,n),Ue=s,Lt=l;break;case 0:case 11:case 14:case 15:if(!Je&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var i=l,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&po(n,t,o),l=l.next}while(l!==s)}fn(e,t,n);break;case 1:if(!Je&&(gr(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(a){Le(n,t,a)}fn(e,t,n);break;case 21:fn(e,t,n);break;case 22:n.mode&1?(Je=(s=Je)||n.memoizedState!==null,fn(e,t,n),Je=s):fn(e,t,n);break;default:fn(e,t,n)}}function ju(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new pf),t.forEach(function(s){var l=Cf.bind(null,e,s);n.has(s)||(n.add(s),s.then(l,l))})}}function St(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ue=a.stateNode,Lt=!1;break e;case 3:Ue=a.stateNode.containerInfo,Lt=!0;break e;case 4:Ue=a.stateNode.containerInfo,Lt=!0;break e}a=a.return}if(Ue===null)throw Error(z(160));Bd(i,o,l),Ue=null,Lt=!1;var u=l.alternate;u!==null&&(u.return=null),l.return=null}catch(m){Le(l,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)$d(t,e),t=t.sibling}function $d(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(St(t,e),It(e),s&4){try{os(3,e,e.return),Vl(3,e)}catch(w){Le(e,e.return,w)}try{os(5,e,e.return)}catch(w){Le(e,e.return,w)}}break;case 1:St(t,e),It(e),s&512&&n!==null&&gr(n,n.return);break;case 5:if(St(t,e),It(e),s&512&&n!==null&&gr(n,n.return),e.flags&32){var l=e.stateNode;try{ds(l,"")}catch(w){Le(e,e.return,w)}}if(s&4&&(l=e.stateNode,l!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&oc(l,i),Fi(a,o);var m=Fi(a,i);for(o=0;o<u.length;o+=2){var y=u[o],p=u[o+1];y==="style"?hc(l,p):y==="dangerouslySetInnerHTML"?cc(l,p):y==="children"?ds(l,p):zo(l,y,p,m)}switch(a){case"input":Ai(l,i);break;case"textarea":ac(l,i);break;case"select":var g=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?yr(l,!!i.multiple,v,!1):g!==!!i.multiple&&(i.defaultValue!=null?yr(l,!!i.multiple,i.defaultValue,!0):yr(l,!!i.multiple,i.multiple?[]:"",!1))}l[ys]=i}catch(w){Le(e,e.return,w)}}break;case 6:if(St(t,e),It(e),s&4){if(e.stateNode===null)throw Error(z(162));l=e.stateNode,i=e.memoizedProps;try{l.nodeValue=i}catch(w){Le(e,e.return,w)}}break;case 3:if(St(t,e),It(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{xs(t.containerInfo)}catch(w){Le(e,e.return,w)}break;case 4:St(t,e),It(e);break;case 13:St(t,e),It(e),l=e.child,l.flags&8192&&(i=l.memoizedState!==null,l.stateNode.isHidden=i,!i||l.alternate!==null&&l.alternate.memoizedState!==null||(da=Ee())),s&4&&ju(e);break;case 22:if(y=n!==null&&n.memoizedState!==null,e.mode&1?(Je=(m=Je)||y,St(t,e),Je=m):St(t,e),It(e),s&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!y&&e.mode&1)for($=e,y=e.child;y!==null;){for(p=$=y;$!==null;){switch(g=$,v=g.child,g.tag){case 0:case 11:case 14:case 15:os(4,g,g.return);break;case 1:gr(g,g.return);var N=g.stateNode;if(typeof N.componentWillUnmount=="function"){s=g,n=g.return;try{t=s,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(w){Le(s,n,w)}}break;case 5:gr(g,g.return);break;case 22:if(g.memoizedState!==null){Nu(p);continue}}v!==null?(v.return=g,$=v):Nu(p)}y=y.sibling}e:for(y=null,p=e;;){if(p.tag===5){if(y===null){y=p;try{l=p.stateNode,m?(i=l.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=dc("display",o))}catch(w){Le(e,e.return,w)}}}else if(p.tag===6){if(y===null)try{p.stateNode.nodeValue=m?"":p.memoizedProps}catch(w){Le(e,e.return,w)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;y===p&&(y=null),p=p.return}y===p&&(y=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:St(t,e),It(e),s&4&&ju(e);break;case 21:break;default:St(t,e),It(e)}}function It(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ad(n)){var s=n;break e}n=n.return}throw Error(z(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(ds(l,""),s.flags&=-33);var i=yu(e);wo(e,i,l);break;case 3:case 4:var o=s.stateNode.containerInfo,a=yu(e);vo(e,a,o);break;default:throw Error(z(161))}}catch(u){Le(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function vf(e,t,n){$=e,Id(e)}function Id(e,t,n){for(var s=(e.mode&1)!==0;$!==null;){var l=$,i=l.child;if(l.tag===22&&s){var o=l.memoizedState!==null||Ks;if(!o){var a=l.alternate,u=a!==null&&a.memoizedState!==null||Je;a=Ks;var m=Je;if(Ks=o,(Je=u)&&!m)for($=l;$!==null;)o=$,u=o.child,o.tag===22&&o.memoizedState!==null?ku(l):u!==null?(u.return=o,$=u):ku(l);for(;i!==null;)$=i,Id(i),i=i.sibling;$=l,Ks=a,Je=m}bu(e)}else l.subtreeFlags&8772&&i!==null?(i.return=l,$=i):bu(e)}}function bu(e){for(;$!==null;){var t=$;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Je||Vl(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Je)if(n===null)s.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:_t(t.type,n.memoizedProps);s.componentDidUpdate(l,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&iu(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}iu(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var y=m.memoizedState;if(y!==null){var p=y.dehydrated;p!==null&&xs(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Je||t.flags&512&&go(t)}catch(g){Le(t,t.return,g)}}if(t===e){$=null;break}if(n=t.sibling,n!==null){n.return=t.return,$=n;break}$=t.return}}function Nu(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$=n;break}$=t.return}}function ku(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Vl(4,t)}catch(u){Le(t,n,u)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(u){Le(t,l,u)}}var i=t.return;try{go(t)}catch(u){Le(t,i,u)}break;case 5:var o=t.return;try{go(t)}catch(u){Le(t,o,u)}}}catch(u){Le(t,t.return,u)}if(t===e){$=null;break}var a=t.sibling;if(a!==null){a.return=t.return,$=a;break}$=t.return}}var wf=Math.ceil,Tl=an.ReactCurrentDispatcher,ua=an.ReactCurrentOwner,wt=an.ReactCurrentBatchConfig,de=0,$e=null,ze=null,Ve=0,at=0,vr=Pn(0),Re=0,Cs=null,Gn=0,Hl=0,ca=0,as=null,nt=null,da=0,zr=1/0,Zt=null,Ml=!1,yo=null,_n=null,Js=!1,jn=null,zl=0,us=0,jo=null,ol=-1,al=0;function qe(){return de&6?Ee():ol!==-1?ol:ol=Ee()}function Ln(e){return e.mode&1?de&2&&Ve!==0?Ve&-Ve:tf.transition!==null?(al===0&&(al=kc()),al):(e=he,e!==0||(e=window.event,e=e===void 0?16:Mc(e.type)),e):1}function Mt(e,t,n,s){if(50<us)throw us=0,jo=null,Error(z(185));Ls(e,n,s),(!(de&2)||e!==$e)&&(e===$e&&(!(de&2)&&(Hl|=n),Re===4&&vn(e,Ve)),it(e,s),n===1&&de===0&&!(t.mode&1)&&(zr=Ee()+500,Wl&&On()))}function it(e,t){var n=e.callbackNode;th(e,t);var s=xl(e,e===$e?Ve:0);if(s===0)n!==null&&Pa(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Pa(n),t===1)e.tag===0?ef(Su.bind(null,e)):Gc(Su.bind(null,e)),Gh(function(){!(de&6)&&On()}),n=null;else{switch(Sc(s)){case 1:n=Ao;break;case 4:n=bc;break;case 16:n=ml;break;case 536870912:n=Nc;break;default:n=ml}n=Jd(n,Wd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Wd(e,t){if(ol=-1,al=0,de&6)throw Error(z(327));var n=e.callbackNode;if(Sr()&&e.callbackNode!==n)return null;var s=xl(e,e===$e?Ve:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Pl(e,s);else{t=s;var l=de;de|=2;var i=Ud();($e!==e||Ve!==t)&&(Zt=null,zr=Ee()+500,Vn(e,t));do try{bf();break}catch(a){Fd(e,a)}while(!0);Go(),Tl.current=i,de=l,ze!==null?t=0:($e=null,Ve=0,t=Re)}if(t!==0){if(t===2&&(l=Ki(e),l!==0&&(s=l,t=bo(e,l))),t===1)throw n=Cs,Vn(e,0),vn(e,s),it(e,Ee()),n;if(t===6)vn(e,s);else{if(l=e.current.alternate,!(s&30)&&!yf(l)&&(t=Pl(e,s),t===2&&(i=Ki(e),i!==0&&(s=i,t=bo(e,i))),t===1))throw n=Cs,Vn(e,0),vn(e,s),it(e,Ee()),n;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error(z(345));case 2:In(e,nt,Zt);break;case 3:if(vn(e,s),(s&130023424)===s&&(t=da+500-Ee(),10<t)){if(xl(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){qe(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=to(In.bind(null,e,nt,Zt),t);break}In(e,nt,Zt);break;case 4:if(vn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var o=31-Tt(s);i=1<<o,o=t[o],o>l&&(l=o),s&=~i}if(s=l,s=Ee()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*wf(s/1960))-s,10<s){e.timeoutHandle=to(In.bind(null,e,nt,Zt),s);break}In(e,nt,Zt);break;case 5:In(e,nt,Zt);break;default:throw Error(z(329))}}}return it(e,Ee()),e.callbackNode===n?Wd.bind(null,e):null}function bo(e,t){var n=as;return e.current.memoizedState.isDehydrated&&(Vn(e,t).flags|=256),e=Pl(e,t),e!==2&&(t=nt,nt=n,t!==null&&No(t)),e}function No(e){nt===null?nt=e:nt.push.apply(nt,e)}function yf(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var l=n[s],i=l.getSnapshot;l=l.value;try{if(!zt(i(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vn(e,t){for(t&=~ca,t&=~Hl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Tt(t),s=1<<n;e[n]=-1,t&=~s}}function Su(e){if(de&6)throw Error(z(327));Sr();var t=xl(e,0);if(!(t&1))return it(e,Ee()),null;var n=Pl(e,t);if(e.tag!==0&&n===2){var s=Ki(e);s!==0&&(t=s,n=bo(e,s))}if(n===1)throw n=Cs,Vn(e,0),vn(e,t),it(e,Ee()),n;if(n===6)throw Error(z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,In(e,nt,Zt),it(e,Ee()),null}function ha(e,t){var n=de;de|=1;try{return e(t)}finally{de=n,de===0&&(zr=Ee()+500,Wl&&On())}}function Xn(e){jn!==null&&jn.tag===0&&!(de&6)&&Sr();var t=de;de|=1;var n=wt.transition,s=he;try{if(wt.transition=null,he=1,e)return e()}finally{he=s,wt.transition=n,de=t,!(de&6)&&On()}}function fa(){at=vr.current,be(vr)}function Vn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Yh(n)),ze!==null)for(n=ze.return;n!==null;){var s=n;switch(Ko(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&yl();break;case 3:Tr(),be(st),be(Ye),na();break;case 5:ta(s);break;case 4:Tr();break;case 13:be(ke);break;case 19:be(ke);break;case 10:Xo(s.type._context);break;case 22:case 23:fa()}n=n.return}if($e=e,ze=e=En(e.current,null),Ve=at=t,Re=0,Cs=null,ca=Hl=Gn=0,nt=as=null,Fn!==null){for(t=0;t<Fn.length;t++)if(n=Fn[t],s=n.interleaved,s!==null){n.interleaved=null;var l=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=l,s.next=o}n.pending=s}Fn=null}return e}function Fd(e,t){do{var n=ze;try{if(Go(),sl.current=El,Ll){for(var s=Se.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}Ll=!1}if(Yn=0,Be=Oe=Se=null,is=!1,Ns=0,ua.current=null,n===null||n.return===null){Re=1,Cs=t,ze=null;break}e:{var i=e,o=n.return,a=n,u=t;if(t=Ve,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var m=u,y=a,p=y.tag;if(!(y.mode&1)&&(p===0||p===11||p===15)){var g=y.alternate;g?(y.updateQueue=g.updateQueue,y.memoizedState=g.memoizedState,y.lanes=g.lanes):(y.updateQueue=null,y.memoizedState=null)}var v=hu(o);if(v!==null){v.flags&=-257,fu(v,o,a,i,t),v.mode&1&&du(i,m,t),t=v,u=m;var N=t.updateQueue;if(N===null){var w=new Set;w.add(u),t.updateQueue=w}else N.add(u);break e}else{if(!(t&1)){du(i,m,t),ma();break e}u=Error(z(426))}}else if(Ne&&a.mode&1){var P=hu(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),fu(P,o,a,i,t),Jo(Mr(u,a));break e}}i=u=Mr(u,a),Re!==4&&(Re=2),as===null?as=[i]:as.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var f=Sd(i,u,t);lu(i,f);break e;case 1:a=u;var c=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof c.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(_n===null||!_n.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=Cd(i,a,t);lu(i,k);break e}}i=i.return}while(i!==null)}Hd(n)}catch(T){t=T,ze===n&&n!==null&&(ze=n=n.return);continue}break}while(!0)}function Ud(){var e=Tl.current;return Tl.current=El,e===null?El:e}function ma(){(Re===0||Re===3||Re===2)&&(Re=4),$e===null||!(Gn&268435455)&&!(Hl&268435455)||vn($e,Ve)}function Pl(e,t){var n=de;de|=2;var s=Ud();($e!==e||Ve!==t)&&(Zt=null,Vn(e,t));do try{jf();break}catch(l){Fd(e,l)}while(!0);if(Go(),de=n,Tl.current=s,ze!==null)throw Error(z(261));return $e=null,Ve=0,Re}function jf(){for(;ze!==null;)Vd(ze)}function bf(){for(;ze!==null&&!Q0();)Vd(ze)}function Vd(e){var t=Kd(e.alternate,e,at);e.memoizedProps=e.pendingProps,t===null?Hd(e):ze=t,ua.current=null}function Hd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=xf(n,t),n!==null){n.flags&=32767,ze=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Re=6,ze=null;return}}else if(n=mf(n,t,at),n!==null){ze=n;return}if(t=t.sibling,t!==null){ze=t;return}ze=t=e}while(t!==null);Re===0&&(Re=5)}function In(e,t,n){var s=he,l=wt.transition;try{wt.transition=null,he=1,Nf(e,t,n,s)}finally{wt.transition=l,he=s}return null}function Nf(e,t,n,s){do Sr();while(jn!==null);if(de&6)throw Error(z(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(z(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(nh(e,i),e===$e&&(ze=$e=null,Ve=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Js||(Js=!0,Jd(ml,function(){return Sr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=wt.transition,wt.transition=null;var o=he;he=1;var a=de;de|=4,ua.current=null,gf(e,n),$d(n,e),Fh(qi),pl=!!Zi,qi=Zi=null,e.current=n,vf(n),K0(),de=a,he=o,wt.transition=i}else e.current=n;if(Js&&(Js=!1,jn=e,zl=l),i=e.pendingLanes,i===0&&(_n=null),G0(n.stateNode),it(e,Ee()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],s(l.value,{componentStack:l.stack,digest:l.digest});if(Ml)throw Ml=!1,e=yo,yo=null,e;return zl&1&&e.tag!==0&&Sr(),i=e.pendingLanes,i&1?e===jo?us++:(us=0,jo=e):us=0,On(),null}function Sr(){if(jn!==null){var e=Sc(zl),t=wt.transition,n=he;try{if(wt.transition=null,he=16>e?16:e,jn===null)var s=!1;else{if(e=jn,jn=null,zl=0,de&6)throw Error(z(331));var l=de;for(de|=4,$=e.current;$!==null;){var i=$,o=i.child;if($.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var m=a[u];for($=m;$!==null;){var y=$;switch(y.tag){case 0:case 11:case 15:os(8,y,i)}var p=y.child;if(p!==null)p.return=y,$=p;else for(;$!==null;){y=$;var g=y.sibling,v=y.return;if(Dd(y),y===m){$=null;break}if(g!==null){g.return=v,$=g;break}$=v}}}var N=i.alternate;if(N!==null){var w=N.child;if(w!==null){N.child=null;do{var P=w.sibling;w.sibling=null,w=P}while(w!==null)}}$=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,$=o;else e:for(;$!==null;){if(i=$,i.flags&2048)switch(i.tag){case 0:case 11:case 15:os(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,$=f;break e}$=i.return}}var c=e.current;for($=c;$!==null;){o=$;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,$=x;else e:for(o=c;$!==null;){if(a=$,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Vl(9,a)}}catch(T){Le(a,a.return,T)}if(a===o){$=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,$=k;break e}$=a.return}}if(de=l,On(),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Dl,e)}catch{}s=!0}return s}finally{he=n,wt.transition=t}}return!1}function Cu(e,t,n){t=Mr(n,t),t=Sd(e,t,1),e=Cn(e,t,1),t=qe(),e!==null&&(Ls(e,1,t),it(e,t))}function Le(e,t,n){if(e.tag===3)Cu(e,e,n);else for(;t!==null;){if(t.tag===3){Cu(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(_n===null||!_n.has(s))){e=Mr(n,e),e=Cd(t,e,1),t=Cn(t,e,1),e=qe(),t!==null&&(Ls(t,1,e),it(t,e));break}}t=t.return}}function kf(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=qe(),e.pingedLanes|=e.suspendedLanes&n,$e===e&&(Ve&n)===n&&(Re===4||Re===3&&(Ve&130023424)===Ve&&500>Ee()-da?Vn(e,0):ca|=n),it(e,t)}function Qd(e,t){t===0&&(e.mode&1?(t=Bs,Bs<<=1,!(Bs&130023424)&&(Bs=4194304)):t=1);var n=qe();e=ln(e,t),e!==null&&(Ls(e,t,n),it(e,n))}function Sf(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Qd(e,n)}function Cf(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(z(314))}s!==null&&s.delete(t),Qd(e,n)}var Kd;Kd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||st.current)rt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return rt=!1,ff(e,t,n);rt=!!(e.flags&131072)}else rt=!1,Ne&&t.flags&1048576&&Xc(t,Nl,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;il(e,t),e=t.pendingProps;var l=_r(t,Ye.current);kr(t,n),l=sa(null,t,s,e,l,n);var i=la();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,lt(s)?(i=!0,jl(t)):i=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,qo(t),l.updater=Ul,t.stateNode=l,l._reactInternals=t,ao(t,s,e,n),t=ho(null,t,s,!0,i,n)):(t.tag=0,Ne&&i&&Qo(t),Ze(null,t,l,n),t=t.child),t;case 16:s=t.elementType;e:{switch(il(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=Lf(s),e=_t(s,e),l){case 0:t=co(null,t,s,e,n);break e;case 1:t=pu(null,t,s,e,n);break e;case 11:t=mu(null,t,s,e,n);break e;case 14:t=xu(null,t,s,_t(s.type,e),n);break e}throw Error(z(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:_t(s,l),co(e,t,s,l,n);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:_t(s,l),pu(e,t,s,l,n);case 3:e:{if(Td(t),e===null)throw Error(z(387));s=t.pendingProps,i=t.memoizedState,l=i.element,rd(e,t),Cl(t,s,null,n);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){l=Mr(Error(z(423)),t),t=gu(e,t,s,n,l);break e}else if(s!==l){l=Mr(Error(z(424)),t),t=gu(e,t,s,n,l);break e}else for(ut=Sn(t.stateNode.containerInfo.firstChild),ct=t,Ne=!0,Et=null,n=td(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Lr(),s===l){t=on(e,t,n);break e}Ze(e,t,s,n)}t=t.child}return t;case 5:return sd(t),e===null&&lo(t),s=t.type,l=t.pendingProps,i=e!==null?e.memoizedProps:null,o=l.children,eo(s,l)?o=null:i!==null&&eo(s,i)&&(t.flags|=32),Ed(e,t),Ze(e,t,o,n),t.child;case 6:return e===null&&lo(t),null;case 13:return Md(e,t,n);case 4:return ea(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Er(t,null,s,n):Ze(e,t,s,n),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:_t(s,l),mu(e,t,s,l,n);case 7:return Ze(e,t,t.pendingProps,n),t.child;case 8:return Ze(e,t,t.pendingProps.children,n),t.child;case 12:return Ze(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,i=t.memoizedProps,o=l.value,ve(kl,s._currentValue),s._currentValue=o,i!==null)if(zt(i.value,o)){if(i.children===l.children&&!st.current){t=on(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===s){if(i.tag===1){u=nn(-1,n&-n),u.tag=2;var m=i.updateQueue;if(m!==null){m=m.shared;var y=m.pending;y===null?u.next=u:(u.next=y.next,y.next=u),m.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),io(i.return,n,t),a.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),io(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ze(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,kr(t,n),l=yt(l),s=s(l),t.flags|=1,Ze(e,t,s,n),t.child;case 14:return s=t.type,l=_t(s,t.pendingProps),l=_t(s.type,l),xu(e,t,s,l,n);case 15:return _d(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:_t(s,l),il(e,t),t.tag=1,lt(s)?(e=!0,jl(t)):e=!1,kr(t,n),kd(t,s,l),ao(t,s,l,n),ho(null,t,s,!0,e,n);case 19:return zd(e,t,n);case 22:return Ld(e,t,n)}throw Error(z(156,t.tag))};function Jd(e,t){return jc(e,t)}function _f(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vt(e,t,n,s){return new _f(e,t,n,s)}function xa(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Lf(e){if(typeof e=="function")return xa(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Oo)return 11;if(e===Ro)return 14}return 2}function En(e,t){var n=e.alternate;return n===null?(n=vt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ul(e,t,n,s,l,i){var o=2;if(s=e,typeof e=="function")xa(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ar:return Hn(n.children,l,i,t);case Po:o=8,l|=8;break;case zi:return e=vt(12,n,t,l|2),e.elementType=zi,e.lanes=i,e;case Pi:return e=vt(13,n,t,l),e.elementType=Pi,e.lanes=i,e;case Oi:return e=vt(19,n,t,l),e.elementType=Oi,e.lanes=i,e;case sc:return Ql(n,l,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nc:o=10;break e;case rc:o=9;break e;case Oo:o=11;break e;case Ro:o=14;break e;case xn:o=16,s=null;break e}throw Error(z(130,e==null?e:typeof e,""))}return t=vt(o,n,t,l),t.elementType=e,t.type=s,t.lanes=i,t}function Hn(e,t,n,s){return e=vt(7,e,s,t),e.lanes=n,e}function Ql(e,t,n,s){return e=vt(22,e,s,t),e.elementType=sc,e.lanes=n,e.stateNode={isHidden:!1},e}function Ni(e,t,n){return e=vt(6,e,null,t),e.lanes=n,e}function ki(e,t,n){return t=vt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ef(e,t,n,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=si(0),this.expirationTimes=si(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function pa(e,t,n,s,l,i,o,a,u){return e=new Ef(e,t,n,a,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=vt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qo(i),e}function Tf(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:or,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Yd(e){if(!e)return Mn;e=e._reactInternals;e:{if(qn(e)!==e||e.tag!==1)throw Error(z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(z(171))}if(e.tag===1){var n=e.type;if(lt(n))return Yc(e,n,t)}return t}function Gd(e,t,n,s,l,i,o,a,u){return e=pa(n,s,!0,e,l,i,o,a,u),e.context=Yd(null),n=e.current,s=qe(),l=Ln(n),i=nn(s,l),i.callback=t??null,Cn(n,i,l),e.current.lanes=l,Ls(e,l,s),it(e,s),e}function Kl(e,t,n,s){var l=t.current,i=qe(),o=Ln(l);return n=Yd(n),t.context===null?t.context=n:t.pendingContext=n,t=nn(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Cn(l,t,o),e!==null&&(Mt(e,l,o,i),rl(e,l,o)),o}function Ol(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _u(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ga(e,t){_u(e,t),(e=e.alternate)&&_u(e,t)}function Mf(){return null}var Xd=typeof reportError=="function"?reportError:function(e){console.error(e)};function va(e){this._internalRoot=e}Jl.prototype.render=va.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));Kl(e,t,null,null)};Jl.prototype.unmount=va.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xn(function(){Kl(null,e,null,null)}),t[sn]=null}};function Jl(e){this._internalRoot=e}Jl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gn.length&&t!==0&&t<gn[n].priority;n++);gn.splice(n,0,e),n===0&&Tc(e)}};function wa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Yl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Lu(){}function zf(e,t,n,s,l){if(l){if(typeof s=="function"){var i=s;s=function(){var m=Ol(o);i.call(m)}}var o=Gd(t,s,e,0,null,!1,!1,"",Lu);return e._reactRootContainer=o,e[sn]=o.current,vs(e.nodeType===8?e.parentNode:e),Xn(),o}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var a=s;s=function(){var m=Ol(u);a.call(m)}}var u=pa(e,0,!1,null,null,!1,!1,"",Lu);return e._reactRootContainer=u,e[sn]=u.current,vs(e.nodeType===8?e.parentNode:e),Xn(function(){Kl(t,u,n,s)}),u}function Gl(e,t,n,s,l){var i=n._reactRootContainer;if(i){var o=i;if(typeof l=="function"){var a=l;l=function(){var u=Ol(o);a.call(u)}}Kl(t,o,e,l)}else o=zf(n,t,e,l,s);return Ol(o)}Cc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=qr(t.pendingLanes);n!==0&&(Bo(t,n|1),it(t,Ee()),!(de&6)&&(zr=Ee()+500,On()))}break;case 13:Xn(function(){var s=ln(e,1);if(s!==null){var l=qe();Mt(s,e,1,l)}}),ga(e,1)}};$o=function(e){if(e.tag===13){var t=ln(e,134217728);if(t!==null){var n=qe();Mt(t,e,134217728,n)}ga(e,134217728)}};_c=function(e){if(e.tag===13){var t=Ln(e),n=ln(e,t);if(n!==null){var s=qe();Mt(n,e,t,s)}ga(e,t)}};Lc=function(){return he};Ec=function(e,t){var n=he;try{return he=e,t()}finally{he=n}};Vi=function(e,t,n){switch(t){case"input":if(Ai(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var l=Il(s);if(!l)throw Error(z(90));ic(s),Ai(s,l)}}}break;case"textarea":ac(e,n);break;case"select":t=n.value,t!=null&&yr(e,!!n.multiple,t,!1)}};xc=ha;pc=Xn;var Pf={usingClientEntryPoint:!1,Events:[Ts,hr,Il,fc,mc,ha]},Kr={findFiberByHostInstance:Wn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Of={bundleType:Kr.bundleType,version:Kr.version,rendererPackageName:Kr.rendererPackageName,rendererConfig:Kr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:an.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=wc(e),e===null?null:e.stateNode},findFiberByHostInstance:Kr.findFiberByHostInstance||Mf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ys=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ys.isDisabled&&Ys.supportsFiber)try{Dl=Ys.inject(Of),Ut=Ys}catch{}}ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pf;ht.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wa(t))throw Error(z(200));return Tf(e,t,null,n)};ht.createRoot=function(e,t){if(!wa(e))throw Error(z(299));var n=!1,s="",l=Xd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=pa(e,1,!1,null,null,n,!1,s,l),e[sn]=t.current,vs(e.nodeType===8?e.parentNode:e),new va(t)};ht.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=wc(t),e=e===null?null:e.stateNode,e};ht.flushSync=function(e){return Xn(e)};ht.hydrate=function(e,t,n){if(!Yl(t))throw Error(z(200));return Gl(null,e,t,!0,n)};ht.hydrateRoot=function(e,t,n){if(!wa(e))throw Error(z(405));var s=n!=null&&n.hydratedSources||null,l=!1,i="",o=Xd;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Gd(t,null,e,1,n??null,l,!1,i,o),e[sn]=t.current,vs(e),s)for(e=0;e<s.length;e++)n=s[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Jl(t)};ht.render=function(e,t,n){if(!Yl(t))throw Error(z(200));return Gl(null,e,t,!1,n)};ht.unmountComponentAtNode=function(e){if(!Yl(e))throw Error(z(40));return e._reactRootContainer?(Xn(function(){Gl(null,null,e,!1,function(){e._reactRootContainer=null,e[sn]=null})}),!0):!1};ht.unstable_batchedUpdates=ha;ht.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Yl(n))throw Error(z(200));if(e==null||e._reactInternals===void 0)throw Error(z(38));return Gl(e,t,n,!1,s)};ht.version="18.3.1-next-f1338f8080-20240426";function Zd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Zd)}catch(e){console.error(e)}}Zd(),Zu.exports=ht;var Rf=Zu.exports,Eu=Rf;Ti.createRoot=Eu.createRoot,Ti.hydrateRoot=Eu.hydrateRoot;function qd(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(n=qd(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function wn(){for(var e,t,n=0,s="",l=arguments.length;n<l;n++)(e=arguments[n])&&(t=qd(e))&&(s&&(s+=" "),s+=t);return s}const Df={NEW:"bg-ocean-600/20 text-ocean-500 border-ocean-500/30",ACTIVE:"bg-white/10 text-white/80 border-white/10",CLOSED:"bg-white/5 text-white/50 border-white/10",ESCALATED:"bg-gold-500/20 text-gold-300 border-gold-500/30"},Af={NEW:"",ACTIVE:"",CLOSED:"",ESCALATED:" "},Si=e=>e==null?"":typeof e=="string"?e.replace(/<[^>]*>/g,""):String(e),Ci=(e,t=28)=>e?e.length>t?`${e.slice(0,t-1)}`:e:"",Bf=e=>{if(!e)return"";const t=new Date(e),n=new Date;return t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()&&t.getDate()===n.getDate()?t.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"}):t.toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})};function Tu({chats:e,selectedId:t,onSelect:n,hasMore:s=!1,loadingMore:l=!1,onLoadMore:i}){const o=d.useRef(null);return d.useEffect(()=>{if(!s||l||!i)return;const a=new IntersectionObserver(m=>{m[0].isIntersecting&&i()},{threshold:.1,rootMargin:"100px"}),u=o.current;return u&&a.observe(u),()=>{u&&a.unobserve(u)}},[s,l,i]),r.jsxs("div",{className:"flex flex-col gap-3",children:[e.map(a=>r.jsxs("button",{onClick:()=>n(a),className:wn("relative card text-left p-4 transition-all hover:-translate-y-0.5 hover:shadow-glow",t===a.id?"ring-1 ring-ocean-500/50 bg-ocean-600/10 shadow-glow":"bg-white/[0.03]"),children:[t===a.id&&r.jsx("span",{className:"absolute left-0 top-3 bottom-3 w-[3px] rounded-full bg-ocean-500"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm font-display font-semibold",children:[Ci(Si(a.first_name||""),22),r.jsx("span",{className:"text-white/50 ml-2",children:Ci(`@${Si(a.tg_username||"unknown")}`,18)})]}),a.unread_count>0&&r.jsx("span",{className:"text-xs bg-ocean-600 text-white px-2 py-0.5 rounded-full",children:a.unread_count})]}),r.jsx("div",{className:"mt-2 text-xs text-white/50 truncate",children:Ci(Si(a.last_message_preview||""),46)||""}),r.jsxs("div",{className:"mt-3 flex items-center justify-between gap-2 flex-wrap text-xs text-white/50",children:[r.jsx("span",{className:wn("px-2 py-0.5 rounded-full border whitespace-nowrap",Df[a.status]),children:Af[a.status]||a.status}),r.jsx("span",{children:Bf(a.last_message_at)})]})]},a.id)),s&&r.jsx("div",{ref:o,className:"py-4 flex justify-center",children:l?r.jsxs("div",{className:"flex items-center gap-2 text-white/40 text-xs",children:[r.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"..."]}):r.jsx("div",{className:"text-white/20 text-xs",children:"  "})})]})}const $f="",Mu=(e,t)=>{if(!e)return null;const n=`${e}|${t}`;return btoa(n)};let Qn=null;const If=e=>{Qn=e};let Jr=null;const ko=e=>{if(typeof document>"u")return null;const t=document.cookie.split(";").map(n=>n.trim()).find(n=>n.startsWith(`${e}=`));return t?decodeURIComponent(t.split("=")[1]):null},e0=async()=>Jr||(Jr=fetch("/api/auth/refresh",{method:"POST",credentials:"include"}).then(async e=>e.ok?"ok":null).finally(()=>{Jr=null}),Jr);async function J(e,t={}){const n=(t.method||"GET").toUpperCase(),s=async i=>{const o={"Content-Type":"application/json",...t.headers};if(n!=="GET"){const a=ko("csrf_token");a&&(o["X-CSRF-Token"]=a)}return fetch(`${$f}${e}`,{...t,headers:o,credentials:"include"})};let l=await s();if(l.status===401){const i=await l.clone().json().catch(()=>null);if((i==null?void 0:i.detail)==="stepup_required")throw new Error("stepup_required")}if(l.status===401&&await e0()&&(l=await s()),l.status===401)throw Qn==null||Qn(l.status),new Error("Unauthorized");if(l.status===403)throw new Error("Forbidden");if(!l.ok){const i=await l.json().catch(()=>({detail:l.statusText})),o=i==null?void 0:i.detail,a=typeof o=="object"&&(o!=null&&o.message)?o.message:typeof o=="string"?o:"Request failed";throw new Error(a)}return l.status===204?{}:await l.json()}const Q={getChats:async(e="active",t="",n,s,l=30)=>{const i=n?`&search_scope=${encodeURIComponent(n)}`:"",o=s?`&cursor=${encodeURIComponent(s)}`:"",a=await J(`/api/chats?tab=${e}&search=${encodeURIComponent(t)}${i}&limit=${l}${o}`),u=a[a.length-1],m=u&&a.length===l?Mu(u.last_message_at,u.id):null;return{items:a,nextCursor:m,hasMore:a.length===l}},getChat:e=>J(`/api/chats/${e}`),getMessages:async(e,t,n=50)=>{const s=t?`&cursor=${encodeURIComponent(t)}`:"",l=await J(`/api/chats/${e}/messages?limit=${n}${s}`),i=l[l.length-1],o=i&&l.length===n?Mu(i.created_at,i.id):null;return{items:l,nextCursor:o,hasMore:l.length===n}},sendMessage:(e,t)=>J(`/api/chats/${e}/messages`,{method:"POST",body:JSON.stringify(t)}),deleteMessage:(e,t)=>J(`/api/chats/${e}/messages/${t}`,{method:"DELETE"}),closeChat:e=>J(`/api/chats/${e}/close`,{method:"POST",body:JSON.stringify({})}),deleteChat:e=>J(`/api/chats/${e}`,{method:"DELETE"}),escalateChat:e=>J(`/api/chats/${e}/escalate`,{method:"POST",body:JSON.stringify({})}),assignChat:(e,t)=>J(`/api/chats/${e}/assign`,{method:"POST",body:JSON.stringify({user_id:t})}),updateChatNote:(e,t)=>J(`/api/chats/${e}/note`,{method:"PATCH",body:JSON.stringify({note:t})}),upload:async e=>{const t=new FormData;t.append("file",e);const n=ko("csrf_token");let s=await fetch("/api/uploads",{method:"POST",credentials:"include",headers:n?{"X-CSRF-Token":n}:void 0,body:t});if(s.status===401&&await e0()){const i=ko("csrf_token");s=await fetch("/api/uploads",{method:"POST",credentials:"include",headers:i?{"X-CSRF-Token":i}:void 0,body:t})}if(s.status===401)throw Qn==null||Qn(s.status),new Error("Unauthorized");if(s.status===403)throw new Error("Forbidden");if(!s.ok)throw new Error("Upload failed");return s.json()},getProfile:e=>J(`/api/external/solobot/profile/${e}`),deleteRemnawaveDevice:(e,t)=>J("/api/external/remnawave/devices/delete",{method:"POST",body:JSON.stringify({userUuid:e,hwid:t})}),listTemplates:()=>J("/api/templates"),createTemplate:e=>J("/api/templates",{method:"POST",body:JSON.stringify(e)}),updateTemplate:(e,t)=>J(`/api/templates/${e}`,{method:"PATCH",body:JSON.stringify(t)}),deleteTemplate:e=>J(`/api/templates/${e}`,{method:"DELETE"}),listBroadcasts:()=>J("/api/broadcast"),createBroadcast:e=>J("/api/broadcast",{method:"POST",body:JSON.stringify(e)}),listAdmins:()=>J("/api/admins"),createAdmin:e=>J("/api/admins",{method:"POST",body:JSON.stringify(e)}),updateAdmin:(e,t)=>J(`/api/admins/${e}`,{method:"PATCH",body:JSON.stringify(t)}),deleteAdmin:e=>J(`/api/admins/${e}`,{method:"DELETE"}),getPublicBranding:async()=>{const e=await fetch("/api/settings/public/branding");return e.ok?await e.json():{name:"Support Bot Console",description:"Premium support console"}},getPublicTelegramOAuth:async()=>{const e=await fetch("/api/settings/public/telegram-oauth");return e.ok?await e.json():{enabled:!1,bot_username:"",bot_id:""}},listSettings:()=>J("/api/settings"),upsertSetting:e=>J("/api/settings",{method:"POST",body:JSON.stringify(e)}),deleteSetting:e=>J(`/api/settings/${e}`,{method:"DELETE"}),me:async()=>{const e=await fetch("/api/auth/me",{credentials:"include"});if(!e.ok)throw new Error("Unauthorized");return await e.json()},telegramVerify:e=>J("/api/auth/telegram/verify",{method:"POST",body:JSON.stringify(e)}),totpStatus:e=>J("/api/auth/totp/status",{method:"POST",body:JSON.stringify({pending_login_id:e})}),tempPasswordVerify:(e,t)=>J("/api/auth/temp_password/verify",{method:"POST",body:JSON.stringify({pending_login_id:e,password:t})}),telegramBotId:()=>J("/api/auth/telegram/bot_id"),webauthnAuthOptions:e=>J("/api/auth/webauthn/auth/options",{method:"POST",body:JSON.stringify({pending_login_id:e})}),webauthnAuthVerify:(e,t)=>J("/api/auth/webauthn/auth/verify",{method:"POST",body:JSON.stringify({pending_login_id:e,credential:t})}),webauthnRegisterOptions:e=>J("/api/auth/webauthn/register/options",{method:"POST",body:e?JSON.stringify({pending_login_id:e}):"{}"}),webauthnRegisterVerify:(e,t)=>J("/api/auth/webauthn/register/verify",{method:"POST",body:JSON.stringify(e?{pending_login_id:e,credential:t}:{credential:t})}),webauthnDelete:e=>J(`/api/auth/webauthn/credential/${e}`,{method:"DELETE"}),totpVerify:(e,t)=>J("/api/auth/totp/verify",{method:"POST",body:JSON.stringify({pending_login_id:e,code:t})}),totpSetupStart:()=>J("/api/auth/totp/setup/start",{method:"POST",body:"{}"}),totpSetupVerify:e=>J("/api/auth/totp/setup/verify",{method:"POST",body:JSON.stringify({code:e})}),recoveryCodesGenerate:()=>J("/api/auth/recovery_codes/generate",{method:"POST",body:"{}"}),recoveryCodeVerify:(e,t)=>J("/api/auth/recovery_codes/verify",{method:"POST",body:JSON.stringify({pending_login_id:e,code:t})}),stepupWebauthnOptions:()=>J("/api/auth/stepup/webauthn/options",{method:"POST",body:"{}"}),stepupWebauthnVerify:e=>J("/api/auth/stepup/webauthn/verify",{method:"POST",body:JSON.stringify({credential:e})}),stepupTotpVerify:e=>J("/api/auth/stepup/totp/verify",{method:"POST",body:JSON.stringify({code:e})}),stepupTempPasswordVerify:e=>J("/api/auth/stepup/temp_password/verify",{method:"POST",body:JSON.stringify({code:e})}),securityStatus:()=>J("/api/auth/security/status",{method:"POST",body:"{}"}),logout:()=>J("/api/auth/logout",{method:"POST",body:"{}"}),logoutAll:()=>J("/api/auth/logout_all",{method:"POST",body:"{}"}),login:(e,t)=>J("/api/auth/login",{method:"POST",body:JSON.stringify({username:e,password:t})}),telegramOAuthLogin:e=>J("/api/auth/telegram/oauth",{method:"POST",body:JSON.stringify(e)}),changePassword:(e,t,n)=>J("/api/auth/change-password",{method:"POST",body:JSON.stringify({new_password:e,old_password:t||"",new_username:n})}),updateUsername:e=>J("/api/auth/change-password",{method:"POST",body:JSON.stringify({new_username:e})}),toggleTelegramOAuth:e=>J("/api/auth/telegram-oauth/toggle",{method:"POST",body:JSON.stringify({enabled:e})}),getTelegramOAuthStatus:()=>J("/api/auth/telegram-oauth/status",{method:"GET"})};function Wf({src:e,isVoice:t,name:n}){const s=d.useRef(null),[l,i]=d.useState(!1),[o,a]=d.useState(0),[u,m]=d.useState(0),y=w=>{if(!isFinite(w)||w<0||isNaN(w))return"0:00";const P=Math.floor(w/60),f=Math.floor(w%60);return`${P}:${f.toString().padStart(2,"0")}`},p=()=>{const w=s.current;w&&isFinite(w.duration)&&w.duration>0&&a(w.duration)},g=()=>{const w=s.current;w&&(l?w.pause():w.play())},v=w=>{const P=s.current;if(!P||!o)return;const f=w.currentTarget.getBoundingClientRect(),x=(w.clientX-f.left)/f.width;P.currentTime=x*o},N=o>0?u/o*100:0;return r.jsxs("div",{className:"flex items-center gap-2 bg-white/5 rounded-xl px-3 py-2 min-w-[180px] max-w-[240px]",children:[r.jsx("audio",{ref:s,src:e,preload:"metadata",onLoadedMetadata:p,onDurationChange:p,onCanPlay:p,onTimeUpdate:()=>{var w;return m(((w=s.current)==null?void 0:w.currentTime)||0)},onPlay:()=>i(!0),onPause:()=>i(!1),onEnded:()=>{i(!1),m(0)}}),r.jsx("button",{type:"button",onClick:g,className:"h-8 w-8 shrink-0 rounded-full bg-ocean-500 hover:bg-ocean-400 flex items-center justify-center text-white transition",children:l?r.jsx("svg",{className:"h-3.5 w-3.5",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})}):r.jsx("svg",{className:"h-3.5 w-3.5 ml-0.5",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M8 5v14l11-7z"})})}),r.jsxs("div",{className:"flex-1 flex flex-col gap-1",children:[r.jsx("div",{className:"h-1.5 bg-white/10 rounded-full cursor-pointer overflow-hidden",onClick:v,children:r.jsx("div",{className:"h-full bg-ocean-400 rounded-full transition-all",style:{width:`${N}%`}})}),r.jsxs("div",{className:"flex justify-between text-[9px] text-white/50",children:[r.jsx("span",{children:y(u)}),r.jsx("span",{children:y(o)})]})]}),r.jsx("a",{href:e,download:n||(t?"voice.ogg":"audio.mp3"),className:"shrink-0 h-6 w-6 rounded-full border border-white/10 flex items-center justify-center text-white/50 hover:bg-white/10 hover:text-white/70",title:"",children:r.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})})]})}function zu({chat:e,messages:t,onMessageSent:n,onMessageDeleted:s,highlight:l,templates:i=[],onBack:o,onShowProfile:a,onChatUpdated:u,userRole:m,hasMoreMessages:y=!1,loadingMoreMessages:p=!1,onLoadMoreMessages:g}){var $r;const v=h=>h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),N=h=>h==null?"":typeof h=="string"?h.replace(/<[^>]*>/g,""):String(h),w=h=>{if(!h)return"";const R=new Date(h),F=new Date;return R.getFullYear()===F.getFullYear()&&R.getMonth()===F.getMonth()&&R.getDate()===F.getDate()?R.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"}):R.toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})},[P,f]=d.useState(""),[c,x]=d.useState(!1),[k,T]=d.useState(!1),[L,E]=d.useState(!1),[b,A]=d.useState(!1),[O,H]=d.useState([]),[ee,ue]=d.useState(""),[S,C]=d.useState(""),[I,Y]=d.useState(null),[M,B]=d.useState([]),[W,V]=d.useState(null),[re,me]=d.useState({}),[ae,Pe]=d.useState(""),[pe,ge]=d.useState(!1),[Ie,De]=d.useState("idle"),[xe,We]=d.useState(!1),[Fe,ot]=d.useState(null),[_e,_]=d.useState(null),[q,D]=d.useState(new Set),[Te,ce]=d.useState(!1),fe=d.useRef(null),we=d.useRef(null),[Pt,mt]=d.useState(!0),[bt,Ot]=d.useState(0),[Nt,un]=d.useState(0),Rt=d.useRef(new Set),Dt=d.useRef(!1),Ht=d.useRef(!0),er=d.useRef(!1),Qt=d.useRef(0),tr=d.useRef(0),cn=d.useRef(void 0),nr=d.useRef(null),dn=d.useRef(null),Rn=d.useRef(0);d.useEffect(()=>{if(!y||p||!g||!e)return;const h=new IntersectionObserver(F=>{if(F[0].isIntersecting&&!Ht.current){const ne=we.current;ne&&(Rn.current=ne.scrollHeight),g()}},{threshold:.1,rootMargin:"50px"}),R=dn.current;return R&&h.observe(R),()=>{R&&h.unobserve(R)}},[y,p,g,e==null?void 0:e.id]),d.useEffect(()=>{if(Rn.current>0&&!p){const h=we.current;if(h){const F=h.scrollHeight-Rn.current;F>0&&(h.scrollTop=F),Rn.current=0}}},[t.length,p]);const Dn=()=>{const h=we.current;h&&requestAnimationFrame(()=>{h.scrollTop=h.scrollHeight})},Dr=d.useRef(null),Kt=d.useRef(null),rr=d.useRef(null),kt=d.useRef(null),sr=d.useRef({x:0,y:0,id:null}),At=d.useRef(!1),Xl=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];d.useEffect(()=>{f(""),Y(null),B([]),mt(!0),Dt.current=!1,Ht.current=!0,Rt.current.clear(),Pe((e==null?void 0:e.note)||""),ge(!1),De("idle"),We(!1),_(null),D(new Set)},[e==null?void 0:e.id]),d.useEffect(()=>{if(e&&!(!pe&&ae===(e.note||"")))return kt.current&&window.clearTimeout(kt.current),kt.current=window.setTimeout(async()=>{if(!(!pe&&!ae.trim())){De("saving");try{const h=await Q.updateChatNote(e.id,ae.trim()?ae:null);u==null||u(h),De("saved"),setTimeout(()=>De("idle"),1200)}catch{De("idle")}}},600),()=>{kt.current&&window.clearTimeout(kt.current)}},[ae,pe,e==null?void 0:e.id]),d.useEffect(()=>{const h=we.current;if(!h)return;un(h.clientHeight);const R=new ResizeObserver(()=>{un(h.clientHeight)});return R.observe(h),()=>R.disconnect()},[]),d.useEffect(()=>{const h=we.current;if(!h)return;const R=h.firstElementChild;if(!R)return;let F=R.scrollHeight;const ne=new ResizeObserver(()=>{const Z=R.scrollHeight;Z!==F&&Date.now()<Qt.current&&(F=Z,h.scrollTop=h.scrollHeight)});return ne.observe(R),()=>ne.disconnect()},[e==null?void 0:e.id]),d.useEffect(()=>{if(!k)return;const h=R=>{Kt.current&&(Kt.current.contains(R.target)||T(!1))};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[k]),d.useEffect(()=>{if(!e)return;const h=R=>{var K;if(!R.clipboardData)return;const F=R.target;if(F&&(F.tagName==="INPUT"||F.tagName==="TEXTAREA")&&F!==fe.current)return;const ne=Array.from(R.clipboardData.items||[]),Z=[];for(const U of ne)if(U.kind==="file"){const G=U.getAsFile();G&&Z.push(G)}Z.length>0&&(R.preventDefault(),hn(Z),(K=fe.current)==null||K.focus())};return window.addEventListener("paste",h),()=>window.removeEventListener("paste",h)},[e==null?void 0:e.id]),d.useEffect(()=>{if(!W)return;const h=R=>{R.key==="Escape"&&V(null)};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[W]),d.useEffect(()=>{const h=R=>{R.key==="Escape"&&(_e?_(null):xe&&We(!1))};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[_e,xe]),d.useEffect(()=>{if(!L)return;const h=R=>{rr.current&&(rr.current.contains(R.target)||E(!1))};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[L]),d.useEffect(()=>{if(!fe.current)return;fe.current.style.height="0px";const h=Math.min(fe.current.scrollHeight,220);fe.current.style.height=`${h}px`},[P]),d.useEffect(()=>{const h=we.current;if(!h)return;const R=e==null?void 0:e.id,F=t.length,ne=R!==cn.current,Z=F!==tr.current;if(ne){cn.current=R,tr.current=0,er.current=!0,Ht.current=!0,Qt.current=0;return}if(tr.current=F,er.current&&F>0){er.current=!1,Ht.current=!1,Qt.current=Date.now()+2e3,requestAnimationFrame(()=>{h.scrollTop=h.scrollHeight});return}if(!Pt||!Z)return;const K=t[0];K&&K.direction!=="IN"&&K.direction!=="OUT"||requestAnimationFrame(()=>{h.scrollTo({top:h.scrollHeight,behavior:Dt.current?"smooth":"auto"}),Dt.current=!1})},[t.length,e==null?void 0:e.id,Pt]),d.useEffect(()=>{t.forEach(h=>{h.id&&Rt.current.add(h.id)})},[t]);const Ar=t.length>200,Br=d.useMemo(()=>{const R=t.length;if(!Nt||!Ar)return{items:t,paddingTop:0,paddingBottom:0,offset:0};const F=Math.max(0,Math.floor(bt/96)-12),ne=Math.min(R,Math.ceil((bt+Nt)/96)+12);return{items:t.slice(F,ne),paddingTop:F*96,paddingBottom:Math.max(0,(R-ne)*96),offset:F}},[t,bt,Nt,Ar]),Zl=async()=>{var Z;if(!e||!P.trim()&&M.length===0)return;const h=P.trim()?P:"",R=[...M],F=O.length>0&&R.length<=1?[...O]:void 0,ne=I==null?void 0:I.id;x(!0),f(""),Y(null),B([]),H([]);try{const K=((Z=R[0])==null?void 0:Z.type)||"text";await Q.sendMessage(e.id,{text:h||void 0,type:K,attachments:R.map(U=>U.upload),inline_buttons:F,reply_to_message_id:ne}),Dt.current=!0,n()}catch{f(h),B(R),H(F||[]),Y(t.find(K=>K.id===ne)||null)}finally{x(!1)}},j=h=>{const R=h.type;return R==="image/gif"?"animation":R.startsWith("image/")?"photo":R.startsWith("video/")?"video":R.startsWith("audio/")?"audio":"document"},te=async h=>{const R=h.clipboardData.items,F=[],ne=new Set;for(const Z of R)if(Z.kind==="file"){const K=Z.getAsFile();if(K){const U=`${K.name}-${K.size}-${K.type}`;ne.has(U)||(ne.add(U),F.push(K))}}F.length>0&&e&&(h.preventDefault(),h.stopPropagation(),await hn(F))},se=h=>{h.preventDefault(),h.stopPropagation(),ce(!0)},ye=h=>{h.preventDefault(),h.stopPropagation(),ce(!1)},Bt=async h=>{if(h.preventDefault(),h.stopPropagation(),ce(!1),!e)return;const R=Array.from(h.dataTransfer.files);R.length>0&&await hn(R)},hn=async h=>{if(!h.length||!e)return;x(!0);const R=[];for(const F of h){const ne=await Q.upload(F),Z=j(F);R.push({upload:ne,type:Z,name:F.name,mime:F.type})}B(F=>[...F,...R]),x(!1)};return r.jsxs("div",{className:"flex h-full min-h-0 flex-col relative overflow-x-hidden",onDragOver:se,onDragLeave:ye,onDrop:Bt,children:[Te&&r.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-ink-900/90 border-2 border-dashed border-ocean-500 rounded-2xl",children:r.jsxs("div",{className:"text-center",children:[r.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-ocean-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),r.jsx("div",{className:"text-lg font-medium text-white",children:"  "}),r.jsx("div",{className:"text-sm text-white/50 mt-1",children:"  "})]})}),r.jsxs("div",{className:"flex items-center justify-between border-b border-white/10 pb-4",children:[r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 text-lg font-display font-semibold",children:[o&&r.jsx("button",{onClick:o,className:"xl:hidden h-8 w-8 rounded-full border border-white/10 text-white/70 hover:bg-white/10 shrink-0","aria-label":"",children:""}),r.jsx("span",{className:"truncate max-w-[60vw] sm:max-w-[28rem]",children:e?N(e.first_name||""):" "})]}),r.jsx("div",{className:"text-xs text-white/50",children:e?`ID ${e.tg_id}`:""})]}),a&&e&&r.jsx("button",{onClick:a,className:"xl:hidden ml-2 h-8 w-8 rounded-full border border-white/10 text-[11px] text-white/70 hover:bg-white/10 shrink-0","aria-label":"",children:""}),e&&m==="administrator"&&r.jsx("button",{type:"button",onClick:()=>We(h=>!h),className:wn("sm:hidden ml-2 h-8 w-8 rounded-full border text-xs flex items-center justify-center shrink-0",xe?"border-rose-500/50 bg-rose-500/20":"border-white/10 text-white/70 hover:bg-white/10"),"aria-label":xe?"   ":" ",children:r.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),e&&m==="administrator"&&r.jsx("div",{className:"hidden sm:flex items-center gap-2",children:r.jsxs("button",{type:"button",onClick:()=>We(h=>!h),className:wn("px-3 py-1.5 rounded-full border text-xs transition flex items-center gap-1.5",xe?"border-rose-500/50 bg-rose-500/20 text-rose-200":"border-white/10 text-white/70 hover:bg-white/10"),title:xe?"   ":"  ",children:[r.jsx("svg",{className:"h-3.5 w-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),xe?"":""]})})]}),r.jsxs("div",{ref:we,className:"flex-1 min-h-0 overflow-y-auto scrollbar-thin mt-4 pr-2 no-anchor",onScroll:()=>{const h=we.current;if(!h)return;const R=h.scrollHeight-h.scrollTop-h.clientHeight<80;mt(R),Ar&&Ot(h.scrollTop)},children:[e&&(ae.trim()||pe)&&r.jsxs("div",{className:"sticky top-0 z-10 mb-3 rounded-2xl border border-white/10 bg-ink-900/80 backdrop-blur px-4 py-3 text-xs text-white/80 shadow-soft",children:[r.jsxs("div",{className:"flex items-center justify-between text-[10px] text-white/50 mb-1",children:[r.jsx("span",{children:""}),r.jsxs("span",{children:[Ie==="saving"&&"",Ie==="saved"&&""]})]}),pe?r.jsx("textarea",{value:ae,onChange:h=>Pe(h.target.value),rows:2,className:"w-full resize-none rounded-xl bg-ink-800/80 border border-white/10 px-3 py-2 text-xs focus:outline-none focus:ring-2 focus:ring-ocean-500/20"}):r.jsx("div",{className:"whitespace-pre-line",children:ae}),r.jsxs("div",{className:"mt-2 flex gap-2",children:[r.jsx("button",{type:"button",onClick:()=>ge(h=>!h),className:"rounded-full border border-white/10 px-3 py-1 text-[10px] text-white/70 hover:bg-white/10",children:pe?"":""}),pe&&r.jsx("button",{type:"button",onClick:()=>{Pe(""),ge(!1),e&&Q.updateChatNote(e.id,null).then(h=>u==null?void 0:u(h)).catch(()=>{})},className:"rounded-full border border-white/10 px-3 py-1 text-[10px] text-white/70 hover:bg-white/10",children:""})]})]}),xe&&e&&r.jsxs("div",{className:"sticky top-0 z-10 mb-3 rounded-2xl border border-rose-500/30 bg-rose-500/10 backdrop-blur px-4 py-3 flex items-center justify-between gap-3",children:[r.jsx("span",{className:"text-xs text-rose-200",children:"    "}),r.jsx("button",{type:"button",onClick:()=>We(!1),className:"shrink-0 rounded-full border border-white/10 px-3 py-1 text-[10px] text-white/70 hover:bg-white/10",children:""})]}),e&&!ae.trim()&&!pe&&!xe&&r.jsx("div",{className:"sticky top-0 z-10 mb-3",children:r.jsx("button",{type:"button",onClick:()=>ge(!0),className:"w-full rounded-2xl border border-white/10 bg-ink-900/70 backdrop-blur px-4 py-3 text-left text-xs text-white/60 hover:bg-white/5",children:"+  "})}),!e&&r.jsxs("div",{className:"flex flex-col items-center justify-center py-16 gap-4",children:[r.jsx("div",{className:"h-20 w-20 rounded-2xl bg-gradient-to-br from-white/[0.03] to-white/[0.01] border border-white/[0.06] flex items-center justify-center",children:r.jsx("svg",{className:"h-9 w-9 text-white/20",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-white/50 text-sm font-medium",children:" "}),r.jsx("div",{className:"text-white/30 text-xs mt-1",children:"    "})]})]}),e&&t.length===0&&!p&&r.jsxs("div",{className:"flex flex-col items-center justify-center py-16 gap-4",children:[r.jsx("div",{className:"h-16 w-16 rounded-2xl bg-gradient-to-br from-ocean-500/10 to-ocean-600/5 border border-ocean-500/10 flex items-center justify-center",children:r.jsx("svg",{className:"h-7 w-7 text-ocean-400/50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 01.865-.501 48.172 48.172 0 003.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0012 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018z"})})}),r.jsx("div",{className:"text-white/40 text-sm",children:"  "})]}),e&&y&&r.jsx("div",{ref:dn,className:"py-3 flex justify-center",children:p?r.jsxs("div",{className:"flex items-center gap-2 text-white/40 text-xs",children:[r.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"..."]}):r.jsx("div",{className:"text-white/20 text-xs",children:"   "})}),r.jsx("div",{className:"flex flex-col gap-3",style:{paddingTop:Br.paddingTop,paddingBottom:Br.paddingBottom},children:Br.items.map(h=>(()=>{if(!h)return null;const R=h.reply_to_telegram_message_id?t.find(Z=>Z.telegram_message_id===h.reply_to_telegram_message_id):void 0,F=h.type==="system"?"":h.direction==="IN"?N((e==null?void 0:e.first_name)||(e==null?void 0:e.tg_username)||""):"",ne=!Ht.current&&!Rt.current.has(h.id);return r.jsx("div",{className:wn(h.type==="system"?"self-center rounded-full bg-white/5 border border-white/10 px-2 py-0.5 text-[9px] text-white/60 flex items-center gap-1":"group relative rounded-lg sm:rounded-xl px-2.5 sm:px-3 py-1.5 sm:py-2 text-[11px] sm:text-xs leading-relaxed "+(h.direction==="OUT"?"self-end bg-ocean-600/20 border border-ocean-500/20":"self-start bg-white/5 border border-white/10")+(h.attachments&&h.attachments.length>0?" max-w-[75%] sm:max-w-[65%]":" max-w-[85%] sm:max-w-[75%]"),ne&&h.type!=="system"&&"msg-appear"),onTouchStart:Z=>{if(h.type==="system")return;const K=Z.touches[0];sr.current={x:K.clientX,y:K.clientY,id:h.id},At.current=!1},onTouchMove:Z=>{if(h.type==="system"||At.current||sr.current.id!==h.id||h.direction!=="IN")return;const K=Z.touches[0],U=K.clientX-sr.current.x,G=K.clientY-sr.current.y;Math.abs(U)>60&&Math.abs(U)>Math.abs(G)&&(At.current=!0,Y(h))},children:h.type==="system"?r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsx("span",{className:"rounded-full bg-white/10 px-2 py-0.5 text-[10px] uppercase tracking-widest text-white/70",children:""}),r.jsx("div",{className:"flex-1",children:h.text}),xe&&r.jsx("button",{type:"button",onClick:()=>_(h),disabled:Fe===h.id,className:"rounded-full border border-rose-500/40 bg-rose-500/20 px-2 py-0.5 text-[10px] text-rose-200 hover:bg-rose-500/30 disabled:opacity-50",children:Fe===h.id?"":""})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mb-0.5 text-[9px] text-white/50",children:F}),h.forward_from_name&&r.jsxs("div",{className:"mb-2 flex items-center gap-1.5 text-[10px] text-white/40",children:[r.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),r.jsx("span",{children:" "}),h.forward_from_username?r.jsx("a",{href:`https://t.me/${h.forward_from_username}`,target:"_blank",rel:"noopener noreferrer",className:"text-ocean-400 hover:text-ocean-300 font-medium",children:h.forward_from_name}):r.jsx("span",{className:"text-white/60 font-medium",children:h.forward_from_name})]}),h.reply_to_telegram_message_id&&r.jsxs("div",{className:"mb-2 rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-[11px] text-white/60",children:[r.jsx("div",{className:"text-white/50 mb-1",children:"  "}),r.jsx("div",{className:"truncate text-white/80",children:R!=null&&R.text?R.text:R?R.type:" "})]}),xe?r.jsxs("button",{type:"button",onClick:()=>_(h),disabled:Fe===h.id,className:"absolute -top-3 right-2 flex items-center gap-1 rounded-full border border-rose-500/40 bg-rose-500/20 px-2 py-1 text-[10px] text-rose-200 shadow-soft hover:bg-rose-500/30 disabled:opacity-50",title:" ",children:[Fe===h.id?"":r.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),""]}):r.jsx("button",{type:"button",onClick:()=>Y(h),className:wn("absolute -top-3 right-2 hidden group-hover:flex items-center gap-1 rounded-full border border-white/10 bg-ink-900/90 px-2 py-1 text-[10px] text-white/70 shadow-soft",(!h.telegram_message_id||h.direction!=="IN")&&"opacity-50 cursor-not-allowed"),disabled:!h.telegram_message_id||h.direction!=="IN",title:"",children:" "}),h.text?r.jsxs("div",{children:[l&&l.trim().length>0?N(h.text).split(new RegExp(`(${v(l)})`,"ig")).map((Z,K)=>Z.toLowerCase()===l.toLowerCase()?r.jsx("mark",{className:"bg-gold-500/40 text-white rounded px-1",children:Z},K):r.jsx("span",{children:Z},K)):N(h.text),h.is_edited&&r.jsx("span",{className:"ml-2 text-[10px] text-white/40",children:""})]}):h.type==="location"?r.jsxs("div",{className:"flex items-center gap-2 text-white/70",children:[r.jsx("span",{className:"text-base",children:""}),r.jsx("span",{children:""})]}):h.type==="contact"?r.jsxs("div",{className:"flex items-center gap-2 text-white/70",children:[r.jsx("span",{className:"text-base",children:""}),r.jsx("span",{children:""})]}):h.type==="venue"?r.jsxs("div",{className:"flex items-center gap-2 text-white/70",children:[r.jsx("span",{className:"text-base",children:""}),r.jsx("span",{children:"  "})]}):h.type==="poll"?r.jsxs("div",{className:"flex items-center gap-2 text-white/70",children:[r.jsx("span",{className:"text-base",children:""}),r.jsx("span",{children:""})]}):null,(()=>{const Z=(h.attachments||[]).filter(Boolean);if(Z.length===0)return null;const K=Z.filter(oe=>{if(!oe)return!1;const Ae=(oe.mime||"").toLowerCase(),X=(oe.name||"").toLowerCase(),Ge=Ae.startsWith("image/")||X.match(/\.(png|jpe?g|webp|gif|tgs|heic|heif)$/i),Me=Ae.startsWith("video/")||X.match(/\.(mp4|mov|mkv|webm)$/),$t=h.type==="animation"||h.type==="sticker"||Ae==="video/mp4"&&X.includes("gif");return Ge||Me||$t}),U=Z.filter(oe=>!K.includes(oe)),G=(oe,Ae)=>{if(!oe)return null;const X=oe.url||oe.local_path,Ge=(oe.mime||"").toLowerCase(),Me=(oe.name||"").toLowerCase(),$t=h.type==="sticker",An=h.type==="video_note",Jt=h.type==="animation"||Ge==="video/mp4"&&Me.includes("gif"),zs=Me.endsWith(".tgs")||Ge==="application/x-tgsticker",r0=$t&&(Ge==="image/webp"||Me.endsWith(".webp")),s0=!$t&&!Jt&&!An&&(Ge.startsWith("image/")||Me.match(/\.(png|jpe?g|webp|gif|heic|heif)$/i)),l0=!Jt&&!An&&(Ge.startsWith("video/")||Me.match(/\.(mp4|mov|mkv|webm)$/)),i0=Ge.startsWith("audio/")||Me.match(/\.(mp3|wav|ogg|m4a|oga)$/),ya=h.type==="voice"||h.type==="audio",lr=`${h.id}-${Ae}`,Yt=re[lr]??!1;return r.jsx("div",{className:"mt-2 text-xs text-white/60",children:X&&($t||r0)&&!zs?r.jsx("div",{className:"flex flex-col gap-2 items-start",children:q.has(lr)?r.jsx("div",{className:"h-24 w-24 flex items-center justify-center rounded-lg bg-white/5 text-white/40 text-[10px]",children:""}):r.jsx("img",{src:X,alt:"sticker",className:"h-24 w-24 object-contain",loading:"lazy",onError:()=>D(Bn=>new Set([...Bn,lr]))})}):X&&zs?r.jsx("div",{className:"flex flex-col gap-2 items-start",children:r.jsx("div",{className:"h-24 w-24 flex items-center justify-center rounded-lg bg-white/5 text-white/40 text-[10px]",children:" "})}):X&&An?r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsxs("div",{className:"relative inline-block",children:[r.jsx("video",{src:X,controls:!0,className:`rounded-2xl border border-white/10 ${Yt?"max-h-[50vh] max-w-[60vw] w-auto h-auto":"max-h-36 max-w-[220px]"}`,onLoadedMetadata:Dn}),r.jsx("div",{className:"absolute top-2 left-2 px-1.5 py-0.5 rounded bg-black/50 text-[9px] text-white/70",children:" "})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsx("button",{type:"button",onClick:()=>me(Bn=>({...Bn,[lr]:!Yt})),className:"rounded-full border border-white/10 px-2 py-0.5 text-[10px] text-white/70 hover:bg-white/10",children:Yt?"":""}),r.jsx("a",{href:X,download:oe.name||"video_note.mp4",className:"rounded-full border border-white/10 px-2 py-0.5 text-[10px] text-white/70 hover:bg-white/10",children:""})]})]}):X&&Jt?r.jsx("div",{className:"flex flex-col gap-2",children:r.jsx("video",{src:X,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"max-h-36 max-w-[200px] rounded-lg",onLoadedMetadata:Dn})}):X&&s0?r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("img",{src:X,alt:oe.name||"image",className:`rounded-xl border border-white/10 cursor-pointer ${Yt?"max-h-[50vh] max-w-[60vw] w-auto h-auto object-contain":"max-h-36 max-w-[220px] object-cover"}`,onClick:()=>V(X),loading:"lazy",onLoad:Dn}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsx("button",{type:"button",onClick:()=>V(X),className:"rounded-full border border-white/10 px-2 py-0.5 text-[10px] text-white/70 hover:bg-white/10",children:""}),r.jsx("button",{type:"button",onClick:()=>me(Bn=>({...Bn,[lr]:!Yt})),className:"rounded-full border border-white/10 px-2 py-0.5 text-[10px] text-white/70 hover:bg-white/10",children:Yt?"":""}),r.jsx("a",{href:X,download:oe.name||"image.jpg",className:"rounded-full border border-white/10 px-2 py-0.5 text-[10px] text-white/70 hover:bg-white/10",children:""})]})]}):X&&l0?r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("video",{src:X,controls:!0,className:`rounded-lg border border-white/10 ${Yt?"max-h-[50vh] max-w-[60vw] w-auto h-auto":"max-h-36 max-w-[220px]"}`,onLoadedMetadata:Dn}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsx("a",{href:X,download:oe.name||"video.mp4",className:"rounded-full border border-white/10 px-2 py-0.5 text-[10px] text-white/70 hover:bg-white/10",children:""}),r.jsx("button",{type:"button",onClick:()=>me(Bn=>({...Bn,[lr]:!Yt})),className:"rounded-full border border-white/10 px-2 py-0.5 text-[10px] text-white/70 hover:bg-white/10",children:Yt?"":""})]})]}):X&&(i0||ya)?r.jsx(Wf,{src:X,isVoice:ya,name:oe.name}):X?r.jsxs("a",{href:X,target:"_blank",rel:"noreferrer",className:"underline text-white/70 hover:text-white",children:[" ",oe.name||""]}):r.jsxs("span",{className:"text-white/40",children:[" ",oe.name||""]})},Ae)},ie=()=>{const oe=K.length,Ae=oe<=2||oe<=4?"grid-cols-2":"grid-cols-3";return r.jsxs("div",{className:"mt-2",children:[r.jsx("div",{className:`grid ${Ae} gap-2`,children:K.map((X,Ge)=>{if(!X)return null;const Me=X.url||X.local_path,$t=(X.mime||"").toLowerCase(),An=$t.startsWith("image/")||(X.name||"").toLowerCase().match(/\.(png|jpe?g|webp|gif)$/),Jt=$t.startsWith("video/")||(X.name||"").toLowerCase().match(/\.(mp4|mov|mkv|webm)$/);return r.jsxs("button",{type:"button",onClick:()=>{Me&&(An?V(Me):Jt&&window.open(Me,"_blank"))},className:"relative overflow-hidden rounded-xl border border-white/10 bg-white/5",title:"",children:[An&&Me&&r.jsx("img",{src:Me,alt:X.name||"image",className:"h-24 w-full object-cover",loading:"lazy"}),Jt&&Me&&r.jsxs(r.Fragment,{children:[r.jsx("video",{src:Me,className:"h-24 w-full object-cover"}),r.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-white/80",children:""})]})]},Ge)})}),r.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:K.map((X,Ge)=>{const Me=X.url||X.local_path;return r.jsxs("a",{href:Me,download:X.name||`file_${Ge+1}`,className:"rounded-full border border-white/10 px-2 py-0.5 text-[10px] text-white/70 hover:bg-white/10",children:[" ",Ge+1]},Ge)})})]})};return r.jsxs(r.Fragment,{children:[K.length>1?ie():K.length===1?G(K[0],0):null,U.map((oe,Ae)=>G(oe,Ae+K.length))]})})(),h.inline_buttons&&h.inline_buttons.length>0&&r.jsx("div",{className:"mt-3 flex flex-col gap-1.5",children:h.inline_buttons.map((Z,K)=>r.jsx("div",{className:"flex gap-1.5",children:Z.map((U,G)=>r.jsx("a",{href:U.url,target:"_blank",rel:"noopener noreferrer",className:"flex-1 rounded-xl border border-ocean-500/30 bg-ocean-500/10 px-3 py-2 text-center text-xs text-ocean-300 hover:bg-ocean-500/20 transition",children:U.text},G))},K))}),r.jsx("div",{className:"mt-1 text-right text-[9px] text-white/40",children:w(h.created_at)})]})},h.id)})())})]}),r.jsxs("div",{className:"mt-4 border-t border-white/10 pt-4 pb-[env(safe-area-inset-bottom)]",children:[I&&r.jsxs("div",{className:"mb-3 rounded-2xl border border-white/10 bg-white/5 px-3 py-2 text-xs text-white/70 flex items-center justify-between",children:[r.jsxs("div",{className:"truncate",children:[" : ",I.text?I.text.slice(0,120):I.type]}),r.jsx("button",{className:"text-white/50 hover:text-white",onClick:()=>Y(null),children:""})]}),r.jsxs("div",{className:"flex items-end gap-3",children:[r.jsx("input",{ref:nr,type:"file",className:"hidden",multiple:!0,onChange:async h=>{const R=h.target.files?Array.from(h.target.files):[];await hn(R),h.currentTarget.value=""}}),r.jsx("input",{ref:Dr,type:"file",className:"hidden",multiple:!0,accept:"image/*,video/*",onChange:async h=>{const R=h.target.files?Array.from(h.target.files):[];await hn(R),h.currentTarget.value=""}}),r.jsxs("div",{className:"flex-1 relative",style:{overflow:"visible"},children:[r.jsxs("div",{className:"relative rounded-2xl bg-ink-800/80 border border-white/10 px-4 pr-20 min-h-[56px] flex items-center",children:[r.jsx("button",{type:"button",onClick:()=>E(h=>!h),className:"absolute left-3 top-1/2 -translate-y-1/2 h-9 w-9 rounded-full border border-white/10 text-white/60 hover:bg-white/10 active:bg-white/20 cursor-pointer touch-manipulation",title:"",disabled:!e,children:""}),r.jsx("textarea",{ref:fe,value:P,onChange:h=>f(h.target.value),onPaste:te,rows:2,placeholder:" ",className:"w-full resize-none bg-transparent text-sm focus:outline-none pl-12 leading-5 py-1.5"}),r.jsxs("div",{className:"absolute right-2 bottom-2 flex items-center gap-2",children:[r.jsx("button",{type:"button",onClick:()=>T(h=>!h),className:"h-9 w-9 rounded-full border border-white/10 text-white/60 hover:bg-white/10",title:"",children:""}),r.jsx("button",{onClick:Zl,disabled:!P.trim()&&M.length===0||c,className:wn("h-9 w-9 rounded-full text-sm font-semibold transition flex items-center justify-center",c||!P.trim()&&M.length===0?"bg-white/10 text-white/40":"bg-ocean-600 text-white hover:bg-ocean-500"),title:"",children:c?"":r.jsx("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"currentColor","aria-hidden":"true",children:r.jsx("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"})})})]})]}),M.length>0&&r.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:M.map((h,R)=>{var F,ne,Z,K,U,G;return r.jsxs("div",{className:"flex items-center gap-2 rounded-2xl border border-white/10 bg-white/5 px-3 py-2 text-xs",children:[(h.mime||((F=h.upload)==null?void 0:F.mime)||"").startsWith("image/")&&(((ne=h.upload)==null?void 0:ne.url)||((Z=h.upload)==null?void 0:Z.local_path))&&r.jsx("img",{src:((K=h.upload)==null?void 0:K.url)||((U=h.upload)==null?void 0:U.local_path),className:"h-8 w-8 rounded-lg object-cover"}),r.jsx("span",{className:"text-white/70 max-w-[160px] truncate",children:h.name||((G=h.upload)==null?void 0:G.name)||"file"}),r.jsx("button",{className:"text-white/40 hover:text-white",onClick:()=>B(ie=>ie.filter((oe,Ae)=>Ae!==R)),children:""})]},R)})}),O.length>0&&r.jsxs("div",{className:"mt-3 space-y-2",children:[r.jsx("div",{className:"text-[10px] text-white/40 uppercase tracking-wide",children:"  "}),M.length>1&&r.jsx("div",{className:"rounded-xl border border-amber-500/20 bg-amber-500/10 px-3 py-2",children:r.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-300",children:[r.jsx("svg",{className:"h-4 w-4 shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),r.jsx("span",{children:"     Telegram      "})]})}),O.map((h,R)=>r.jsx("div",{className:"flex flex-wrap gap-2",children:h.map((F,ne)=>r.jsxs("div",{className:"group flex items-center gap-1.5 rounded-xl border border-ocean-500/30 bg-ocean-500/10 px-3 py-1.5",children:[r.jsx("span",{className:"text-xs text-ocean-300",children:F.text}),r.jsx("button",{onClick:()=>{const Z=O.map((K,U)=>U===R?K.filter((G,ie)=>ie!==ne):K).filter(K=>K.length>0);H(Z)},className:"text-white/30 hover:text-rose-400 transition",children:""})]},ne))},R))]}),b&&r.jsxs("div",{className:"absolute left-2 bottom-16 z-20 w-80 rounded-2xl border border-white/10 bg-ink-900/98 p-4 shadow-soft backdrop-blur-xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("div",{className:"text-sm font-medium text-white",children:" URL "}),r.jsx("button",{onClick:()=>{A(!1),ue(""),C("")},className:"text-white/40 hover:text-white",children:""})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-[10px] text-white/50 mb-1.5",children:" "}),r.jsx("input",{value:ee,onChange:h=>ue(h.target.value),placeholder:" ",className:"w-full rounded-xl bg-ink-800/80 border border-white/10 px-3 py-2.5 text-sm text-white placeholder:text-white/30 focus:outline-none focus:border-ocean-500/50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-[10px] text-white/50 mb-1.5",children:"URL "}),r.jsx("input",{value:S,onChange:h=>C(h.target.value),placeholder:"example.com  t.me/username",className:"w-full rounded-xl bg-ink-800/80 border border-white/10 px-3 py-2.5 text-sm text-white placeholder:text-white/30 focus:outline-none focus:border-ocean-500/50"}),r.jsx("div",{className:"text-[10px] text-white/30 mt-1",children:"  (google.com)   URL"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>{if(!ee.trim()||!S.trim())return;let h=S.trim();if(/^https?:\/\//i.test(h)||(h="https://"+h),!/^https?:\/\/[a-zA-Z0-9][a-zA-Z0-9\-]*\.[a-zA-Z]{2,}/i.test(h)){alert("  URL   (: google.com, t.me/username)");return}const R={text:ee.trim(),url:h};H([...O,[R]]),ue(""),C(""),A(!1)},disabled:!ee.trim()||!S.trim(),className:"flex-1 rounded-xl bg-ocean-500/20 border border-ocean-500/30 px-4 py-2 text-sm text-ocean-300 hover:bg-ocean-500/30 transition disabled:opacity-40 disabled:cursor-not-allowed",children:""}),O.length>0&&r.jsx("button",{onClick:()=>{if(!ee.trim()||!S.trim())return;let h=S.trim();if(/^https?:\/\//i.test(h)||(h="https://"+h),!/^https?:\/\/[a-zA-Z0-9][a-zA-Z0-9\-]*\.[a-zA-Z]{2,}/i.test(h)){alert("  URL   (: google.com, t.me/username)");return}const R={text:ee.trim(),url:h},F=[...O];F[F.length-1]=[...F[F.length-1],R],H(F),ue(""),C(""),A(!1)},disabled:!ee.trim()||!S.trim(),className:"rounded-xl border border-white/10 px-3 py-2 text-sm text-white/60 hover:bg-white/10 transition disabled:opacity-40 disabled:cursor-not-allowed",title:"   ",children:"+  "})]})]})]}),L&&r.jsxs("div",{ref:rr,className:"absolute left-2 bottom-16 z-20 w-56 rounded-2xl border border-white/10 bg-ink-900/98 p-2 shadow-soft text-xs backdrop-blur-xl",style:{overflow:"visible"},children:[r.jsx("button",{className:"w-full rounded-xl px-3 py-3 text-left hover:bg-white/10 active:bg-white/20 touch-manipulation",onClick:()=>{var h;E(!1),(h=Dr.current)==null||h.click()},children:"  / "}),r.jsx("button",{className:"w-full rounded-xl px-3 py-3 text-left hover:bg-white/10 active:bg-white/20 touch-manipulation",onClick:()=>{var h;E(!1),(h=nr.current)==null||h.click()},children:" "}),r.jsxs("button",{className:`w-full rounded-xl px-3 py-3 text-left touch-manipulation ${M.length>1?"opacity-50 cursor-not-allowed":"hover:bg-white/10 active:bg-white/20"}`,onClick:()=>{M.length>1||(E(!1),A(!0))},disabled:M.length>1,children:["  ",M.length>1&&r.jsx("div",{className:"text-[10px] text-amber-400/70 mt-0.5",children:"   "})]}),r.jsxs("div",{className:"mt-2 rounded-xl border border-white/10 bg-white/5 p-2",children:[r.jsx("div",{className:"text-white/50 mb-1",children:""}),i.length===0&&r.jsx("div",{className:"text-white/40",children:" "}),r.jsx("div",{className:"max-h-36 overflow-y-auto scrollbar-thin",children:i.map(h=>r.jsx("button",{className:"w-full rounded-lg px-2 py-2 text-left hover:bg-white/10 active:bg-white/20 touch-manipulation",onClick:()=>{var R;if(f(h.body||""),h.attachments&&h.attachments.length>0){const F=h.attachments.map(ne=>{const Z=ne.mime||"";let K="document";return Z.startsWith("image/")?K="photo":Z.startsWith("video/")?K="video":Z.startsWith("audio/")&&(K="audio"),{upload:{url:ne.url,local_path:ne.local_path,mime:ne.mime,name:ne.name,size:ne.size},type:K,name:ne.name,mime:ne.mime}});B(F)}h.inline_buttons&&h.inline_buttons.length>0&&H(h.inline_buttons),E(!1),(R=fe.current)==null||R.focus()},children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:h.title}),(h.attachments&&h.attachments.length>0||h.inline_buttons&&h.inline_buttons.length>0)&&r.jsxs("span",{className:"text-[9px] text-white/40",children:[h.attachments&&h.attachments.length>0&&`${h.attachments.length}`,h.inline_buttons&&h.inline_buttons.length>0&&" "]})]})},h.id))})]})]}),k&&r.jsx("div",{ref:Kt,className:"absolute right-2 bottom-16 z-10 w-64 max-h-56 overflow-y-auto rounded-2xl border border-white/10 bg-ink-900/95 p-3 shadow-soft",children:r.jsx("div",{className:"grid grid-cols-8 gap-2 text-lg",children:Xl.map(h=>r.jsx("button",{className:"rounded-lg hover:bg-white/10",onClick:()=>{var R;f(F=>`${F}${h}`),T(!1),(R=fe.current)==null||R.focus()},children:h},h))})})]})]})]}),W&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",onClick:()=>V(null),children:r.jsx("img",{src:W,alt:"preview",className:"max-h-[90vh] max-w-[90vw] rounded-2xl border border-white/10 shadow-soft"})}),_e&&e&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm px-4 fade-in",onClick:()=>_(null),children:r.jsxs("div",{className:"rounded-2xl border border-white/10 bg-ink-900 shadow-soft p-5 max-w-sm w-full",onClick:h=>h.stopPropagation(),children:[r.jsx("div",{className:"text-sm font-medium mb-1",children:" ?"}),r.jsxs("div",{className:"text-xs text-white/50 mb-4 truncate",children:[_e.text?N(_e.text).slice(0,80):_e.type,((($r=_e.text)==null?void 0:$r.length)||0)>80&&""]}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx("button",{type:"button",onClick:()=>_(null),className:"px-4 py-2 rounded-xl border border-white/10 text-xs text-white/70 hover:bg-white/10",children:""}),r.jsx("button",{type:"button",onClick:async()=>{if(!(!e||!_e)){ot(_e.id);try{await Q.deleteMessage(e.id,_e.id),_(null),s==null||s()}catch{_(null)}finally{ot(null)}}},className:"px-4 py-2 rounded-xl bg-rose-600 text-xs text-white hover:bg-rose-500",children:""})]})]})})]})}const wr=e=>{if(!e)return"";const t=new Date(e);return isNaN(t.getTime())?"":t.toLocaleString()},Gt=e=>e?e.replace(/<[^>]*>/g,""):"",Xt=(e,t=26)=>e.length>t?`${e.slice(0,t-1)}`:e,Ff=e=>{if(!e)return"";const t=Number(e),n=t>1e10?t:t*1e3,s=new Date(n);return isNaN(s.getTime())?"":s.toLocaleString()},cl=e=>{if(!e&&e!==0)return"";const t=["B","KB","MB","GB","TB"];let n=e,s=0;for(;n>=1024&&s<t.length-1;)n/=1024,s++;return`${n.toFixed(1)} ${t[s]}`},So=e=>{if(e==null||e==="")return"";const t=Number(e);return Number.isNaN(t)?String(e):`${t.toLocaleString("ru-RU")} `},Uf=e=>{if(e==null)return"";const t=Math.max(0,Math.floor(Number(e))),n=Math.floor(t/365),s=Math.floor(t%365/30),l=t%30,i=[];return n&&i.push(`${n} .`),s&&i.push(`${s} .`),(l||i.length===0)&&i.push(`${l} .`),i.join(" ")},Vf=e=>{if(!e)return"";const t=Number(e)>1e10?Number(e):Number(e)*1e3,n=Date.now(),s=Math.floor((t-n)/864e5);return Uf(s)},Pu=(e,t)=>!t||t===0?`${cl(e||0)} / `:`${cl(e||0)} / ${cl(t)}`,Hf=async e=>{try{await navigator.clipboard.writeText(e)}catch{}},Qf=(e,t,n,s,l)=>{if(!e||e.length===0)return r.jsx("div",{className:"text-xs text-white/40",children:" "});const i={};return e.forEach(o=>{const a=o.subscription_uuid||"unknown";i[a]||(i[a]=[]),i[a].push(o)}),r.jsx("div",{className:"space-y-4 text-xs text-white/70",children:Object.entries(i).filter(([o])=>!l||o===l).map(([o,a])=>{var v,N;const u=((v=a[0])==null?void 0:v.subscription_username)||o,m=(N=a[0])==null?void 0:N.subscription_status,y=t[o]??!1,p=l&&o===l,g=m==="ACTIVE"?"bg-emerald-500/15 text-emerald-300 border-emerald-400/30":m==="EXPIRED"?"bg-rose-500/15 text-rose-300 border-rose-400/30":"bg-white/5 text-white/60 border-white/10";return r.jsxs("div",{className:`rounded-2xl border p-3 ${p?"border-ocean-500/40 bg-ocean-600/10 shadow-glow":"border-white/10 bg-white/[0.04]"}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("button",{onClick:()=>n(o),className:"font-medium text-white/90 text-left",title:y?"":"",children:u}),m&&r.jsx("span",{className:`rounded-full border px-2 py-0.5 text-[11px] ${g}`,children:m})]}),y&&r.jsx("div",{className:"mt-2 space-y-2",children:a.map((w,P)=>r.jsxs("div",{className:"rounded-xl bg-white/[0.04] border border-white/5 px-3 py-2",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"text-[11px] text-white/50 font-mono",children:w.hwid||w.id}),w.hwid&&w.subscription_uuid&&r.jsx("button",{onClick:()=>{s(w.subscription_uuid,w.hwid)},className:"h-7 w-7 rounded-full border border-rose-500/30 text-rose-300 hover:bg-rose-500/20",title:" ",children:""})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-1 text-[11px] text-white/60 font-mono",children:[w.deviceModel&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-white/40",children:""}),r.jsx("span",{className:"text-right text-white/80",children:w.deviceModel})]}),w.platform&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-white/40",children:"OC"}),r.jsx("span",{className:"text-right text-white/80",children:w.platform})]}),w.osVersion&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-white/40",children:""}),r.jsx("span",{className:"text-right text-white/80",children:w.osVersion})]}),w.userAgent&&r.jsxs("div",{className:"flex items-start justify-between gap-3",children:[r.jsx("span",{className:"text-white/40",children:"UserAgent"}),r.jsx("span",{className:"text-right text-white/70 break-all",children:w.userAgent})]}),w.createdAt&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-white/40",children:""}),r.jsx("span",{className:"text-right text-white/70",children:wr(w.createdAt)})]})]})]},P))})]},o)})})},Kf=(e,t,n,s,l,i,o,a)=>{if(!e||e.length===0)return r.jsx("div",{className:"text-xs text-white/40",children:" "});const u=new Map;(t||[]).forEach(v=>{typeof(v==null?void 0:v.id)=="number"&&u.set(v.id,v)});const m=Array.isArray(n)?n:n?[n]:[],y=[...e].sort((v,N)=>(N.expiry_time||0)-(v.expiry_time||0)),p=v=>{if(!v)return 0;const N=Number(v)>1e10?Number(v):Number(v)*1e3;return Math.max(0,Math.floor((N-Date.now())/864e5))},g=(v,N)=>{if(!v||!N)return 0;const w=Number(v)>1e10?Number(v):Number(v)*1e3,P=Number(N)>1e10?Number(N):Number(N)*1e3,f=Date.now(),c=P-w,x=f-w;return c<=0?100:Math.min(100,Math.max(0,x/c*100))};return r.jsx("div",{className:"space-y-2",children:y.map((v,N)=>{var W;const w=typeof v.tariff_id=="number"?u.get(v.tariff_id):void 0,P=(w==null?void 0:w.name)||v.alias||` #${N+1}`,f=Ff(v.expiry_time),c=v.created_at&&v.expiry_time?Math.max(0,Number(v.expiry_time)-Number(v.created_at)):null,x=c?Math.floor(c/86400):null;w==null||w.duration_days;const k=v.is_frozen?"":"",T=Vf(v.expiry_time),L=p(v.expiry_time),E=g(v.created_at,v.expiry_time),b=(w==null?void 0:w.subgroup_title)||(w==null?void 0:w.group_code),A=v.remnawave_link||v.key,O=A?m.find(V=>(V==null?void 0:V.subscriptionUrl)===A):void 0,H=v.current_device_limit??v.selected_device_limit??(w==null?void 0:w.device_limit)??(O==null?void 0:O.hwidDeviceLimit),ee=v.current_traffic_limit??v.selected_traffic_limit??(w==null?void 0:w.traffic_limit)??(O==null?void 0:O.trafficLimitBytes),ue=(W=O==null?void 0:O.userTraffic)==null?void 0:W.usedTrafficBytes,S=O!=null&&O.uuid?l[O.uuid]:void 0,C=O!=null&&O.uuid?(s||[]).filter(V=>(V==null?void 0:V.subscription_uuid)===O.uuid):[],I=i[v.client_id||v.key||String(N)]??!1,Y=L<=3?"from-rose-500 to-rose-600":L<=7?"from-amber-500 to-orange-500":"from-emerald-500 to-teal-500",M=L<=3?"bg-rose-500/10 border-rose-500/20":L<=7?"bg-amber-500/10 border-amber-500/20":"bg-emerald-500/10 border-emerald-500/20",B=L<=3?"text-rose-400":L<=7?"text-amber-400":"text-emerald-400";return r.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-white/[0.02] overflow-hidden",children:[r.jsxs("button",{onClick:()=>o(v.client_id||v.key||String(N)),className:"w-full px-3 py-2.5 flex items-center gap-3 hover:bg-white/[0.02] transition-colors",children:[r.jsx("div",{className:`w-8 h-8 rounded-lg bg-gradient-to-br ${Y} flex items-center justify-center shrink-0`,children:r.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 013 3m3 0a6 6 0 01-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1121.75 8.25z"})})}),r.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-[12px] font-medium text-white",children:P}),r.jsx("span",{className:`shrink-0 rounded-full border px-1.5 py-0.5 text-[9px] font-medium ${v.is_frozen?"bg-rose-500/15 text-rose-300 border-rose-400/30":"bg-emerald-500/15 text-emerald-300 border-emerald-400/30"}`,children:k})]}),r.jsxs("div",{className:"text-[10px] text-white/40",children:[b||"standart","  ",ee?Pu(ue,ee):" "]})]}),r.jsx("div",{className:`shrink-0 w-5 h-5 rounded flex items-center justify-center text-white/30 transition-transform duration-200 ${I?"rotate-180":""}`,children:r.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})})]}),r.jsxs("div",{className:"px-3 pb-2.5 flex items-center gap-3",children:[r.jsxs("div",{className:`flex-1 rounded-lg ${M} border px-2.5 py-1.5`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"text-[9px] text-white/40 uppercase tracking-wide",children:""}),r.jsx("span",{className:`text-[11px] font-bold ${B}`,children:T||""})]}),r.jsx("div",{className:"h-1 rounded-full bg-white/10 overflow-hidden",children:r.jsx("div",{className:`h-full rounded-full bg-gradient-to-r ${Y}`,style:{width:`${100-E}%`}})}),r.jsx("div",{className:"mt-1 text-[9px] text-white/40 text-right",children:ee?Pu(ue,ee):`${cl(ue||0)} / `})]}),H!==void 0&&r.jsxs("button",{onClick:V=>{V.stopPropagation(),(S??0)>0&&(O!=null&&O.uuid)&&a(O.uuid)},disabled:(S??0)===0,className:`shrink-0 rounded-lg ${M} border px-3 py-1.5 text-center min-w-[60px] transition-colors ${(S??0)>0?"hover:bg-white/[0.05] cursor-pointer":"cursor-default"}`,children:[r.jsxs("div",{className:"text-[12px] font-bold text-white",children:[S??0,r.jsxs("span",{className:"text-white/30",children:["/",H]})]}),r.jsx("div",{className:"text-[10px] text-white/50",children:""})]})]}),I&&r.jsxs("div",{className:"border-t border-white/[0.04] px-3 py-2.5 space-y-1.5",children:[f&&r.jsxs("div",{className:"flex items-center justify-between text-[10px]",children:[r.jsx("span",{className:"text-white/40",children:""}),r.jsx("span",{className:"font-mono text-white/70",children:f})]}),(v.remnawave_link||v.key)&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-[10px] text-white/40",children:""}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("a",{href:A,target:"_blank",rel:"noreferrer",className:"h-6 w-6 rounded bg-white/[0.05] flex items-center justify-center text-white/40 hover:text-white hover:bg-white/10 transition-colors",title:"",children:r.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})})}),r.jsx("button",{type:"button",onClick:()=>A&&Hf(A),className:"h-6 w-6 rounded bg-white/[0.05] flex items-center justify-center text-white/40 hover:text-white hover:bg-white/10 transition-colors",title:"",children:r.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0013.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 01-.75.75H9a.75.75 0 01-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 01-2.25 2.25H6.75A2.25 2.25 0 014.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 011.927-.184"})})})]})]}),(O==null?void 0:O.uuid)&&C.length>0&&r.jsxs("div",{className:"pt-1.5 border-t border-white/[0.04]",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[r.jsx("span",{className:"text-[10px] text-white/40",children:""}),r.jsx("button",{onClick:()=>a(O.uuid),className:"text-[9px] text-ocean-400 hover:text-ocean-300",children:" "})]}),r.jsxs("div",{className:"space-y-1",children:[C.slice(0,2).map((V,re)=>{var me,ae;return r.jsxs("div",{className:"flex items-center gap-2 text-[10px] bg-white/[0.02] rounded px-2 py-1",children:[r.jsx("span",{children:(me=V.platform)!=null&&me.toLowerCase().includes("ios")?"":(ae=V.platform)!=null&&ae.toLowerCase().includes("android")?"":""}),r.jsx("span",{className:"text-white/60 truncate",children:V.deviceModel||V.platform||""})]},re)}),C.length>2&&r.jsxs("div",{className:"text-[9px] text-white/30 text-center",children:["+",C.length-2," "]})]})]})]})]},N)})})},Jf=e=>{if(!e||e.length===0)return r.jsx("div",{className:"text-xs text-white/40",children:" "});const t=[...e].sort((n,s)=>{const l=n.created_at?new Date(n.created_at).getTime():0;return(s.created_at?new Date(s.created_at).getTime():0)-l});return r.jsx("div",{className:"space-y-2",children:t.map((n,s)=>{const l=(n.status||"").toString().toLowerCase(),i=l.includes("success")||l.includes("paid"),o=l.includes("fail")||l.includes("error"),a=i?"from-emerald-500 to-teal-500":o?"from-rose-500 to-rose-600":"from-gray-500 to-gray-600",u=i?"bg-emerald-500/10 border-emerald-500/20 text-emerald-400":o?"bg-rose-500/10 border-rose-500/20 text-rose-400":"bg-white/5 border-white/10 text-white/60",m=n.amount!==void 0?So(n.amount):null,y=wr(n.created_at);return r.jsx("div",{className:"rounded-xl border border-white/[0.06] bg-white/[0.02] overflow-hidden",children:r.jsxs("div",{className:"px-3 py-2.5 flex items-center gap-3",children:[r.jsx("div",{className:`w-8 h-8 rounded-lg bg-gradient-to-br ${a} flex items-center justify-center shrink-0`,children:i?r.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}):o?r.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}):r.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsx("span",{className:"text-[11px] font-mono text-white/50",children:y||""}),n.status&&r.jsx("span",{className:`shrink-0 rounded-full border px-1.5 py-0.5 text-[9px] font-medium ${u}`,children:n.status})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[n.payment_system&&r.jsx("span",{className:"text-[10px] text-white/40 bg-white/[0.03] rounded px-1.5 py-0.5",children:n.payment_system}),m&&r.jsx("span",{className:"text-[12px] font-semibold text-white",children:m})]})]})]})},s)})})},Yf={NEW:"",ACTIVE:"",CLOSED:"",ESCALATED:" "};function Ou({chat:e,onBack:t,userRole:n,solobotUsername:s,onChatDeleted:l,onChatUpdated:i}){var De,xe,We,Fe,ot,_e;const[o,a]=d.useState(null),[u,m]=d.useState(!1),[y,p]=d.useState(!1),[g,v]=d.useState(null),[N,w]=d.useState(!1),[P,f]=d.useState(!1),[c,x]=d.useState(""),[k,T]=d.useState(""),[L,E]=d.useState("details"),[b,A]=d.useState(!1),[O,H]=d.useState(!0),[ee,ue]=d.useState(!1),[S,C]=d.useState({}),[I,Y]=d.useState({}),[M,B]=d.useState(null),[W,V]=d.useState({}),[re,me]=d.useState(null),ae=d.useRef({});d.useEffect(()=>{if(!e)return;const _=ae.current[e.tg_id];a(_??null),m(!_),Q.getProfile(e.tg_id).then(q=>{ae.current[e.tg_id]=q,a(q),p(!0)}).catch(()=>a(null)).finally(()=>m(!1)),B(null)},[e==null?void 0:e.tg_id]),d.useEffect(()=>{if(!y)return;const _=setTimeout(()=>p(!1),2e3);return()=>clearTimeout(_)},[y]),d.useEffect(()=>{if(!g)return;const _=setTimeout(()=>v(null),3e3);return()=>clearTimeout(_)},[g]);const Pe=async(_,q)=>{await Q.deleteRemnawaveDevice(_,q),e&&a(D=>{if(!D)return D;const Te={...D,remnawave_devices:(D.remnawave_devices||[]).filter(ce=>!((ce==null?void 0:ce.subscription_uuid)===_&&(ce==null?void 0:ce.hwid)===q))};return ae.current[e.tg_id]=Te,Te})},pe=_=>{E("devices"),B(_),Y(q=>({...q,[_]:!0}))},ge=async()=>{if(e){f(!0);try{await Q.deleteChat(e.id),w(!1),l==null||l(e.id)}catch(_){console.error("Failed to delete chat:",_)}finally{f(!1)}}},Ie=()=>{if(!(e!=null&&e.tg_id))return;const _=(s==null?void 0:s.replace(/^@/,""))||"";if(_){window.open(`https://t.me/${_}?start=user_${e.tg_id}`,"_blank");return}window.open(`https://t.me/${e.tg_id}`,"_blank")};return r.jsxs("div",{className:"card relative p-4 sm:p-5 h-full flex flex-col gap-3 overflow-hidden",children:[y&&r.jsx("div",{className:"absolute right-5 bottom-5 rounded-full border border-emerald-400/30 bg-emerald-500/15 px-3 py-1 text-[11px] text-emerald-100 shadow-soft z-10",children:""}),g&&r.jsxs("div",{className:"fixed top-24 left-1/2 -translate-x-1/2 z-50 rounded-2xl border border-emerald-400/30 bg-emerald-500/20 backdrop-blur-xl px-5 py-3 text-sm text-emerald-100 shadow-2xl",children:[" ",g]}),r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-display font-semibold",children:"  "}),r.jsx("div",{className:"text-xs text-white/50",children:", , "})]}),t&&r.jsx("button",{onClick:t,className:"xl:hidden h-9 w-9 rounded-full border border-white/10 text-white/70 hover:bg-white/10","aria-label":"",children:""})]}),!e&&r.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-4",children:[r.jsx("div",{className:"h-16 w-16 rounded-2xl bg-gradient-to-br from-white/[0.03] to-white/[0.01] border border-white/[0.06] flex items-center justify-center",children:r.jsx("svg",{className:"h-7 w-7 text-white/20",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})})}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-white/40 text-sm",children:"  "}),r.jsx("div",{className:"text-white/25 text-xs mt-1",children:"  "})]})]}),e&&u&&r.jsx("div",{className:"text-white/40 text-sm",children:""}),e&&!u&&r.jsx("div",{className:"flex-1 overflow-y-auto pr-1 scrollbar-thin",children:r.jsxs("div",{className:"flex flex-col gap-3 text-sm",children:[r.jsxs("div",{className:"rounded-2xl bg-white/5 border border-white/10 p-4 flex gap-4 items-center",children:[r.jsx("div",{className:"h-12 w-12 rounded-full overflow-hidden bg-gradient-to-br from-ocean-600/40 to-gold-500/30 flex items-center justify-center font-display text-base",children:e.photo_url||(De=o==null?void 0:o.user)!=null&&De.photo_url?r.jsx("img",{src:e.photo_url||((xe=o==null?void 0:o.user)==null?void 0:xe.photo_url),alt:"avatar",className:"h-full w-full object-cover"}):(e.first_name||e.tg_username||"U")[0]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-white/90 font-semibold",children:Xt(Gt([e.first_name,e.last_name].filter(Boolean).join(" ")||e.tg_username||""),28)}),r.jsxs("div",{className:"text-xs text-white/50",children:["ID ",e.tg_id]}),e.tg_username&&r.jsxs("div",{className:"text-xs text-white/50",children:["@",Xt(Gt(e.tg_username),24)]})]})]}),r.jsx("div",{className:"rounded-3xl bg-white/5 border border-white/10 p-2 flex gap-2 flex-wrap",children:[{key:"details",label:""},{key:"subscriptions",label:""},{key:"payments",label:""},{key:"partner",label:""},{key:"devices",label:""},{key:"chat",label:""}].map(_=>r.jsx("button",{onClick:()=>E(_.key),className:`flex-1 min-w-[120px] rounded-2xl px-3 py-2 text-xs ${L===_.key?"bg-white/10 text-white":"text-white/50"}`,children:_.label},_.key))}),L==="details"&&r.jsxs("div",{className:"rounded-3xl bg-white/5 border border-white/10 p-4",children:[r.jsx("div",{className:"text-white/80 font-medium",children:" "}),r.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2 text-xs text-white/70",children:[[e.first_name,e.last_name].filter(Boolean).join(" ")&&r.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-white/[0.04] border border-white/5 px-3 py-2",children:[r.jsx("div",{className:"text-white/50",children:" "}),r.jsx("div",{className:"text-right font-mono text-white/80 truncate max-w-[140px]",children:Xt(Gt([e.first_name,e.last_name].filter(Boolean).join(" ")),20)})]}),r.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-white/[0.04] border border-white/5 px-3 py-2",children:[r.jsx("div",{className:"text-white/50",children:"ID "}),r.jsx("div",{className:"text-right font-mono text-white/80",children:e.tg_id})]}),e.tg_username&&r.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-white/[0.04] border border-white/5 px-3 py-2",children:[r.jsx("div",{className:"text-white/50",children:"Username"}),r.jsxs("div",{className:"text-right font-mono text-white/80 truncate max-w-[140px]",children:["@",Xt(Gt(e.tg_username),18)]})]}),r.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-white/[0.04] border border-white/5 px-3 py-2",children:[r.jsx("div",{className:"text-white/50",children:"  "}),r.jsx("div",{className:"text-right font-mono text-white/80",children:o!=null&&o.user?"":""})]}),((We=o==null?void 0:o.user)==null?void 0:We.balance)!==void 0&&r.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-white/[0.04] border border-white/5 px-3 py-2",children:[r.jsx("div",{className:"text-white/50",children:""}),r.jsx("div",{className:"text-right font-mono text-white/80",children:So((Fe=o==null?void 0:o.user)==null?void 0:Fe.balance)})]}),((ot=o==null?void 0:o.user)==null?void 0:ot.created_at)&&r.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-white/[0.04] border border-white/5 px-3 py-2",children:[r.jsx("div",{className:"text-white/50",children:" "}),r.jsx("div",{className:"text-right font-mono text-white/80",children:wr((_e=o==null?void 0:o.user)==null?void 0:_e.created_at)})]})]})]}),L==="subscriptions"&&r.jsxs("div",{className:"rounded-3xl bg-gradient-to-br from-white/[0.04] to-transparent border border-white/[0.08] p-5",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-ocean-500 to-ocean-600 flex items-center justify-center shadow-lg",children:r.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 013 3m3 0a6 6 0 01-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1121.75 8.25z"})})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-white font-semibold",children:""}),r.jsx("div",{className:"text-[11px] text-white/40",children:"   "})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs("span",{className:"px-3 py-1.5 rounded-full bg-ocean-500/10 border border-ocean-500/20 text-ocean-300 text-xs font-medium",children:[((o==null?void 0:o.keys)||[]).length," "]})})]}),r.jsxs("div",{className:"rounded-2xl border border-white/[0.06] bg-white/[0.02] overflow-hidden",children:[r.jsxs("button",{onClick:()=>A(_=>!_),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-white/[0.02] transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-2 text-white/70",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zM3.75 12h.007v.008H3.75V12zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm-.375 5.25h.007v.008H3.75v-.008zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),r.jsx("span",{className:"text-sm font-medium",children:" "})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs text-white/40",children:b?"":""}),r.jsx("div",{className:`w-6 h-6 rounded-lg flex items-center justify-center text-white/40 transition-transform duration-200 ${b?"rotate-180":""}`,children:r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})})]})]}),b&&r.jsxs("div",{className:"border-t border-white/[0.06] p-4",children:[r.jsxs("div",{className:"relative mb-4",children:[r.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/30",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),r.jsx("input",{value:c,onChange:_=>x(_.target.value),placeholder:"  ...",className:"w-full h-10 pl-9 pr-4 rounded-xl bg-white/[0.03] border border-white/[0.06] text-xs text-white placeholder:text-white/30 focus:outline-none focus:border-ocean-500/30"})]}),r.jsx("div",{className:"max-h-[400px] overflow-y-auto pr-1 scrollbar-thin",children:Kf(((o==null?void 0:o.keys)||[]).filter(_=>JSON.stringify(_).toLowerCase().includes(c.toLowerCase())),(o==null?void 0:o.tariffs)||[],(o==null?void 0:o.remnawave)||[],(o==null?void 0:o.remnawave_devices)||[],((o==null?void 0:o.remnawave_devices)||[]).reduce((_,q)=>{const D=q==null?void 0:q.subscription_uuid;return D&&(_[D]=(_[D]||0)+1),_},{}),W,_=>V(q=>({...q,[_]:!(q[_]??!1)})),pe)})]})]})]}),L==="payments"&&r.jsxs("div",{className:"rounded-3xl bg-gradient-to-br from-white/[0.04] to-transparent border border-white/[0.08] p-5",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center shadow-lg",children:r.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5zm-12 0h.008v.008H6V10.5z"})})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-white font-semibold",children:""}),r.jsx("div",{className:"text-[11px] text-white/40",children:" "})]})]}),r.jsxs("span",{className:"px-3 py-1.5 rounded-full bg-violet-500/10 border border-violet-500/20 text-violet-300 text-xs font-medium",children:[((o==null?void 0:o.payments)||[]).length," "]})]}),r.jsxs("div",{className:"rounded-2xl border border-white/[0.06] bg-white/[0.02] overflow-hidden",children:[r.jsxs("button",{onClick:()=>H(_=>!_),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-white/[0.02] transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-2 text-white/70",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zM3.75 12h.007v.008H3.75V12zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm-.375 5.25h.007v.008H3.75v-.008zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),r.jsx("span",{className:"text-sm font-medium",children:" "})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs text-white/40",children:O?"":""}),r.jsx("div",{className:`w-6 h-6 rounded-lg flex items-center justify-center text-white/40 transition-transform duration-200 ${O?"rotate-180":""}`,children:r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})})]})]}),O&&r.jsxs("div",{className:"border-t border-white/[0.06] p-4",children:[r.jsxs("div",{className:"relative mb-4",children:[r.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/30",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),r.jsx("input",{value:k,onChange:_=>T(_.target.value),placeholder:"  ...",className:"w-full h-10 pl-9 pr-4 rounded-xl bg-white/[0.03] border border-white/[0.06] text-xs text-white placeholder:text-white/30 focus:outline-none focus:border-violet-500/30"})]}),r.jsx("div",{className:"max-h-[400px] overflow-y-auto pr-1 scrollbar-thin",children:Jf(((o==null?void 0:o.payments)||[]).filter(_=>JSON.stringify(_).toLowerCase().includes(k.toLowerCase())))})]})]})]}),L==="partner"&&r.jsxs("div",{className:"rounded-3xl bg-gradient-to-br from-white/[0.04] to-transparent border border-white/[0.08] p-5",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-amber-500 to-orange-600 flex items-center justify-center shadow-lg",children:r.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m.94 3.198l.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0112 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 016 18.719m12 0a5.971 5.971 0 00-.941-3.197m0 0A5.995 5.995 0 0012 12.75a5.995 5.995 0 00-5.058 2.772m0 0a3 3 0 00-4.681 2.72 8.986 8.986 0 003.74.477m.94-3.197a5.971 5.971 0 00-.94 3.197M15 6.75a3 3 0 11-6 0 3 3 0 016 0zm6 3a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0zm-13.5 0a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"})})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-white font-semibold",children:" "}),r.jsx("div",{className:"text-[11px] text-white/40",children:" "})]})]}),r.jsxs("span",{className:"px-3 py-1.5 rounded-full bg-amber-500/10 border border-amber-500/20 text-amber-300 text-xs font-medium",children:[((o==null?void 0:o.referrals)||[]).length," "]})]}),r.jsxs("div",{className:"rounded-2xl border border-white/[0.06] bg-white/[0.02] overflow-hidden",children:[r.jsxs("button",{onClick:()=>ue(_=>!_),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-white/[0.02] transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-2 text-white/70",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z"})}),r.jsx("span",{className:"text-sm font-medium",children:" "})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs text-white/40",children:ee?"":""}),r.jsx("div",{className:`w-6 h-6 rounded-lg flex items-center justify-center text-white/40 transition-transform duration-200 ${ee?"rotate-180":""}`,children:r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})})]})]}),ee&&r.jsx("div",{className:"border-t border-white/[0.06] p-4",children:r.jsxs("div",{className:"max-h-[400px] overflow-y-auto pr-1 scrollbar-thin space-y-2",children:[((o==null?void 0:o.referrals)||[]).length===0&&r.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-white/40",children:[r.jsx("svg",{className:"w-12 h-12 mb-3 opacity-30",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m.94 3.198l.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0112 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 016 18.719m12 0a5.971 5.971 0 00-.941-3.197m0 0A5.995 5.995 0 0012 12.75a5.995 5.995 0 00-5.058 2.772m0 0a3 3 0 00-4.681 2.72 8.986 8.986 0 003.74.477m.94-3.197a5.971 5.971 0 00-.94 3.197M15 6.75a3 3 0 11-6 0 3 3 0 016 0zm6 3a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0zm-13.5 0a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"})}),r.jsx("span",{className:"text-sm",children:"  "}),r.jsx("span",{className:"text-xs mt-1",children:"   "})]}),((o==null?void 0:o.referrals)||[]).map((_,q)=>{var fe;const D=String((_==null?void 0:_.referred_tg_id)||((fe=_==null?void 0:_.user)==null?void 0:fe.tg_id)||q),Te=S[D]??!1,ce=_.user?Xt(Gt([_.user.first_name,_.user.last_name].filter(Boolean).join(" ")),20)||(_.user.username?`@${Xt(Gt(_.user.username),16)}`:`TG ${_.referred_tg_id}`):`TG ${_.referred_tg_id}`;return r.jsxs("div",{className:"rounded-xl bg-white/[0.03] border border-white/[0.06] overflow-hidden",children:[r.jsxs("button",{type:"button",onClick:()=>C(we=>({...we,[D]:!Te})),className:"w-full px-3 py-2.5 flex items-center justify-between hover:bg-white/[0.02] transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-2.5 min-w-0",children:[r.jsx("div",{className:"w-7 h-7 shrink-0 rounded-lg bg-gradient-to-br from-amber-500/20 to-orange-500/20 border border-amber-500/20 flex items-center justify-center",children:r.jsx("svg",{className:"w-3.5 h-3.5 text-amber-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})})}),r.jsx("div",{className:"text-xs text-white/90 font-medium truncate",children:ce})]}),r.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[r.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-medium ${_.reward_issued?"bg-emerald-500/15 text-emerald-400":"bg-white/5 text-white/50"}`,children:_.reward_issued?"":""}),r.jsx("div",{className:`w-5 h-5 rounded flex items-center justify-center text-white/40 transition-transform duration-200 ${Te?"rotate-180":""}`,children:r.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})})]})]}),Te&&r.jsxs("div",{className:"px-3 pb-3 border-t border-white/[0.06] pt-2 space-y-1",children:[r.jsxs("div",{className:"flex items-center justify-between text-[11px] py-1 border-b border-white/[0.04]",children:[r.jsx("span",{className:"text-white/40",children:"TG ID"}),r.jsx("span",{className:"font-mono text-white/70",children:_.referred_tg_id})]}),r.jsxs("div",{className:"flex items-center justify-between text-[11px] py-1 border-b border-white/[0.04]",children:[r.jsx("span",{className:"text-white/40",children:""}),r.jsx("span",{className:"font-mono text-white/70",children:_.referrer_tg_id})]}),r.jsxs("div",{className:"flex items-center justify-between text-[11px] py-1 border-b border-white/[0.04]",children:[r.jsx("span",{className:"text-white/40",children:""}),r.jsx("span",{className:_.reward_issued?"text-emerald-400":"text-white/50",children:_.reward_issued?"":""})]}),_.user&&r.jsxs(r.Fragment,{children:[[_.user.first_name,_.user.last_name].filter(Boolean).join(" ")&&r.jsxs("div",{className:"flex items-center justify-between text-[11px] py-1 border-b border-white/[0.04]",children:[r.jsx("span",{className:"text-white/40",children:""}),r.jsx("span",{className:"text-white/70 truncate max-w-[100px]",children:Xt(Gt([_.user.first_name,_.user.last_name].filter(Boolean).join(" ")),18)})]}),_.user.username&&r.jsxs("div",{className:"flex items-center justify-between text-[11px] py-1 border-b border-white/[0.04]",children:[r.jsx("span",{className:"text-white/40",children:"Username"}),r.jsxs("span",{className:"font-mono text-white/70 truncate max-w-[100px]",children:["@",Xt(Gt(_.user.username),14)]})]}),_.user.balance!==void 0&&r.jsxs("div",{className:"flex items-center justify-between text-[11px] py-1 border-b border-white/[0.04]",children:[r.jsx("span",{className:"text-white/40",children:""}),r.jsx("span",{className:"font-medium text-emerald-400",children:So(_.user.balance)})]}),_.user.created_at&&r.jsxs("div",{className:"flex items-center justify-between text-[11px] py-1",children:[r.jsx("span",{className:"text-white/40",children:""}),r.jsx("span",{className:"text-white/70",children:wr(_.user.created_at)})]})]})]})]},q)})]})})]})]}),L==="devices"&&r.jsxs("div",{className:"rounded-3xl bg-white/5 border border-white/10 p-4",children:[r.jsx("div",{className:"text-white/80 font-medium",children:""}),Array.isArray(o==null?void 0:o.remnawave_devices)&&(o==null?void 0:o.remnawave_devices.length)>0&&r.jsxs("div",{className:"mt-2 flex flex-wrap gap-2 text-xs",children:[r.jsx("button",{onClick:()=>B(null),className:`rounded-full border px-3 py-1 ${M?"border-white/10 text-white/50 hover:bg-white/10":"border-white/20 text-white"}`,children:" "}),Object.entries(((o==null?void 0:o.remnawave_devices)||[]).reduce((_,q)=>{const D=(q==null?void 0:q.subscription_uuid)||"unknown";return _[D]||(_[D]=q),_},{})).map(([_,q])=>r.jsx("button",{onClick:()=>pe(_),className:`rounded-full border px-3 py-1 ${M===_?"border-white/20 text-white":"border-white/10 text-white/50 hover:bg-white/10"}`,children:(q==null?void 0:q.subscription_username)||_},_))]}),r.jsx("div",{className:"mt-3 max-h-[560px] overflow-y-auto pr-1 scrollbar-thin",children:Qf((o==null?void 0:o.remnawave_devices)||[],I,_=>Y(q=>({...q,[_]:!(q[_]??!1)})),(_,q)=>me({userUuid:_,hwid:q}),M)})]}),L==="chat"&&r.jsxs("div",{className:"rounded-3xl bg-white/5 border border-white/10 p-4",children:[r.jsx("div",{className:"text-white/80 font-medium",children:"  "}),r.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2 text-xs text-white/70",children:[e.created_at&&r.jsxs("div",{className:"grid grid-cols-[1fr_auto] items-center gap-3 rounded-xl bg-white/[0.04] border border-white/5 px-3 py-2",children:[r.jsx("div",{className:"text-white/50",children:""}),r.jsx("div",{className:"font-mono text-white/80 text-right",children:wr(e.created_at)})]}),e.last_message_at&&r.jsxs("div",{className:"grid grid-cols-[1fr_auto] items-center gap-3 rounded-xl bg-white/[0.04] border border-white/5 px-3 py-2",children:[r.jsx("div",{className:"text-white/50",children:" "}),r.jsx("div",{className:"font-mono text-white/80 text-right",children:wr(e.last_message_at)})]}),r.jsxs("div",{className:"grid grid-cols-[1fr_auto] items-center gap-3 rounded-xl bg-white/[0.04] border border-white/5 px-3 py-2",children:[r.jsx("div",{className:"text-white/50",children:""}),r.jsx("span",{className:`inline-flex items-center rounded-full border px-2 py-0.5 text-[11px] ${e.status==="ACTIVE"?"bg-emerald-500/15 text-emerald-300 border-emerald-400/30":e.status==="NEW"?"bg-ocean-500/15 text-ocean-300 border-ocean-400/30":e.status==="CLOSED"?"bg-white/10 text-white/50 border-white/10":"bg-gold-500/15 text-gold-300 border-gold-400/30"}`,children:Yf[e.status]||e.status})]})]})]})]})}),e&&r.jsxs("div",{className:"mt-auto flex flex-col gap-2",children:[r.jsx("button",{onClick:Ie,className:"w-full rounded-full border border-white/10 py-2 text-sm text-white/70 hover:bg-white/10",children:"  "}),r.jsx("button",{onClick:async()=>{e&&(await Q.escalateChat(e.id),v("  "),i==null||i({...e,status:"ESCALATED"}))},className:"w-full rounded-full border border-white/10 py-2 text-sm text-white/70 hover:bg-white/10 active:bg-white/20 touch-manipulation",children:" "}),r.jsx("button",{onClick:async()=>{e&&(await Q.closeChat(e.id),v("  "),i==null||i({...e,status:"CLOSED"}))},className:"w-full rounded-full border border-white/10 py-2 text-sm text-white/70 hover:bg-white/10 active:bg-white/20 touch-manipulation",children:" "}),n==="administrator"&&r.jsx("button",{onClick:()=>w(!0),className:"w-full rounded-full bg-rose-500/10 border border-rose-500/30 py-2 text-sm text-rose-300 hover:bg-rose-500/20 transition-colors",children:" "})]}),N&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:r.jsxs("div",{className:"w-full max-w-sm rounded-3xl border border-rose-500/20 bg-ink-900/98 p-6 shadow-2xl",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-12 w-12 rounded-full bg-rose-500/15 flex items-center justify-center",children:r.jsx("svg",{className:"h-6 w-6 text-rose-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-display font-semibold text-white",children:" ?"}),r.jsx("div",{className:"text-xs text-white/50",children:"   "})]})]}),r.jsx("div",{className:"mt-4 rounded-2xl bg-rose-500/5 border border-rose-500/10 p-3",children:r.jsxs("div",{className:"text-xs text-white/60",children:["  ",r.jsx("span",{className:"text-white/90 font-medium",children:Xt(Gt((e==null?void 0:e.first_name)||(e==null?void 0:e.tg_username)||""),20)||""}),"      ."]})}),r.jsxs("div",{className:"mt-5 flex gap-3",children:[r.jsx("button",{className:"flex-1 rounded-full border border-white/10 py-2.5 text-sm text-white/70 hover:bg-white/10 transition-colors",onClick:()=>w(!1),disabled:P,children:""}),r.jsx("button",{className:"flex-1 rounded-full bg-rose-500 border border-rose-400 py-2.5 text-sm text-white font-medium hover:bg-rose-600 transition-colors disabled:opacity-50",onClick:ge,disabled:P,children:P?"...":""})]})]})}),re&&r.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:r.jsxs("div",{className:"w-full max-w-sm rounded-3xl border border-white/10 bg-ink-900/95 p-5",children:[r.jsx("div",{className:"text-lg font-display font-semibold",children:" ?"}),r.jsxs("div",{className:"mt-2 text-xs text-white/60",children:["HWID: ",r.jsx("span",{className:"font-mono text-white/80",children:re.hwid})]}),r.jsxs("div",{className:"mt-4 flex gap-2",children:[r.jsx("button",{className:"flex-1 rounded-full border border-white/10 py-2 text-sm text-white/70 hover:bg-white/10",onClick:()=>me(null),children:""}),r.jsx("button",{className:"flex-1 rounded-full bg-rose-500/20 border border-rose-500/40 py-2 text-sm text-rose-200 hover:bg-rose-500/30",onClick:async()=>{const _=re;me(null),await Pe(_.userUuid,_.hwid)},children:""})]})]})})]})}function Gs({className:e}){return r.jsx("div",{className:wn("shimmer animate-shimmer rounded-2xl h-4",e)})}function t0({attachments:e,onAttachmentsChange:t,buttons:n,onButtonsChange:s,uploading:l,setUploading:i}){const o=d.useRef(null),a=d.useRef(null),[u,m]=d.useState(!1),[y,p]=d.useState(""),[g,v]=d.useState(""),[N,w]=d.useState(null),[P,f]=d.useState(!1),c=S=>{S.preventDefault(),S.stopPropagation(),f(!0)},x=S=>{S.preventDefault(),S.stopPropagation(),a.current&&!a.current.contains(S.relatedTarget)&&f(!1)},k=S=>{S.preventDefault(),S.stopPropagation()},T=async S=>{S.preventDefault(),S.stopPropagation(),f(!1);const C=S.dataTransfer.files;C&&C.length>0&&await L(C)},L=async S=>{if(!(!S||S.length===0)){i(!0);try{const C=[];for(const I of Array.from(S)){const Y=await Q.upload(I);C.push({url:Y.url,local_path:Y.local_path,mime:Y.mime,name:Y.name,size:Y.size})}t([...e,...C])}catch(C){console.error("Upload failed:",C)}finally{i(!1),o.current&&(o.current.value="")}}},E=S=>{t(e.filter((C,I)=>I!==S))},[b,A]=d.useState(null),O=S=>{try{const I=new URL(S).hostname.toLowerCase();return I.includes(",")?(A("URL      "),!1):I.includes(".")?(A(null),!0):(A("URL    (, t.me)"),!1)}catch{return A("  URL"),!1}},H=()=>{if(!y.trim()||!g.trim())return;let S=g.trim();if(/^https?:\/\//i.test(S)||(S="https://"+S),!O(S))return;const C={text:y.trim(),url:S};if(N!==null&&n[N]){const I=[...n];I[N]=[...I[N],C],s(I)}else s([...n,[C]]);p(""),v(""),w(null)},ee=(S,C)=>{const I=n.map((Y,M)=>M===S?Y.filter((B,W)=>W!==C):Y).filter(Y=>Y.length>0);s(I)},ue=S=>{const C=(S.mime||"").toLowerCase(),I=(S.name||"").toLowerCase(),Y=C.startsWith("image/")||I.match(/\.(png|jpe?g|webp|gif|heic|heif)$/i),M=C.startsWith("video/")||I.match(/\.(mp4|mov|mkv|webm)$/i),B=C.startsWith("audio/")||I.match(/\.(mp3|wav|ogg|m4a)$/i),W=S.url||S.local_path;return Y&&W?r.jsx("img",{src:W,alt:S.name||"image",className:"h-16 w-16 rounded-xl object-cover"}):M?r.jsx("div",{className:"h-16 w-16 rounded-xl bg-ocean-500/15 flex items-center justify-center",children:r.jsx("svg",{className:"h-6 w-6 text-ocean-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}):B?r.jsx("div",{className:"h-16 w-16 rounded-xl bg-emerald-500/15 flex items-center justify-center",children:r.jsx("svg",{className:"h-6 w-6 text-emerald-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})})}):r.jsx("div",{className:"h-16 w-16 rounded-xl bg-white/5 flex items-center justify-center",children:r.jsx("svg",{className:"h-6 w-6 text-white/40",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})};return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"text-xs text-white/50",children:""}),r.jsx("button",{type:"button",onClick:()=>{var S;return(S=o.current)==null?void 0:S.click()},disabled:l,className:"text-xs text-ocean-400 hover:text-ocean-300 transition disabled:opacity-50",children:l?"...":"+  "})]}),e.length===1&&n.length>0&&r.jsx("div",{className:"mb-3 rounded-xl border border-amber-500/20 bg-amber-500/10 px-3 py-2",children:r.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-300",children:[r.jsx("svg",{className:"h-4 w-4 shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsx("span",{children:"        ( Telegram)"})]})}),r.jsx("input",{ref:o,type:"file",multiple:!0,accept:"image/*,video/*,audio/*,.pdf,.doc,.docx,.xls,.xlsx,.zip,.rar",onChange:S=>L(S.target.files),className:"hidden"}),e.length>0?r.jsx("div",{className:"flex flex-wrap gap-3",children:e.map((S,C)=>r.jsxs("div",{className:"relative group",children:[ue(S),r.jsx("button",{type:"button",onClick:()=>E(C),className:"absolute -top-1.5 -right-1.5 h-5 w-5 rounded-full bg-rose-500/90 text-white text-xs flex items-center justify-center opacity-0 group-hover:opacity-100 transition",children:""}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 px-1 py-0.5 bg-black/60 rounded-b-xl",children:r.jsx("div",{className:"text-[9px] text-white/70 truncate",children:S.name||"file"})})]},C))}):r.jsxs("div",{ref:a,onDragEnter:c,onDragLeave:x,onDragOver:k,onDrop:T,onClick:()=>{var S;return(S=o.current)==null?void 0:S.click()},className:`rounded-2xl border-2 border-dashed p-6 text-center cursor-pointer transition-all ${P?"border-ocean-400 bg-ocean-500/10 scale-[1.02]":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.04]"}`,children:[r.jsx("div",{className:`mb-2 transition-transform ${P?"scale-110":""}`,children:P?r.jsx("svg",{className:"h-10 w-10 mx-auto text-ocean-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}):r.jsx("svg",{className:"h-10 w-10 mx-auto text-white/20",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),r.jsx("div",{className:`text-sm transition-colors ${P?"text-ocean-300":"text-white/40"}`,children:P?"  ":"  "}),r.jsx("div",{className:"text-xs text-white/20 mt-1",children:"     , , , "})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"text-xs text-white/50",children:"Inline  (URL)"}),e.length>1?r.jsx("span",{className:"text-xs text-amber-400/70",children:"    "}):r.jsx("button",{type:"button",onClick:()=>m(!u),className:"text-xs text-ocean-400 hover:text-ocean-300 transition",children:u?"":"+  "})]}),e.length>1&&n.length>0&&r.jsx("div",{className:"mb-3 rounded-xl border border-amber-500/20 bg-amber-500/10 px-3 py-2",children:r.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-300",children:[r.jsx("svg",{className:"h-4 w-4 shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),r.jsx("span",{children:"Telegram       .      ."})]})}),n.length>0&&r.jsx("div",{className:"space-y-2 mb-3",children:n.map((S,C)=>r.jsxs("div",{className:"flex flex-wrap gap-2",children:[S.map((I,Y)=>r.jsxs("div",{className:"group flex items-center gap-1 rounded-xl border border-ocean-500/30 bg-ocean-500/10 px-3 py-1.5",children:[r.jsx("a",{href:I.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-ocean-300 hover:text-ocean-200",children:I.text}),r.jsx("button",{type:"button",onClick:()=>ee(C,Y),className:"text-white/30 hover:text-rose-400 transition ml-1",children:""})]},Y)),r.jsx("button",{type:"button",onClick:()=>{w(C),m(!0)},className:"text-xs text-white/30 hover:text-white/50 border border-dashed border-white/10 rounded-xl px-2 py-1.5",children:"+  "})]},C))}),u&&r.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] p-4 space-y-3",children:[r.jsx("div",{className:"text-xs text-white/50 mb-2",children:N!==null?`    ${N+1}`:"  "}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-[10px] text-white/40 mb-1",children:" "}),r.jsx("input",{value:y,onChange:S=>p(S.target.value),placeholder:" ",className:"w-full rounded-xl bg-ink-800/60 border border-white/10 px-3 py-2 text-xs text-white placeholder:text-white/30 focus:outline-none focus:border-ocean-500/50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-[10px] text-white/40 mb-1",children:"URL "}),r.jsx("input",{value:g,onChange:S=>{v(S.target.value),A(null)},placeholder:"https://example.com",className:`w-full rounded-xl bg-ink-800/60 border px-3 py-2 text-xs text-white placeholder:text-white/30 focus:outline-none ${b?"border-rose-500/50 focus:border-rose-500":"border-white/10 focus:border-ocean-500/50"}`}),b&&r.jsx("div",{className:"text-[10px] text-rose-400 mt-1",children:b})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{type:"button",onClick:H,disabled:!y.trim()||!g.trim(),className:"rounded-xl bg-ocean-500/20 border border-ocean-500/30 px-4 py-1.5 text-xs text-ocean-300 hover:bg-ocean-500/30 transition disabled:opacity-50 disabled:cursor-not-allowed",children:""}),r.jsx("button",{type:"button",onClick:()=>{m(!1),w(null),p(""),v("")},className:"text-xs text-white/40 hover:text-white/60",children:""})]})]}),n.length===0&&!u&&r.jsx("div",{className:"rounded-2xl border border-dashed border-white/10 bg-white/[0.02] p-3 text-center",children:r.jsx("div",{className:"text-xs text-white/30",children:"    "})})]})]})}function Gf(){const[e,t]=d.useState([]),[n,s]=d.useState(""),[l,i]=d.useState(null),[o,a]=d.useState(""),[u,m]=d.useState(""),[y,p]=d.useState([]),[g,v]=d.useState([]),[N,w]=d.useState(!1),[P,f]=d.useState(!1),[c,x]=d.useState(null),[k,T]=d.useState(!1),[L,E]=d.useState(!1),b=()=>Q.listTemplates().then(t);d.useEffect(()=>{b()},[]),d.useEffect(()=>{var S,C;if(!l){a(""),m(""),p([]),v([]),E(!1);return}a(l.title),m(l.body),p(l.attachments||[]),v(l.inline_buttons||[]),E((((S=l.attachments)==null?void 0:S.length)||0)>0||(((C=l.inline_buttons)==null?void 0:C.length)||0)>0)},[l]),d.useEffect(()=>{if(!c)return;const S=setTimeout(()=>x(null),3e3);return()=>clearTimeout(S)},[c]);const A=e.filter(S=>`${S.title} ${S.body}`.toLowerCase().includes(n.toLowerCase())),O=async()=>{if(!(!o.trim()||!u.trim())){w(!0);try{const S={title:o,body:u,attachments:y.length>0?y:null,inline_buttons:g.length>0?g:null};l?(await Q.updateTemplate(l.id,S),x(" ")):(await Q.createTemplate(S),x(" "),a(""),m(""),p([]),v([]),E(!1)),b()}catch(S){console.error("Failed to save template:",S)}finally{w(!1)}}},H=async()=>{if(l)try{await Q.deleteTemplate(l.id),i(null),T(!1),x(" "),b()}catch(S){console.error("Failed to delete template:",S)}},ee=S=>{var C;return(((C=S.attachments)==null?void 0:C.length)||0)>0},ue=S=>{var C;return(((C=S.inline_buttons)==null?void 0:C.length)||0)>0};return r.jsx("div",{className:"h-full overflow-y-auto overflow-x-hidden scrollbar-thin",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 py-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-display font-semibold text-white",children:""}),r.jsx("p",{className:"text-sm text-white/50 mt-1",children:"     "})]}),c&&r.jsxs("div",{className:"fixed top-20 right-6 z-50 rounded-2xl border border-emerald-400/30 bg-emerald-500/15 px-4 py-3 text-sm text-emerald-100 shadow-lg backdrop-blur-sm",children:[" ",c]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[r.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-10 w-10 rounded-xl bg-ocean-500/15 flex items-center justify-center",children:r.jsx("svg",{className:"h-5 w-5 text-ocean-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-semibold text-white",children:e.length}),r.jsx("div",{className:"text-xs text-white/50",children:" "})]})]})}),r.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-10 w-10 rounded-xl bg-emerald-500/15 flex items-center justify-center",children:r.jsx("svg",{className:"h-5 w-5 text-emerald-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-semibold text-white",children:e.filter(ee).length}),r.jsx("div",{className:"text-xs text-white/50",children:" "})]})]})}),r.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-10 w-10 rounded-xl bg-gold-500/15 flex items-center justify-center",children:r.jsx("svg",{className:"h-5 w-5 text-gold-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-semibold text-white",children:e.filter(ue).length}),r.jsx("div",{className:"text-xs text-white/50",children:" "})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"rounded-3xl border border-white/10 bg-white/[0.02] overflow-hidden",children:[r.jsxs("div",{className:"p-5 border-b border-white/5",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"h-11 w-11 rounded-2xl bg-gradient-to-br from-ocean-500/20 to-ocean-600/10 flex items-center justify-center",children:r.jsx("svg",{className:"h-5 w-5 text-ocean-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-white",children:" "}),r.jsxs("div",{className:"text-xs text-white/50",children:[e.length," "]})]})]}),r.jsxs("div",{className:"mt-4 relative",children:[r.jsx("input",{value:n,onChange:S=>s(S.target.value),placeholder:" ...",className:"w-full rounded-2xl bg-ink-800/60 border border-white/10 pl-10 pr-4 py-2.5 text-sm text-white placeholder:text-white/30 focus:outline-none focus:border-ocean-500/50"}),r.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-white/30",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),r.jsx("div",{className:"p-4 max-h-[500px] overflow-y-auto scrollbar-thin space-y-2",children:A.length===0?r.jsxs("div",{className:"py-8 text-center",children:[r.jsx("div",{className:"text-3xl mb-2",children:""}),r.jsx("div",{className:"text-sm text-white/50",children:e.length===0?"  ":"  "})]}):A.map(S=>r.jsxs("button",{onClick:()=>i(S),className:`w-full text-left rounded-2xl border p-4 transition ${(l==null?void 0:l.id)===S.id?"border-ocean-500/40 bg-ocean-600/10":"border-white/5 bg-white/[0.02] hover:bg-white/5"}`,children:[r.jsxs("div",{className:"flex items-start justify-between gap-2",children:[r.jsx("div",{className:"font-medium text-white/90",children:S.title}),r.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[ee(S)&&r.jsx("span",{className:"h-5 w-5 rounded-md bg-emerald-500/15 flex items-center justify-center",title:" ",children:r.jsx("svg",{className:"h-3 w-3 text-emerald-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),ue(S)&&r.jsx("span",{className:"h-5 w-5 rounded-md bg-gold-500/15 flex items-center justify-center",title:" ",children:r.jsx("svg",{className:"h-3 w-3 text-gold-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101"})})}),(l==null?void 0:l.id)===S.id&&r.jsx("span",{className:"h-2 w-2 rounded-full bg-ocean-400"})]})]}),r.jsx("div",{className:"text-xs text-white/40 line-clamp-2 mt-1",children:S.body})]},S.id))})]}),r.jsxs("div",{className:"rounded-3xl border border-white/10 bg-white/[0.02] overflow-hidden",children:[r.jsx("div",{className:"p-5 border-b border-white/5",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"h-11 w-11 rounded-2xl bg-gradient-to-br from-emerald-500/20 to-emerald-600/10 flex items-center justify-center",children:r.jsx("svg",{className:"h-5 w-5 text-emerald-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-white",children:l?"":" "}),r.jsx("div",{className:"text-xs text-white/50",children:l?`ID: ${l.id}`:"  "})]})]}),l&&r.jsx("button",{onClick:()=>i(null),className:"text-xs text-white/40 hover:text-white/70 transition",children:"+ "})]})}),r.jsxs("div",{className:"p-5 space-y-4 max-h-[600px] overflow-y-auto scrollbar-thin",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-white/50 mb-2",children:""}),r.jsx("input",{value:o,onChange:S=>a(S.target.value),placeholder:"  ",className:"w-full rounded-2xl bg-ink-800/60 border border-white/10 px-4 py-3 text-sm text-white placeholder:text-white/30 focus:outline-none focus:border-ocean-500/50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-white/50 mb-2",children:" "}),r.jsx("textarea",{value:u,onChange:S=>m(S.target.value),placeholder:"  ...",rows:5,className:"w-full rounded-2xl bg-ink-800/60 border border-white/10 px-4 py-3 text-sm text-white placeholder:text-white/30 focus:outline-none focus:border-ocean-500/50 resize-none"}),r.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-[11px] text-white/40",children:[r.jsx("span",{children:"HTML:"}),r.jsx("code",{className:"px-1.5 py-0.5 rounded bg-white/5 text-[10px]",children:"<b></b>"}),r.jsx("code",{className:"px-1.5 py-0.5 rounded bg-white/5 text-[10px]",children:"<i></i>"}),r.jsx("code",{className:"px-1.5 py-0.5 rounded bg-white/5 text-[10px]",children:"<code></code>"})]})]}),r.jsxs("button",{type:"button",onClick:()=>E(!L),className:"w-full flex items-center justify-between rounded-2xl border border-white/10 bg-white/[0.02] px-4 py-3 text-sm hover:bg-white/5 transition",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-8 w-8 rounded-xl bg-gradient-to-br from-gold-500/20 to-gold-600/10 flex items-center justify-center",children:r.jsx("svg",{className:"h-4 w-4 text-gold-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"text-white/80",children:"  "}),r.jsx("div",{className:"text-xs text-white/40",children:y.length>0||g.length>0?`${y.length} , ${g.flat().length} `:"   inline "})]})]}),r.jsx("svg",{className:`h-5 w-5 text-white/40 transition-transform ${L?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),L&&r.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/[0.01] p-4",children:r.jsx(t0,{attachments:y,onAttachmentsChange:p,buttons:g,onButtonsChange:v,uploading:P,setUploading:f})}),r.jsxs("div",{className:"flex items-center justify-between pt-2",children:[r.jsx("div",{className:"flex items-center gap-2",children:l&&r.jsx("button",{onClick:()=>T(!0),className:"rounded-full border border-rose-500/30 bg-rose-500/10 px-4 py-2 text-sm text-rose-300 hover:bg-rose-500/20 transition",children:""})}),r.jsx("button",{onClick:O,disabled:!o.trim()||!u.trim()||N||P,className:"rounded-full bg-gradient-to-r from-ocean-500 to-ocean-600 px-6 py-2 text-sm font-medium text-white hover:from-ocean-600 hover:to-ocean-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:N?"...":l?"":""})]})]})]})]}),k&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:r.jsxs("div",{className:"w-full max-w-sm rounded-3xl border border-rose-500/20 bg-ink-900/98 p-6 shadow-2xl",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-12 w-12 rounded-full bg-rose-500/15 flex items-center justify-center",children:r.jsx("svg",{className:"h-6 w-6 text-rose-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-display font-semibold text-white",children:" ?"}),r.jsx("div",{className:"text-xs text-white/50",children:"   "})]})]}),r.jsx("div",{className:"mt-4 rounded-2xl bg-rose-500/5 border border-rose-500/10 p-3",children:r.jsxs("div",{className:"text-xs text-white/60",children:[" ",r.jsxs("span",{className:"text-white/90 font-medium",children:["",l==null?void 0:l.title,""]}),"  ."]})}),r.jsxs("div",{className:"mt-5 flex gap-3",children:[r.jsx("button",{className:"flex-1 rounded-full border border-white/10 py-2.5 text-sm text-white/70 hover:bg-white/10 transition-colors",onClick:()=>T(!1),children:""}),r.jsx("button",{className:"flex-1 rounded-full bg-rose-500 border border-rose-400 py-2.5 text-sm text-white font-medium hover:bg-rose-600 transition-colors",onClick:H,children:""})]})]})})]})})}const Xf=e=>e?new Date(e).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"",Zf=e=>{switch(e){case"completed":return"bg-emerald-500/15 text-emerald-300 border-emerald-400/30";case"in_progress":return"bg-ocean-500/15 text-ocean-300 border-ocean-400/30";case"queued":return"bg-gold-500/15 text-gold-300 border-gold-400/30";case"failed":return"bg-rose-500/15 text-rose-300 border-rose-400/30";default:return"bg-white/10 text-white/50 border-white/10"}},qf=e=>({completed:"",in_progress:" ",queued:" ",failed:""})[e]||e,_i=e=>({all:" ",new:"",active:"",closed:""})[e]||e;function em(){const[e,t]=d.useState(""),[n,s]=d.useState([]),[l,i]=d.useState([]),[o,a]=d.useState(new Set(["all"])),[u,m]=d.useState([]),[y,p]=d.useState(!0),[g,v]=d.useState(!1),[N,w]=d.useState(!1),[P,f]=d.useState(!1),[c,x]=d.useState(!0),[k,T]=d.useState(!0),[L,E]=d.useState(!1),b=C=>{const I=new Set(o);if(C==="all")a(new Set(["all"]));else{if(I.delete("all"),I.has(C)){if(I.delete(C),I.size===0){a(new Set(["all"]));return}}else I.add(C);a(I)}};d.useEffect(()=>{A();const C=setInterval(A,5e3);return()=>clearInterval(C)},[]),d.useEffect(()=>{if(!P)return;const C=setTimeout(()=>f(!1),3e3);return()=>clearTimeout(C)},[P]);const A=async()=>{try{const C=await Q.listBroadcasts();m(C)}catch(C){console.error("Failed to fetch broadcasts:",C)}finally{p(!1)}},O=async()=>{if(e.trim()){v(!0);try{await Q.createBroadcast({body:e,target_statuses:Array.from(o),attachments:n.length>0?n:null,inline_buttons:l.length>0?l:null}),t(""),s([]),i([]),a(new Set(["all"])),E(!1),f(!0),await A()}catch(C){console.error("Failed to send broadcast:",C)}finally{v(!1)}}},H=u.reduce((C,I)=>{var Y;return C+(((Y=I.stats)==null?void 0:Y.sent)||0)},0),ee=u.reduce((C,I)=>{var Y;return C+(((Y=I.stats)==null?void 0:Y.failed)||0)},0),ue=C=>{var I;return(((I=C.attachments)==null?void 0:I.length)||0)>0},S=C=>{var I;return(((I=C.inline_buttons)==null?void 0:I.length)||0)>0};return r.jsx("div",{className:"h-full overflow-y-auto overflow-x-hidden scrollbar-thin",children:r.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-display font-semibold text-white",children:""}),r.jsx("p",{className:"text-sm text-white/50 mt-1",children:"    "})]}),P&&r.jsx("div",{className:"fixed top-20 right-6 z-50 rounded-2xl border border-emerald-400/30 bg-emerald-500/15 px-4 py-3 text-sm text-emerald-100 shadow-lg backdrop-blur-sm",children:"    "}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[r.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-10 w-10 rounded-xl bg-ocean-500/15 flex items-center justify-center",children:r.jsx("svg",{className:"h-5 w-5 text-ocean-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-semibold text-white",children:u.length}),r.jsx("div",{className:"text-xs text-white/50",children:" "})]})]})}),r.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-10 w-10 rounded-xl bg-emerald-500/15 flex items-center justify-center",children:r.jsx("svg",{className:"h-5 w-5 text-emerald-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5 13l4 4L19 7"})})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-semibold text-white",children:H.toLocaleString()}),r.jsx("div",{className:"text-xs text-white/50",children:""})]})]})}),r.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-10 w-10 rounded-xl bg-rose-500/15 flex items-center justify-center",children:r.jsx("svg",{className:"h-5 w-5 text-rose-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-semibold text-white",children:ee.toLocaleString()}),r.jsx("div",{className:"text-xs text-white/50",children:" "})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"rounded-3xl border border-white/10 bg-white/[0.02] overflow-hidden overflow-x-hidden",children:[r.jsxs("button",{onClick:()=>x(!c),className:"w-full p-5 flex items-center justify-between hover:bg-white/[0.02] transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"h-11 w-11 rounded-2xl bg-gradient-to-br from-ocean-500/20 to-ocean-600/10 flex items-center justify-center",children:r.jsx("svg",{className:"h-5 w-5 text-ocean-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-medium text-white",children:" "}),r.jsx("div",{className:"text-xs text-white/50",children:"  "})]})]}),r.jsx("svg",{className:`h-5 w-5 text-white/40 transition-transform ${c?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),c&&r.jsx("div",{className:"px-4 sm:px-5 pb-5 border-t border-white/5 max-h-[500px] overflow-y-auto overflow-x-hidden scrollbar-thin",children:r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-xs text-white/50 mb-2",children:" "}),r.jsx("textarea",{value:e,onChange:C=>t(C.target.value),rows:4,placeholder:"  ...",className:"w-full rounded-2xl bg-ink-800/60 border border-white/10 px-4 py-3 text-sm text-white placeholder:text-white/30 focus:outline-none focus:border-ocean-500/50 resize-none"}),r.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-[11px] text-white/40",children:[r.jsx("span",{children:"HTML:"}),r.jsx("code",{className:"px-1.5 py-0.5 rounded bg-white/5 text-[10px]",children:"<b></b>"}),r.jsx("code",{className:"px-1.5 py-0.5 rounded bg-white/5 text-[10px]",children:"<i></i>"}),r.jsx("code",{className:"px-1.5 py-0.5 rounded bg-white/5 text-[10px]",children:"<code></code>"})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-xs text-white/50 mb-3",children:" "}),r.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.02] p-3",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("button",{type:"button",onClick:()=>b("all"),className:`col-span-2 relative flex items-center gap-3 rounded-xl border p-3 transition-all ${o.has("all")?"border-ocean-500/50 bg-gradient-to-r from-ocean-500/15 to-ocean-600/10":"border-white/10 bg-white/[0.02] hover:bg-white/5"}`,children:[r.jsx("div",{className:`h-10 w-10 rounded-xl flex items-center justify-center transition-all ${o.has("all")?"bg-ocean-500/20":"bg-white/5"}`,children:r.jsx("span",{className:"text-xl",children:""})}),r.jsxs("div",{className:"text-left flex-1",children:[r.jsx("div",{className:`font-medium transition-colors ${o.has("all")?"text-ocean-300":"text-white/70"}`,children:" "}),r.jsx("div",{className:"text-[11px] text-white/40",children:"   "})]}),o.has("all")&&r.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:r.jsx("svg",{className:"h-5 w-5 text-ocean-400",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),r.jsxs("div",{className:"col-span-2 flex items-center gap-2 my-1",children:[r.jsx("div",{className:"flex-1 h-px bg-white/10"}),r.jsx("span",{className:"text-[10px] text-white/30 uppercase tracking-wide",children:" "}),r.jsx("div",{className:"flex-1 h-px bg-white/10"})]}),r.jsxs("button",{type:"button",onClick:()=>b("new"),className:`relative flex items-center gap-2.5 rounded-xl border p-2.5 transition-all ${o.has("new")?"border-gold-500/50 bg-gradient-to-r from-gold-500/15 to-gold-600/10":"border-white/10 bg-white/[0.02] hover:bg-white/5"}`,children:[r.jsx("div",{className:`h-8 w-8 rounded-lg flex items-center justify-center transition-all ${o.has("new")?"bg-gold-500/20":"bg-white/5"}`,children:r.jsx("span",{className:"text-base",children:""})}),r.jsx("div",{className:"text-left flex-1 min-w-0",children:r.jsx("div",{className:`text-sm font-medium truncate transition-colors ${o.has("new")?"text-gold-300":"text-white/70"}`,children:""})}),o.has("new")&&r.jsx("svg",{className:"h-4 w-4 text-gold-400 shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),r.jsxs("button",{type:"button",onClick:()=>b("active"),className:`relative flex items-center gap-2.5 rounded-xl border p-2.5 transition-all ${o.has("active")?"border-emerald-500/50 bg-gradient-to-r from-emerald-500/15 to-emerald-600/10":"border-white/10 bg-white/[0.02] hover:bg-white/5"}`,children:[r.jsx("div",{className:`h-8 w-8 rounded-lg flex items-center justify-center transition-all ${o.has("active")?"bg-emerald-500/20":"bg-white/5"}`,children:r.jsx("span",{className:"text-base",children:""})}),r.jsx("div",{className:"text-left flex-1 min-w-0",children:r.jsx("div",{className:`text-sm font-medium truncate transition-colors ${o.has("active")?"text-emerald-300":"text-white/70"}`,children:""})}),o.has("active")&&r.jsx("svg",{className:"h-4 w-4 text-emerald-400 shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),r.jsxs("button",{type:"button",onClick:()=>b("closed"),className:`col-span-2 relative flex items-center gap-2.5 rounded-xl border p-2.5 transition-all ${o.has("closed")?"border-white/30 bg-gradient-to-r from-white/10 to-white/5":"border-white/10 bg-white/[0.02] hover:bg-white/5"}`,children:[r.jsx("div",{className:`h-8 w-8 rounded-lg flex items-center justify-center transition-all ${o.has("closed")?"bg-white/15":"bg-white/5"}`,children:r.jsx("span",{className:"text-base",children:""})}),r.jsx("div",{className:"text-left flex-1 min-w-0",children:r.jsx("div",{className:`text-sm font-medium truncate transition-colors ${o.has("closed")?"text-white/90":"text-white/70"}`,children:" "})}),o.has("closed")&&r.jsx("svg",{className:"h-4 w-4 text-white/70 shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]})]}),!o.has("all")&&o.size>0&&r.jsxs("div",{className:"mt-3 pt-3 border-t border-white/5 flex items-center justify-between",children:[r.jsxs("div",{className:"text-[11px] text-white/40",children:[": ",Array.from(o).map(C=>_i(C)).join(", ")]}),r.jsx("button",{type:"button",onClick:()=>a(new Set(["all"])),className:"text-[11px] text-ocean-400 hover:text-ocean-300",children:""})]})]})]}),r.jsxs("button",{type:"button",onClick:()=>E(!L),className:"w-full mt-4 flex items-center justify-between rounded-2xl border border-white/10 bg-white/[0.02] px-4 py-3 text-sm hover:bg-white/5 transition",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-8 w-8 rounded-xl bg-gradient-to-br from-gold-500/20 to-gold-600/10 flex items-center justify-center",children:r.jsx("svg",{className:"h-4 w-4 text-gold-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"text-white/80",children:"  "}),r.jsx("div",{className:"text-xs text-white/40",children:n.length>0||l.length>0?`${n.length} , ${l.flat().length} `:"   inline "})]})]}),r.jsx("svg",{className:`h-5 w-5 text-white/40 transition-transform ${L?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),L&&r.jsx("div",{className:"mt-4 rounded-2xl border border-white/10 bg-white/[0.01] p-4",children:r.jsx(t0,{attachments:n,onAttachmentsChange:s,buttons:l,onButtonsChange:i,uploading:N,setUploading:w})}),r.jsxs("div",{className:"flex items-center justify-between mt-4",children:[r.jsxs("div",{className:"text-xs text-white/40",children:[e.length," "]}),r.jsx("button",{onClick:O,disabled:!e.trim()||g||N,className:"rounded-full bg-gradient-to-r from-ocean-500 to-ocean-600 px-5 py-2 text-sm font-medium text-white hover:from-ocean-600 hover:to-ocean-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:g?"...":""})]})]})})]}),r.jsxs("div",{className:"rounded-3xl border border-white/10 bg-white/[0.02] overflow-hidden",children:[r.jsxs("button",{onClick:()=>T(!k),className:"w-full p-5 flex items-center justify-between hover:bg-white/[0.02] transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"h-11 w-11 rounded-2xl bg-gradient-to-br from-gold-500/20 to-gold-600/10 flex items-center justify-center",children:r.jsx("svg",{className:"h-5 w-5 text-gold-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-medium text-white",children:""}),r.jsx("div",{className:"text-xs text-white/50",children:" "})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("span",{className:"text-xs text-white/40",children:[u.length," "]}),r.jsx("svg",{className:`h-5 w-5 text-white/40 transition-transform ${k?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),k&&r.jsx("div",{className:"px-5 pb-5 border-t border-white/5 max-h-[400px] overflow-y-auto scrollbar-thin",children:y?r.jsx("div",{className:"py-8 text-center text-white/40 text-sm",children:"..."}):u.length===0?r.jsxs("div",{className:"py-8 text-center",children:[r.jsx("div",{className:"text-3xl mb-2",children:""}),r.jsx("div",{className:"text-sm text-white/50",children:"   "})]}):r.jsx("div",{className:"mt-4 space-y-3",children:u.slice(0,10).map(C=>{var I,Y;return r.jsxs("div",{className:"rounded-2xl border border-white/5 bg-white/[0.02] p-4",children:[r.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-sm text-white/80 line-clamp-2",children:C.body}),(ue(C)||S(C))&&r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[ue(C)&&r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-md bg-emerald-500/10 px-2 py-0.5 text-[10px] text-emerald-300",children:[r.jsx("svg",{className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(I=C.attachments)==null?void 0:I.length," "]}),S(C)&&r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-md bg-gold-500/10 px-2 py-0.5 text-[10px] text-gold-300",children:[r.jsx("svg",{className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101"})}),(Y=C.inline_buttons)==null?void 0:Y.flat().length," "]}),C.target_statuses&&!C.target_statuses.includes("all")&&r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-md bg-ocean-500/10 px-2 py-0.5 text-[10px] text-ocean-300",children:[" ",C.target_statuses.map(M=>_i(M)).join(", ")]})]}),!ue(C)&&!S(C)&&C.target_statuses&&!C.target_statuses.includes("all")&&r.jsx("div",{className:"flex items-center gap-2 mt-2",children:r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-md bg-ocean-500/10 px-2 py-0.5 text-[10px] text-ocean-300",children:[" ",C.target_statuses.map(M=>_i(M)).join(", ")]})})]}),r.jsx("span",{className:`shrink-0 inline-flex items-center rounded-full border px-2 py-0.5 text-[11px] ${Zf(C.status)}`,children:qf(C.status)})]}),r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsx("span",{className:"text-white/40",children:Xf(C.created_at)}),C.stats&&r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("span",{className:"text-emerald-400",children:[" ",C.stats.sent]}),C.stats.failed>0&&r.jsxs("span",{className:"text-rose-400",children:[" ",C.stats.failed]})]})]})]},C.id)})})})]})]})]})})}const xt={plus:r.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),edit:r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),trash:r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),user:r.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),check:r.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"})}),close:r.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),copy:r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),refresh:r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})};function Ru({isOpen:e,title:t,children:n,onClose:s}){return e?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:r.jsxs("div",{className:"bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 border border-white/10 rounded-2xl shadow-2xl max-w-md w-full mx-4 overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/5",children:[r.jsx("h2",{className:"text-lg font-semibold text-white",children:t}),r.jsx("button",{onClick:s,className:"text-white/50 hover:text-white/70 transition-colors",children:xt.close})]}),r.jsx("div",{className:"p-6 space-y-4",children:n})]})}):null}function tm({isOpen:e,title:t,message:n,confirmText:s,cancelText:l,danger:i,onConfirm:o,onCancel:a}){return e?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:r.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 border border-white/10 rounded-2xl shadow-2xl max-w-sm w-full mx-4 overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:r.jsxs("div",{className:"p-6 text-center",children:[r.jsx("div",{className:`w-14 h-14 mx-auto mb-4 rounded-full flex items-center justify-center ${i?"bg-red-500/20":"bg-amber-500/20"}`,children:i?r.jsx("svg",{className:"w-7 h-7 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}):r.jsx("svg",{className:"w-7 h-7 text-amber-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:t}),r.jsx("p",{className:"text-sm text-white/60 mb-6",children:n}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:a,className:"flex-1 px-4 py-2.5 rounded-xl bg-white/5 border border-white/10 text-sm font-medium text-white/70 hover:bg-white/10 hover:text-white transition-all",children:l||""}),r.jsx("button",{onClick:o,className:`flex-1 px-4 py-2.5 rounded-xl text-sm font-medium text-white transition-all ${i?"bg-red-500 hover:bg-red-600":"bg-violet-500 hover:bg-violet-600"}`,children:s||""})]})]})})}):null}function nm({isOpen:e,title:t,message:n,onClose:s}){return e?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:r.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 border border-white/10 rounded-2xl shadow-2xl max-w-sm w-full mx-4 overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:r.jsxs("div",{className:"p-6 text-center",children:[r.jsx("div",{className:"w-14 h-14 mx-auto mb-4 rounded-full bg-amber-500/20 flex items-center justify-center",children:r.jsx("svg",{className:"w-7 h-7 text-amber-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:t}),r.jsx("p",{className:"text-sm text-white/60 mb-6",children:n}),r.jsx("button",{onClick:s,className:"w-full px-4 py-2.5 rounded-xl bg-violet-500 hover:bg-violet-600 text-sm font-medium text-white transition-all",children:""})]})})}):null}function Yr({label:e,value:t,onChange:n,placeholder:s,type:l="text",disabled:i,hint:o}){return r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-white/70 mb-2",children:e}),r.jsx("input",{type:l,value:t,onChange:a=>n(a.target.value),placeholder:s,disabled:i,className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-sm text-white placeholder:text-white/30 focus:outline-none focus:border-white/30 focus:bg-white/10 transition-all disabled:opacity-50"}),o&&r.jsx("p",{className:"text-xs text-white/40 mt-1",children:o})]})}function Du({label:e,value:t,onChange:n,options:s,disabled:l}){return r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-white/70 mb-2",children:e}),r.jsx("select",{value:t,onChange:i=>n(i.target.value),disabled:l,className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-sm text-white focus:outline-none focus:border-white/30 focus:bg-white/10 transition-all disabled:opacity-50",children:s.map(i=>r.jsx("option",{value:i.value,children:i.label},i.value))})]})}function Li({label:e,checked:t,onChange:n,disabled:s,hint:l}){return r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-xs font-medium text-white/70",children:e}),r.jsx("button",{onClick:()=>!s&&n(!t),disabled:s,className:`relative w-10 h-6 rounded-full transition-all duration-300 ${t?"bg-emerald-500":"bg-white/10"} disabled:opacity-50`,children:r.jsx("span",{className:`absolute top-1 w-4 h-4 rounded-full bg-white shadow transition-all duration-300 ${t?"right-1":"left-1"}`})})]}),l&&r.jsx("p",{className:"text-xs text-white/40 mt-1",children:l})]})}function Au({type:e,label:t}){const n={admin:"bg-violet-500/20 text-violet-300 border border-violet-500/30",moderator:"bg-blue-500/20 text-blue-300 border border-blue-500/30",active:"bg-emerald-500/20 text-emerald-300 border border-emerald-500/30",inactive:"bg-slate-500/20 text-slate-300 border border-slate-500/30"};return r.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2 py-1 rounded-full text-xs font-medium ${n[e]||n.moderator}`,children:[r.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-current opacity-60"}),t]})}function rm(){const[e,t]=d.useState([]),[n,s]=d.useState(null),[l,i]=d.useState(!0),[o,a]=d.useState(""),[u,m]=d.useState(!1),[y,p]=d.useState(""),[g,v]=d.useState(""),[N,w]=d.useState("moderator"),[P,f]=d.useState(!0),[c,x]=d.useState(""),[k,T]=d.useState(!1),[L,E]=d.useState(!1),[b,A]=d.useState(null),[O,H]=d.useState(""),[ee,ue]=d.useState(""),[S,C]=d.useState(""),[I,Y]=d.useState(!0),[M,B]=d.useState(!1),[W,V]=d.useState(""),[re,me]=d.useState(!1),[ae,Pe]=d.useState(null),[pe,ge]=d.useState(""),[Ie,De]=d.useState(""),xe=async()=>{try{i(!0);const D=await Q.listAdmins();t(D);const Te=await Q.me(),ce=D.find(fe=>fe.telegram_user_id===Te.telegram_user_id);ce&&s(ce)}catch(D){console.error(D)}finally{i(!1)}};d.useEffect(()=>{xe()},[]);const We=async()=>{if(!(!y||!g)){if(!c){De(",    ");return}try{T(!0),await Q.createAdmin({telegram_user_id:parseInt(y),username:g,role:N,is_active:P,temp_password:c}),p(""),v(""),w("moderator"),f(!0),x(""),m(!1),await xe()}finally{T(!1)}}},Fe=D=>{A(D),H(D.username),ue(D.telegram_user_id.toString()),C(D.role),Y(D.is_active),B(D.telegram_oauth_enabled||!1),V("")},ot=async()=>{if(b)try{me(!0),await Q.updateAdmin(b.id,{username:O,telegram_user_id:parseInt(ee),role:S,is_active:I,telegram_oauth_enabled:M,temp_password:W||void 0}),A(null),await xe()}finally{me(!1)}},_e=D=>{Pe(D.id),ge(D.username)},_=async()=>{ae&&(await Q.deleteAdmin(ae),Pe(null),ge(""),await xe())},q=e.filter(D=>D.username.toLowerCase().includes(o.toLowerCase())||D.telegram_user_id.toString().includes(o)||D.role.toLowerCase().includes(o.toLowerCase()));return r.jsx("div",{className:"h-full overflow-y-auto overflow-x-hidden scrollbar-thin px-4 sm:px-6 py-6",children:r.jsxs("div",{className:"space-y-6 pb-12 max-w-6xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:""}),r.jsx("p",{className:"text-sm text-white/50 mt-1",children:"   "})]}),r.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-2 px-4 py-2.5 rounded-xl bg-gradient-to-r from-emerald-500 to-emerald-600 text-white font-medium hover:from-emerald-600 hover:to-emerald-700 transition-all shadow-lg shadow-emerald-500/20 hover:shadow-emerald-500/30",children:[xt.plus,""]})]}),r.jsx("div",{className:"relative",children:r.jsx("input",{type:"text",placeholder:"  , ID  ...",value:o,onChange:D=>a(D.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/10 text-sm text-white placeholder:text-white/30 focus:outline-none focus:border-white/30 focus:bg-white/10 transition-all"})}),l?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"text-white/50",children:"..."})}):q.length===0?r.jsx("div",{className:"text-center py-12",children:r.jsx("div",{className:"text-white/40",children:"  "})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:q.map(D=>{const Te=(n==null?void 0:n.id)===D.id;return r.jsxs("div",{className:"group relative bg-gradient-to-br from-white/5 via-white/[0.02] to-transparent border border-white/10 rounded-2xl p-5 hover:border-white/20 transition-all duration-300 hover:shadow-lg hover:shadow-white/5",children:[Te&&r.jsx("div",{className:"absolute top-3 right-3 bg-emerald-500/20 border border-emerald-500/30 rounded-full px-2.5 py-1 text-xs font-medium text-emerald-300",children:""}),r.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[r.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-xl bg-gradient-to-br from-violet-500/20 to-blue-500/20 border border-white/10 flex items-center justify-center text-violet-300",children:xt.user}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-semibold text-white truncate",children:D.username}),r.jsxs("p",{className:"text-xs text-white/50 mt-0.5",children:["ID: ",D.telegram_user_id]})]})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[r.jsx(Au,{type:D.role==="administrator"?"admin":"moderator",label:D.role==="administrator"?"":""}),r.jsx(Au,{type:D.is_active?"active":"inactive",label:D.is_active?"":""})]}),D.telegram_oauth_enabled&&r.jsxs("div",{className:"mb-4 px-3 py-2 rounded-lg bg-blue-500/10 border border-blue-500/20 text-xs text-blue-300 flex items-center gap-2",children:[r.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})}),"Telegram OAuth "]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>Fe(D),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white/70 hover:text-white hover:bg-white/10 transition-all text-sm font-medium",children:[xt.edit,""]}),r.jsxs("button",{onClick:()=>_e(D),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-lg bg-red-500/10 border border-red-500/20 text-red-400 hover:bg-red-500/20 transition-all text-sm font-medium",children:[xt.trash,""]})]})]},D.id)})}),r.jsxs(Ru,{isOpen:u,title:" ",onClose:()=>m(!1),children:[r.jsx(Yr,{label:"Telegram ID",value:y,onChange:p,placeholder:"431503783",hint:" ID  Telegram"}),r.jsx(Yr,{label:"",value:g,onChange:v,placeholder:"username",hint:"   "}),r.jsx(Du,{label:"",value:N,onChange:w,options:[{value:"moderator",label:""},{value:"administrator",label:""}]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-white/70 mb-2",children:""}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx("input",{type:"text",value:c,onChange:D=>x(D.target.value),placeholder:" ",className:"w-full px-3 py-2 pr-10 rounded-lg bg-white/5 border border-white/10 text-sm text-white placeholder:text-white/30 focus:outline-none focus:border-white/30 focus:bg-white/10 transition-all font-mono"}),c&&r.jsx("button",{onClick:()=>{navigator.clipboard.writeText(c),E(!0),setTimeout(()=>E(!1),2e3)},className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 rounded-md text-white/40 hover:text-white hover:bg-white/10 transition-all",title:"",children:L?xt.check:xt.copy})]}),r.jsxs("button",{onClick:()=>{const D="abcdefghijkmnpqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ23456789";let Te="";for(let ce=0;ce<12;ce++)Te+=D.charAt(Math.floor(Math.random()*D.length));x(Te)},type:"button",className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-violet-500/20 to-blue-500/20 border border-violet-500/30 text-violet-300 hover:from-violet-500/30 hover:to-blue-500/30 transition-all text-sm font-medium whitespace-nowrap",children:[xt.refresh,""]})]}),c&&r.jsxs("div",{className:"mt-3 p-3 rounded-lg bg-emerald-500/10 border border-emerald-500/20",children:[r.jsx("p",{className:"text-xs text-emerald-300 mb-1",children:"   :"}),r.jsxs("div",{className:"flex items-center justify-between gap-2 mt-2",children:[r.jsxs("code",{className:"text-sm text-white bg-black/30 px-3 py-1.5 rounded font-mono flex-1 overflow-x-auto",children:[": ",g||"..."," | : ",c]}),r.jsx("button",{onClick:()=>{const D=`: ${g}
: ${c}`;navigator.clipboard.writeText(D),E(!0),setTimeout(()=>E(!1),2e3)},className:"flex-shrink-0 p-2 rounded-lg bg-emerald-500/20 text-emerald-300 hover:bg-emerald-500/30 transition-all",title:" ",children:L?xt.check:xt.copy})]})]})]}),r.jsx(Li,{label:"  ",checked:P,onChange:f}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsx("button",{onClick:()=>m(!1),className:"flex-1 px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white/70 hover:bg-white/10 transition-all font-medium",children:""}),r.jsxs("button",{onClick:We,disabled:k||!y||!g,className:"flex-1 px-4 py-2 rounded-lg bg-emerald-500 text-white hover:bg-emerald-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all font-medium flex items-center justify-center gap-2",children:[xt.check,""]})]})]}),r.jsxs(Ru,{isOpen:!!b,title:` ${b==null?void 0:b.username}`,onClose:()=>A(null),children:[r.jsx(Yr,{label:"",value:O,onChange:H,disabled:re}),r.jsx(Yr,{label:"Telegram ID",value:ee,onChange:ue,disabled:re,hint:(n==null?void 0:n.id)===(b==null?void 0:b.id)?"    ID ":void 0}),r.jsx(Du,{label:"",value:S,onChange:C,disabled:re,options:[{value:"moderator",label:""},{value:"administrator",label:""}]}),r.jsx(Li,{label:"",checked:I,onChange:Y,disabled:re}),r.jsx(Li,{label:"Telegram OAuth",checked:M,onChange:B,disabled:re,hint:"   Telegram"}),r.jsx(Yr,{label:"  ()",value:W,onChange:V,disabled:re,type:"password",placeholder:"    "}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsx("button",{onClick:()=>A(null),disabled:re,className:"flex-1 px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white/70 hover:bg-white/10 disabled:opacity-50 transition-all font-medium",children:""}),r.jsxs("button",{onClick:ot,disabled:re,className:"flex-1 px-4 py-2 rounded-lg bg-emerald-500 text-white hover:bg-emerald-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all font-medium flex items-center justify-center gap-2",children:[xt.check,""]})]})]}),r.jsx(tm,{isOpen:!!ae,title:" ?",message:`    "${pe}".    .`,confirmText:"",cancelText:"",danger:!0,onConfirm:_,onCancel:()=>{Pe(null),ge("")}}),r.jsx(nm,{isOpen:!!Ie,title:"",message:Ie,onClose:()=>De("")})]})})}const mn={brand:r.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4 2.245 4.5 4.5 0 008.4-2.245c0-.399-.078-.78-.22-1.128zm0 0a15.998 15.998 0 003.388-1.62m-5.043-.025a15.994 15.994 0 011.622-3.395m3.42 3.42a15.995 15.995 0 004.764-4.648l3.876-5.814a1.151 1.151 0 00-1.597-1.597L14.146 6.32a15.996 15.996 0 00-4.649 4.763m3.42 3.42a6.776 6.776 0 00-3.42-3.42"})}),bot:r.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 01-2.555-.337A5.972 5.972 0 015.41 20.97a5.969 5.969 0 01-.474-.065 4.48 4.48 0 00.978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25z"})}),message:r.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 01.865-.501 48.172 48.172 0 003.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0012 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018z"})}),sparkle:r.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z"})}),bolt:r.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"})}),telegram:r.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})}),chevron:r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})};function Xe({label:e,value:t,onChange:n,placeholder:s,hint:l,secret:i,disabled:o}){const[a,u]=d.useState(!1);return r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-[13px] font-medium text-white/50",children:e}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:i&&!a?"password":"text",value:t,onChange:m=>n(m.target.value),placeholder:s,disabled:o,className:"w-full h-11 px-4 rounded-xl bg-white/[0.03] border border-white/[0.06] text-[14px] text-white placeholder:text-white/20 focus:outline-none focus:border-white/15 focus:bg-white/[0.05] transition-all disabled:opacity-40"}),i&&t&&r.jsx("button",{onClick:()=>u(!a),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[11px] text-white/30 hover:text-white/60 transition-colors uppercase tracking-wider",children:a?"Hide":"Show"})]}),l&&r.jsx("p",{className:"text-[11px] text-white/30",children:l})]})}function Bu({label:e,value:t,onChange:n,placeholder:s,hint:l,rows:i=3,disabled:o}){return r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-[13px] font-medium text-white/50",children:e}),r.jsx("textarea",{value:t,onChange:a=>n(a.target.value),placeholder:s,rows:i,disabled:o,className:"w-full px-4 py-3 rounded-xl bg-white/[0.03] border border-white/[0.06] text-[14px] text-white placeholder:text-white/20 focus:outline-none focus:border-white/15 focus:bg-white/[0.05] transition-all resize-none disabled:opacity-40 font-mono"}),l&&r.jsx("p",{className:"text-[11px] text-white/30",children:l})]})}function Ei({enabled:e,onChange:t,disabled:n}){return r.jsx("div",{onClick:s=>{s.stopPropagation(),n||t(!e)},role:"switch","aria-checked":e,className:`relative w-12 h-7 rounded-full transition-all duration-300 cursor-pointer ${e?"bg-gradient-to-r from-emerald-500 to-emerald-400":"bg-white/10"} ${n?"opacity-40 cursor-not-allowed":""}`,children:r.jsx("span",{className:`absolute top-1 w-5 h-5 rounded-full bg-white shadow-lg transition-all duration-300 ${e?"left-6":"left-1"}`})})}function n0({status:e}){const t={active:"bg-emerald-500/10 text-emerald-400 border-emerald-500/20",warning:"bg-amber-500/10 text-amber-400 border-amber-500/20",off:"bg-white/5 text-white/40 border-white/10"},n={active:"",warning:".",off:"."};return r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-medium border whitespace-nowrap shrink-0 ${t[e]}`,children:[r.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${e==="active"?"bg-emerald-400":e==="warning"?"bg-amber-400 animate-pulse":"bg-white/30"}`}),n[e]]})}function Gr({id:e,icon:t,title:n,subtitle:s,status:l,color:i,children:o,expanded:a,onToggle:u}){return r.jsxs("div",{className:`group rounded-2xl border transition-all duration-300 overflow-hidden ${a?"border-white/[0.1]":"border-white/[0.06]"} bg-gradient-to-br from-white/[0.02] via-transparent to-transparent`,children:[r.jsxs("button",{onClick:()=>u(e),className:`w-full px-4 sm:px-6 py-3 sm:py-4 flex items-center justify-between hover:bg-white/[0.02] transition-all ${a?`bg-gradient-to-r ${i}`:""}`,children:[r.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0",children:[r.jsx("div",{className:`w-9 h-9 sm:w-10 sm:h-10 shrink-0 rounded-xl flex items-center justify-center transition-all ${a?"bg-white/[0.1] text-white":"bg-white/[0.05] text-white/50"}`,children:t}),r.jsxs("div",{className:"text-left min-w-0",children:[r.jsx("h3",{className:"text-[14px] sm:text-[15px] font-semibold text-white truncate",children:n}),r.jsx("p",{className:"text-[11px] sm:text-[12px] text-white/40 mt-0.5 truncate",children:s})]})]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 shrink-0 ml-2",children:[r.jsx(n0,{status:l}),r.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 rounded-lg flex items-center justify-center text-white/40 transition-all duration-300 ${a?"rotate-180 bg-white/[0.05]":"hover:bg-white/[0.05]"}`,children:mn.chevron})]})]}),r.jsx("div",{className:`grid transition-all duration-300 ease-in-out ${a?"grid-rows-[1fr] opacity-100":"grid-rows-[0fr] opacity-0"}`,children:r.jsx("div",{className:"overflow-hidden",children:r.jsx("div",{className:"p-6 pt-2 space-y-5 border-t border-white/[0.04]",children:o})})})]})}function sm({onBrandingChange:e}){const[t,n]=d.useState(!0),[s,l]=d.useState(!1),[i,o]=d.useState(null),[a,u]=d.useState(new Set(["branding","bot"])),[m,y]=d.useState(""),[p,g]=d.useState(""),[v,N]=d.useState(""),[w,P]=d.useState(""),[f,c]=d.useState(""),[x,k]=d.useState(""),[T,L]=d.useState(""),[E,b]=d.useState(!0),[A,O]=d.useState(""),[H,ee]=d.useState(!0),[ue,S]=d.useState("0"),[C,I]=d.useState(""),[Y,M]=d.useState(""),[B,W]=d.useState(""),[V,re]=d.useState(""),[me,ae]=d.useState(""),[Pe,pe]=d.useState(""),[ge,Ie]=d.useState(!1),[De,xe]=d.useState(""),[We,Fe]=d.useState(""),[ot,_e]=d.useState(!1);d.useEffect(()=>{q()},[]);const _=ce=>{u(fe=>{const we=new Set(fe);return we.has(ce)?we.delete(ce):we.add(ce),we})},q=async()=>{try{n(!0);const ce=await Q.listSettings(),fe=un=>{var Rt;return(Rt=ce.find(Dt=>Dt.key===un))==null?void 0:Rt.value_json},we=fe("app_branding");we&&(y(we.name||""),g(we.description||""),N(we.page_title||""),P(we.favicon_url||""));const Pt=fe("support_bot");Pt&&(c(Pt.username||""),k(Pt.token||""));const mt=fe("messages");mt&&(L(mt.greeting||""),b(mt.greeting_enabled!==!1),O(mt.autoreply||""),ee(mt.autoreply_enabled!==!1),S(String(mt.autoreply_delete_sec||"0")));const bt=fe("remnawave_integration");bt&&(I(bt.panel_url||""),M(bt.api_token||""));const Ot=fe("solobot_integration");Ot&&(W(Ot.api_url||""),re(Ot.api_key||""),ae(Ot.admin_tg_id||""),pe(Ot.bot_username||""));const Nt=fe("telegram_oauth");Nt&&(Ie(Nt.enabled||!1),xe(Nt.bot_username||""),Fe(Nt.bot_token||""))}catch{D(" ",!1)}finally{n(!1)}},D=(ce,fe)=>{o({msg:ce,ok:fe}),setTimeout(()=>o(null),2500)},Te=async()=>{l(!0);try{await Promise.all([Q.upsertSetting({key:"app_branding",value_json:{name:m,description:p,page_title:v,favicon_url:w}}),Q.upsertSetting({key:"support_bot",value_json:{username:f,token:x}}),Q.upsertSetting({key:"telegram_bot_token",value_json:{token:x}}),Q.upsertSetting({key:"messages",value_json:{greeting:T,greeting_enabled:E,autoreply:A,autoreply_enabled:H,autoreply_delete_sec:parseInt(ue)||0}}),Q.upsertSetting({key:"remnawave_integration",value_json:{panel_url:C,api_token:Y}}),Q.upsertSetting({key:"solobot_integration",value_json:{bot_username:Pe,api_url:B,api_key:V,admin_tg_id:me}}),Q.upsertSetting({key:"telegram_oauth",value_json:{enabled:ge,bot_username:De,bot_token:We}})]),e==null||e(m,p,v,w),D("",!0)}catch{D("",!1)}finally{l(!1)}};return t?r.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-12 h-12 rounded-full border-2 border-white/5"}),r.jsx("div",{className:"absolute inset-0 w-12 h-12 rounded-full border-2 border-transparent border-t-white/40 animate-spin"})]})}):r.jsx("div",{className:"h-full overflow-y-auto overflow-x-hidden",children:r.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-6 pb-24",children:[i&&r.jsx("div",{className:`fixed top-6 right-6 z-50 px-4 py-3 rounded-xl backdrop-blur-xl border ${i.ok?"bg-emerald-500/10 border-emerald-500/20 text-emerald-400":"bg-red-500/10 border-red-500/20 text-red-400"} text-sm font-medium animate-in slide-in-from-top-2 fade-in duration-200`,children:i.msg}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-2xl font-semibold text-white tracking-tight",children:""}),r.jsx("p",{className:"text-white/40 mt-1",children:"   "})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[r.jsxs(Gr,{id:"branding",icon:mn.brand,title:"",subtitle:"  ",status:m?"active":"warning",color:"from-violet-500/[0.08] to-transparent",expanded:a.has("branding"),onToggle:_,children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[r.jsx(Xe,{label:"",value:m,onChange:y,placeholder:"Support Console",disabled:s,hint:"   "}),r.jsx(Xe,{label:"",value:p,onChange:g,placeholder:"Premium support system",disabled:s,hint:"   "})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5 mt-5",children:[r.jsx(Xe,{label:" ",value:v,onChange:N,placeholder:"Support Panel",disabled:s,hint:"   "}),r.jsx(Xe,{label:"Favicon URL",value:w,onChange:P,placeholder:"/static/favicon.ico",disabled:s,hint:"   "})]}),w&&r.jsxs("div",{className:"mt-4 flex items-center gap-3 p-3 rounded-xl bg-white/[0.02] border border-white/[0.06]",children:[r.jsx("img",{src:w,alt:"Favicon preview",className:"w-8 h-8 rounded",onError:ce=>ce.currentTarget.style.display="none"}),r.jsx("span",{className:"text-[12px] text-white/40",children:" favicon"})]})]}),r.jsxs(Gr,{id:"bot",icon:mn.bot,title:" ",subtitle:"Telegram   ",status:f&&x?"active":"warning",color:"from-sky-500/[0.08] to-transparent",expanded:a.has("bot"),onToggle:_,children:[r.jsx(Xe,{label:"Username",value:f,onChange:c,placeholder:"@support_bot",disabled:s}),r.jsx(Xe,{label:"Token",value:x,onChange:k,placeholder:"123456789:ABC...",secret:!0,disabled:s,hint:"  @BotFather"})]}),r.jsxs(Gr,{id:"remnawave",icon:mn.sparkle,title:"Remnawave",subtitle:"  ",status:C&&Y?"active":"warning",color:"from-cyan-500/[0.08] to-transparent",expanded:a.has("remnawave"),onToggle:_,children:[r.jsx(Xe,{label:"URL ",value:C,onChange:I,placeholder:"https://panel.example.com",disabled:s}),r.jsx(Xe,{label:"API Token",value:Y,onChange:M,placeholder:"eyJhbGc...",secret:!0,disabled:s})]}),r.jsxs(Gr,{id:"solobot",icon:mn.bolt,title:"Solobot",subtitle:"  API",status:B&&V&&me?"active":"warning",color:"from-amber-500/[0.08] to-transparent",expanded:a.has("solobot"),onToggle:_,children:[r.jsx(Xe,{label:"Bot Username",value:Pe,onChange:pe,placeholder:"solobot",disabled:s,hint:"Username   @,   '  '"}),r.jsx(Xe,{label:"API URL",value:B,onChange:W,placeholder:"https://api.solobot.com",disabled:s}),r.jsx(Xe,{label:"API Key",value:V,onChange:re,placeholder:"sk_live_...",secret:!0,disabled:s}),r.jsx(Xe,{label:"Admin Telegram ID",value:me,onChange:ae,placeholder:"431503783",disabled:s,hint:"ID    "})]})]}),r.jsx("div",{className:"mt-4",children:r.jsx(Gr,{id:"messages",icon:mn.message,title:"",subtitle:",   ",status:T||A&&H?"active":"warning",color:"from-emerald-500/[0.08] to-transparent",expanded:a.has("messages"),onToggle:_,children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[r.jsxs("div",{className:"space-y-5",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/[0.02] border border-white/[0.06]",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-[13px] font-medium text-white",children:""}),r.jsx("div",{className:"text-[11px] text-white/40 mt-0.5",children:"  /start"})]}),r.jsx(Ei,{enabled:E,onChange:b,disabled:s})]}),r.jsx(Bu,{label:" ",value:T,onChange:L,placeholder:`<b> !</b>
  /start`,hint:"HTML: <b>, <i>, <code>, <a href>",rows:4,disabled:s||!E})]}),r.jsxs("div",{className:"space-y-5",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/[0.02] border border-white/[0.06]",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-[13px] font-medium text-white",children:""}),r.jsx("div",{className:"text-[11px] text-white/40 mt-0.5",children:"   "})]}),r.jsx(Ei,{enabled:H,onChange:ee,disabled:s})]}),r.jsx(Bu,{label:" ",value:A,onChange:O,placeholder:"  !     .",hint:"    ",rows:2,disabled:s||!H}),r.jsx(Xe,{label:"   ()",value:ue,onChange:S,placeholder:"0",hint:"0 =   ",disabled:s||!H})]})]})})}),r.jsx("div",{className:"mt-4",children:r.jsxs("div",{className:`rounded-2xl border transition-all duration-300 overflow-hidden ${ge?"border-blue-500/20 bg-gradient-to-br from-blue-500/[0.05] to-transparent":"border-white/[0.06] bg-white/[0.01]"}`,children:[r.jsxs("div",{onClick:()=>_e(!ot),className:"w-full px-6 py-4 flex items-center justify-between hover:bg-white/[0.02] transition-colors cursor-pointer",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center transition-all ${ge?"bg-blue-500/20 text-blue-400":"bg-white/[0.05] text-white/50"}`,children:mn.telegram}),r.jsxs("div",{className:"text-left",children:[r.jsx("h3",{className:"text-[15px] font-semibold text-white",children:"  Telegram"}),r.jsx("p",{className:"text-[12px] text-white/40 mt-0.5",children:"OAuth   "})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(n0,{status:ge?De&&We?"active":"warning":"off"}),r.jsx(Ei,{enabled:ge,onChange:Ie,disabled:s}),r.jsx("span",{className:`transition-transform duration-300 ${ot?"rotate-180":""}`,children:mn.chevron})]})]}),r.jsx("div",{className:`grid transition-all duration-300 ease-in-out ${ot?"grid-rows-[1fr] opacity-100":"grid-rows-[0fr] opacity-0"}`,children:r.jsx("div",{className:"overflow-hidden",children:r.jsxs("div",{className:"px-6 pb-6 pt-2 border-t border-white/[0.04]",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5 mt-4",children:[r.jsx(Xe,{label:"Username ",value:De,onChange:xe,placeholder:"@auth_bot",hint:"    ",disabled:s}),r.jsx(Xe,{label:"Token ",value:We,onChange:Fe,placeholder:"123456789:ABC...",secret:!0,hint:"  Telegram Login",disabled:s})]}),r.jsxs("div",{className:"mt-5 p-4 rounded-xl bg-blue-500/5 border border-blue-500/10 space-y-3",children:[r.jsxs("p",{className:"text-[12px] text-blue-300/70 leading-relaxed",children:[r.jsx("span",{className:"font-semibold text-blue-300",children:"Telegram OAuth"}),"     Telegram.     ,    ,   ."]}),r.jsxs("div",{className:"pt-3 border-t border-blue-500/10",children:[r.jsx("p",{className:"text-[11px] font-medium text-amber-300 mb-2",children:" :  "}),r.jsxs("ol",{className:"text-[11px] text-white/50 space-y-1 list-decimal list-inside",children:[r.jsxs("li",{children:[" ",r.jsx("span",{className:"text-blue-300",children:"@BotFather"}),"  Telegram"]}),r.jsxs("li",{children:["  ",r.jsx("code",{className:"px-1.5 py-0.5 rounded bg-white/10 text-blue-300 font-mono",children:"/setdomain"})]}),r.jsx("li",{children:"   "}),r.jsxs("li",{children:[" : ",r.jsx("code",{className:"px-1.5 py-0.5 rounded bg-white/10 text-cyan-300 font-mono",children:window.location.hostname})]})]}),r.jsx("p",{className:"text-[10px] text-white/30 mt-2",children:"   Telegram Login   ."})]})]})]})})})]})}),r.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 pb-[calc(1rem+env(safe-area-inset-bottom))] bg-gradient-to-t from-ink-900 via-ink-900/95 to-transparent pointer-events-none",children:r.jsxs("div",{className:"max-w-5xl mx-auto flex justify-end gap-3 pointer-events-auto",children:[r.jsxs("button",{onClick:q,disabled:s,className:"h-11 px-5 rounded-xl border border-white/[0.08] text-sm font-medium text-white/60 hover:text-white hover:bg-white/[0.04] hover:border-white/[0.12] disabled:opacity-40 transition-all flex items-center gap-2",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})}),""]}),r.jsxs("button",{onClick:Te,disabled:s,className:"h-11 px-6 rounded-xl bg-white text-black text-sm font-semibold hover:bg-white/90 disabled:opacity-40 transition-all flex items-center gap-2 shadow-lg shadow-white/10",children:[s?r.jsx("div",{className:"w-4 h-4 border-2 border-black/20 border-t-black rounded-full animate-spin"}):r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),s?"...":""]})]})})]})})}const Ct={user:r.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),lock:r.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),telegram:r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69.01-.03.01-.14-.05-.2-.06-.05-.14-.03-.21-.02-.09.02-1.49.95-4.22 2.79-.4.27-.76.41-1.08.4-.36-.01-1.04-.2-1.55-.37-.63-.2-1.12-.31-1.08-.66.02-.18.27-.36.74-.55 2.92-1.27 4.86-2.11 5.83-2.51 2.78-1.16 3.35-1.36 3.73-1.36.08 0 .27.02.39.12.1.08.13.19.14.27-.01.06.01.24 0 .37z"})}),check:r.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),spinner:r.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),chevron:r.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})};function $u({title:e,icon:t,children:n,className:s="",defaultOpen:l=!0}){const[i,o]=d.useState(l);return r.jsxs("div",{className:`rounded-2xl border border-white/[0.06] bg-gradient-to-br from-white/[0.04] via-white/[0.02] to-transparent backdrop-blur-sm overflow-hidden ${s}`,children:[r.jsxs("button",{onClick:()=>o(!i),className:"w-full flex items-center gap-3 px-6 py-4 border-b border-white/[0.06] hover:bg-white/[0.02] transition-colors",children:[t&&r.jsx("div",{className:"text-white/40",children:t}),r.jsx("h2",{className:"flex-1 text-left text-base font-semibold text-white",children:e}),r.jsx("div",{className:`text-white/40 transition-transform duration-300 ${i?"rotate-180":""}`,children:Ct.chevron})]}),r.jsx("div",{className:`transition-all duration-300 ease-in-out ${i?"max-h-[1000px] opacity-100":"max-h-0 opacity-0 overflow-hidden"}`,children:r.jsx("div",{className:"p-6",children:n})})]})}function Xs({label:e,value:t,onChange:n,placeholder:s,type:l="text",disabled:i,hint:o}){return r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-white/50 mb-2 uppercase tracking-wider",children:e}),r.jsx("input",{type:l,value:t,onChange:a=>n(a.target.value),placeholder:s,disabled:i,className:"w-full px-4 py-3 rounded-xl bg-white/[0.04] border border-white/[0.08] text-white placeholder:text-white/25 focus:outline-none focus:ring-2 focus:ring-cyan-500/30 focus:border-cyan-500/30 focus:bg-white/[0.06] transition-all disabled:opacity-50"}),o&&r.jsx("p",{className:"text-xs text-white/30 mt-2",children:o})]})}function lm({label:e,checked:t,onChange:n,disabled:s,hint:l}){return r.jsxs("div",{className:"flex items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("label",{className:"block text-sm font-medium text-white/80",children:e}),l&&r.jsx("p",{className:"text-xs text-white/40 mt-1",children:l})]}),r.jsx("button",{onClick:()=>!s&&n(!t),disabled:s,className:`relative flex-shrink-0 w-12 h-7 rounded-full transition-all duration-300 ${t?"bg-gradient-to-r from-cyan-500 to-blue-500 shadow-lg shadow-cyan-500/25":"bg-white/10"} disabled:opacity-50 disabled:cursor-not-allowed`,children:r.jsx("span",{className:`absolute top-1 w-5 h-5 rounded-full bg-white shadow-lg transition-all duration-300 ${t?"right-1":"left-1"}`})})]})}function im({type:e,message:t,onClose:n}){const s={success:"from-emerald-500/20 via-emerald-500/15 to-emerald-500/20 border-emerald-500/30",error:"from-rose-500/20 via-rose-500/15 to-rose-500/20 border-rose-500/30"},l={success:"bg-emerald-500/20 text-emerald-400",error:"bg-rose-500/20 text-rose-400"},i={success:"text-emerald-300/80",error:"text-rose-300/80"};return r.jsx("div",{className:`rounded-2xl bg-gradient-to-r ${s[e]} border px-5 py-4 animate-in fade-in slide-in-from-top-2 duration-300`,children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-xl ${l[e]} flex items-center justify-center`,children:e==="success"?Ct.check:r.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),r.jsx("p",{className:`flex-1 text-sm ${i[e]}`,children:t}),n&&r.jsx("button",{onClick:n,className:"flex-shrink-0 text-white/40 hover:text-white/60 transition-colors",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}function om(){const[e,t]=d.useState(!0),[n,s]=d.useState(!1),[l,i]=d.useState(""),[o,a]=d.useState(""),[u,m]=d.useState(null),[y,p]=d.useState(!1),[g,v]=d.useState(!1),[N,w]=d.useState(""),[P,f]=d.useState(""),[c,x]=d.useState(""),[k,T]=d.useState(null);d.useEffect(()=>{L()},[]),d.useEffect(()=>{if(k){const H=setTimeout(()=>T(null),5e3);return()=>clearTimeout(H)}},[k]);const L=async()=>{t(!0);try{const H=await Q.me();i(H.username||""),a(H.username||""),m(H.telegram_user_id||null);const ee=await Q.getTelegramOAuthStatus();p(ee.telegram_oauth_enabled),v(ee.telegram_oauth_enabled)}catch{T({type:"error",message:"   "})}finally{t(!1)}},E=async()=>{if(!l.trim()){T({type:"error",message:"    "});return}s(!0);try{l!==o&&(await Q.updateUsername(l),a(l)),y!==g&&(await Q.toggleTelegramOAuth(y),v(y)),T({type:"success",message:"  "})}catch(H){T({type:"error",message:H.message||"   "})}finally{s(!1)}},b=async()=>{if(!N){T({type:"error",message:"  "});return}if(P.length<6){T({type:"error",message:"     6 "});return}if(P!==c){T({type:"error",message:"  "});return}s(!0);try{await Q.changePassword(P,N),w(""),f(""),x(""),T({type:"success",message:"  "})}catch(H){T({type:"error",message:H.message||"   "})}finally{s(!1)}},A=l!==o||y!==g,O=N||P||c;return e?r.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:r.jsxs("div",{className:"flex items-center gap-3 text-white/50",children:[Ct.spinner,r.jsx("span",{children:"..."})]})}):r.jsx("div",{className:"h-full overflow-y-auto overflow-x-hidden scrollbar-thin",children:r.jsx("div",{className:"min-h-full px-4 py-6 sm:p-6 md:p-8 bg-gradient-to-br from-[#0a0e17] via-[#0d1220] to-[#0a0e17]",children:r.jsxs("div",{className:"max-w-2xl mx-auto space-y-6 pb-12",children:[r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-cyan-500/20 to-purple-500/20 flex items-center justify-center border border-white/[0.08]",children:Ct.user}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl md:text-3xl font-display font-bold text-white",children:" "}),r.jsx("p",{className:"text-white/40 text-sm",children:"   "})]})]})}),k&&r.jsx(im,{type:k.type,message:k.message,onClose:()=>T(null)}),r.jsx($u,{title:"",icon:Ct.user,children:r.jsxs("div",{className:"space-y-6",children:[r.jsx(Xs,{label:"",value:l,onChange:i,placeholder:" ",hint:"     "}),u&&u>0&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-white/50 mb-2 uppercase tracking-wider",children:"Telegram ID"}),r.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-white/[0.02] border border-white/[0.05]",children:[r.jsx("div",{className:"text-cyan-400",children:Ct.telegram}),r.jsx("span",{className:"text-white/70 font-mono",children:u})]})]}),r.jsx("div",{className:"pt-2",children:r.jsx(lm,{label:"  Telegram",checked:y,onChange:p,hint:"      Telegram   "})}),r.jsx("div",{className:"pt-4",children:r.jsxs("button",{onClick:E,disabled:n||!A,className:"flex items-center justify-center gap-2 px-6 py-3 rounded-xl bg-gradient-to-r from-cyan-500 via-blue-500 to-purple-600 hover:from-cyan-400 hover:via-blue-400 hover:to-purple-500 text-white font-semibold transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-cyan-500/20 hover:shadow-cyan-500/30",children:[n?Ct.spinner:Ct.check,r.jsx("span",{children:" "})]})})]})}),r.jsx($u,{title:" ",icon:Ct.lock,children:r.jsxs("div",{className:"space-y-5",children:[r.jsx(Xs,{label:" ",value:N,onChange:w,type:"password",placeholder:"  "}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[r.jsx(Xs,{label:" ",value:P,onChange:f,type:"password",placeholder:" 6 "}),r.jsx(Xs,{label:" ",value:c,onChange:x,type:"password",placeholder:" "})]}),r.jsx("div",{className:"pt-4",children:r.jsxs("button",{onClick:b,disabled:n||!O,className:"flex items-center justify-center gap-2 px-6 py-3 rounded-xl bg-white/[0.06] hover:bg-white/[0.1] border border-white/[0.08] text-white font-medium transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:[n?Ct.spinner:Ct.lock,r.jsx("span",{children:" "})]})})]})}),r.jsx("div",{className:"rounded-2xl border border-white/[0.04] bg-white/[0.02] p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-xl bg-blue-500/10 flex items-center justify-center",children:r.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsx("div",{children:r.jsx("p",{className:"text-white/60 text-sm leading-relaxed",children:"        ,    ."})})]})})]})})})}function am({onAuthSuccess:e,appName:t,appDescription:n}){const[s,l]=d.useState(""),[i,o]=d.useState(""),[a,u]=d.useState(!1),[m,y]=d.useState(null),[p,g]=d.useState(null),v=d.useRef(null),N=d.useCallback(async P=>{u(!0),y(null);try{await Q.telegramOAuthLogin(P),e()}catch(f){y(f.message||"   Telegram"),u(!1)}},[e]);d.useEffect(()=>{Q.getPublicTelegramOAuth().then(g).catch(()=>{})},[]),d.useEffect(()=>{if(!(p!=null&&p.enabled)||!(p!=null&&p.bot_username)||!v.current)return;window.TelegramLoginWidgetCb=N;const P=p.bot_username.replace("@",""),f=document.createElement("script");return f.src="https://telegram.org/js/telegram-widget.js?22",f.setAttribute("data-telegram-login",P),f.setAttribute("data-size","large"),f.setAttribute("data-radius","12"),f.setAttribute("data-onauth","TelegramLoginWidgetCb(user)"),f.setAttribute("data-request-access","write"),f.async=!0,v.current.innerHTML="",v.current.appendChild(f),()=>{delete window.TelegramLoginWidgetCb}},[p,N]);const w=async P=>{P.preventDefault(),y(null),u(!0);try{if(!s||!i){y("  "),u(!1);return}await Q.login(s,i),l(""),o(""),e()}catch(f){y(f.message||"   "),u(!1)}};return r.jsxs("div",{className:"min-h-[100dvh] h-[100dvh] flex items-center justify-center px-3 sm:px-4 py-6 sm:py-10 pb-[calc(2rem+env(safe-area-inset-bottom))] bg-[#0b0f17] relative overflow-hidden overflow-y-auto",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute top-0 left-1/4 w-[520px] h-[520px] bg-gradient-to-br from-slate-500/18 via-blue-500/10 to-transparent rounded-full blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 right-1/4 w-[460px] h-[460px] bg-gradient-to-tl from-indigo-500/18 via-slate-500/10 to-transparent rounded-full blur-3xl"}),r.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[720px] h-[720px] bg-gradient-to-r from-slate-500/6 to-blue-500/6 rounded-full blur-3xl animate-pulse"}),r.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.018)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.018)_1px,transparent_1px)] bg-[size:70px_70px]"}),r.jsx("div",{className:"absolute top-1/4 left-1/3 w-2 h-2 bg-slate-300/25 rounded-full animate-bounce",style:{animationDelay:"0s",animationDuration:"3s"}}),r.jsx("div",{className:"absolute top-2/3 right-1/3 w-1.5 h-1.5 bg-blue-300/25 rounded-full animate-bounce",style:{animationDelay:"1s",animationDuration:"4s"}}),r.jsx("div",{className:"absolute bottom-1/4 left-1/2 w-1 h-1 bg-indigo-300/35 rounded-full animate-bounce",style:{animationDelay:"2s",animationDuration:"3.5s"}})]}),r.jsxs("div",{className:"w-full !max-w-[520px] relative z-10",children:[r.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 sm:w-16 sm:h-16 rounded-2xl bg-gradient-to-br from-slate-400/20 via-blue-400/15 to-indigo-400/20 border border-white/10 mb-4 sm:mb-5 backdrop-blur-xl shadow-2xl shadow-black/30",children:r.jsx("svg",{className:"w-6 h-6 sm:w-8 sm:h-8 text-slate-200",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),r.jsx("h1",{className:"text-xl sm:text-3xl font-display font-semibold mb-2 bg-gradient-to-r from-white via-slate-100 to-blue-100 bg-clip-text text-transparent tracking-tight",children:t}),r.jsx("p",{className:"text-white/45 text-xs sm:text-sm",children:n})]}),r.jsxs("div",{className:"rounded-2xl border border-white/[0.08] bg-gradient-to-b from-white/[0.05] to-white/[0.015] backdrop-blur-2xl p-4 sm:p-6 shadow-2xl shadow-black/40 login-in",children:[r.jsxs("div",{className:"mb-5",children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold text-white mb-1",children:" "}),r.jsx("p",{className:"text-white/45 text-xs sm:text-sm",children:"   "})]}),r.jsxs("form",{onSubmit:w,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-white/50 text-xs font-medium mb-1.5 uppercase tracking-wider",children:""}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:r.jsx("svg",{className:"w-4 h-4 text-white/30",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),r.jsx("input",{type:"text",value:s,onChange:P=>l(P.target.value),placeholder:" ",disabled:a,className:"w-full rounded-xl bg-white/[0.035] border border-white/[0.08] pl-10 pr-4 py-2.5 sm:py-3 text-sm text-white placeholder-white/25 focus:outline-none focus:ring-2 focus:ring-slate-400/40 focus:border-slate-400/40 focus:bg-white/[0.05] transition-all disabled:opacity-50"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-white/50 text-xs font-medium mb-1.5 uppercase tracking-wider",children:""}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:r.jsx("svg",{className:"w-4 h-4 text-white/30",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),r.jsx("input",{type:"password",value:i,onChange:P=>o(P.target.value),placeholder:" ",disabled:a,className:"w-full rounded-xl bg-white/[0.035] border border-white/[0.08] pl-10 pr-4 py-2.5 sm:py-3 text-sm text-white placeholder-white/25 focus:outline-none focus:ring-2 focus:ring-slate-400/40 focus:border-slate-400/40 focus:bg-white/[0.05] transition-all disabled:opacity-50"})]})]}),m&&r.jsx("div",{className:"rounded-xl overflow-hidden animate-in fade-in slide-in-from-top-2 duration-300",children:r.jsx("div",{className:"bg-gradient-to-r from-rose-500/20 via-rose-500/15 to-rose-500/20 border border-rose-500/30 px-4 py-3",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-lg bg-rose-500/20 flex items-center justify-center",children:r.jsx("svg",{className:"w-4 h-4 text-rose-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),r.jsx("div",{className:"flex-1 min-w-0",children:r.jsx("p",{className:"text-rose-200 font-medium text-sm",children:m})}),r.jsx("button",{onClick:()=>y(null),className:"flex-shrink-0 text-rose-400/60 hover:text-rose-300 transition-colors",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}),r.jsx("button",{type:"submit",disabled:a,className:"w-full h-10 sm:h-11 rounded-xl bg-gradient-to-r from-slate-700 via-slate-600 to-slate-500 hover:from-slate-600 hover:via-slate-500 hover:to-slate-400 text-white text-sm font-semibold transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-black/30 hover:shadow-black/40 hover:scale-[1.01] active:scale-[0.99] mt-1",children:a?r.jsxs("span",{className:"flex items-center justify-center gap-2",children:[r.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"..."]}):r.jsxs("span",{className:"flex items-center justify-center gap-2",children:[r.jsx("span",{children:""}),r.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})]}),(p==null?void 0:p.enabled)&&(p==null?void 0:p.bot_username)&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center gap-3 my-5",children:[r.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-white/10 to-transparent"}),r.jsx("span",{className:"text-white/30 text-xs uppercase tracking-wider",children:""}),r.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-white/10 to-transparent"})]}),r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{ref:v,className:"telegram-login-widget"})})]})]}),r.jsx("div",{className:"text-center mt-6",children:r.jsx("p",{className:"text-white/20 text-xs",children:"  "})})]})]})}function um(e){let t=null,n=0;const s=()=>{t=new WebSocket(`${location.origin.replace("http","ws")}/ws`),t.onmessage=l=>{try{e(JSON.parse(l.data))}catch{}},t.onclose=()=>{n+=1;const l=Math.min(1e3*n,5e3);setTimeout(s,l)}};return s(),()=>{t==null||t.close()}}const Iu=[{key:"new",label:""},{key:"active",label:""},{key:"closed",label:""},{key:"transferred",label:""}];function cm(){const[e,t]=d.useState("chats"),[n,s]=d.useState(!1),[l,i]=d.useState(!1),[o,a]=d.useState(null),[u,m]=d.useState("Support Bot Console"),[y,p]=d.useState("Premium support console"),[g,v]=d.useState(""),[N,w]=d.useState("active"),[P,f]=d.useState(""),[c,x]=d.useState("all"),[k,T]=d.useState(!1),[L,E]=d.useState([]),[b,A]=d.useState(void 0),[O,H]=d.useState([]),[ee,ue]=d.useState(!0),[S,C]=d.useState("list"),[I,Y]=d.useState(0),[M,B]=d.useState({}),[W,V]=d.useState([]),[re,me]=d.useState(!1),[ae,Pe]=d.useState(!1),[pe,ge]=d.useState(!1),[Ie,De]=d.useState("password"),[xe,We]=d.useState(""),[Fe,ot]=d.useState("admin"),[_e,_]=d.useState(""),[q,D]=d.useState(!1),[Te,ce]=d.useState(null),[fe,we]=d.useState(null),[Pt,mt]=d.useState(!1),[bt,Ot]=d.useState(!1),[Nt,un]=d.useState(null),[Rt,Dt]=d.useState(!1),[Ht,er]=d.useState(!1),Qt=d.useRef(null),tr=d.useRef(0),cn=d.useRef(null),nr=d.useRef(null),dn=d.useRef(new Map),Rn=async()=>{await Q.logout().catch(()=>{}),s(!1)},Dn=(j=!1)=>{if(!n)return;j||ue(!0);const te=c==="unanswered"?"unanswered":N,se=c==="messages"?"messages":void 0;we(null),Q.getChats(te,P,se,void 0,30).then(ye=>{E(ye.items),we(ye.nextCursor),mt(ye.hasMore),At()}).finally(()=>{j||ue(!1)})},Dr=()=>{if(!n||!Pt||bt||!fe)return;Ot(!0);const j=c==="unanswered"?"unanswered":N,te=c==="messages"?"messages":void 0;Q.getChats(j,P,te,fe,30).then(se=>{E(ye=>[...ye,...se.items]),we(se.nextCursor),mt(se.hasMore)}).finally(()=>{Ot(!1)})},Kt=j=>{n&&(un(null),Dt(!1),Q.getMessages(j,void 0,50).then(te=>{H(te.items),un(te.nextCursor),Dt(te.hasMore)}))},rr=()=>{!n||!Rt||Ht||!Nt||!b||(er(!0),Q.getMessages(b.id,Nt,50).then(j=>{H(te=>[...te,...j.items]),un(j.nextCursor),Dt(j.hasMore)}).finally(()=>{er(!1)}))};d.useEffect(()=>{If(()=>{s(!1),Pe(!0)})},[]),d.useEffect(()=>{if(!ae)return;const j=setTimeout(()=>Pe(!1),4e3);return()=>clearTimeout(j)},[ae]),d.useEffect(()=>{Q.getPublicBranding().then(j=>{if(j.name&&m(j.name),j.description&&p(j.description),j.page_title?document.title=j.page_title:j.name&&(document.title=j.name),j.favicon_url){let te=document.querySelector("link[rel~='icon']");te||(te=document.createElement("link"),te.rel="icon",document.head.appendChild(te)),te.href=j.favicon_url}}).catch(()=>{})},[]),d.useEffect(()=>{Q.me().then(j=>{s(!0),a(j.role),ge(j.must_change_password===!0),j.username&&_(j.username)}).catch(()=>{s(!1)}).finally(()=>i(!0))},[]),d.useEffect(()=>{n&&(Dn(!1),kt(),At(),Q.listSettings().then(j=>{const te=j.find(ye=>ye.key==="app_branding");if(te!=null&&te.value_json){const ye=te.value_json;ye.name&&m(ye.name),ye.description&&p(ye.description)}const se=j.find(ye=>ye.key==="solobot_integration");if(se!=null&&se.value_json){const ye=se.value_json;ye.bot_username&&v(ye.bot_username.replace(/^@/,""))}}).catch(()=>{}))},[n]),d.useEffect(()=>{if(n)return cn.current&&window.clearTimeout(cn.current),cn.current=window.setTimeout(()=>{Dn(!0)},250),()=>{cn.current&&window.clearTimeout(cn.current)}},[N,P,c,n]);const kt=()=>{n&&Q.getChats("new","").then(j=>Y(j.items.length)).catch(()=>Y(0))},sr=()=>{n&&Promise.all([Q.getChats("new","").then(j=>({key:"new",count:j.items.length})).catch(()=>({key:"new",count:0})),Q.getChats("active","").then(j=>({key:"active",count:j.items.length})).catch(()=>({key:"active",count:0})),Q.getChats("closed","").then(j=>({key:"closed",count:j.items.length})).catch(()=>({key:"closed",count:0})),Q.getChats("transferred","").then(j=>({key:"transferred",count:j.items.length})).catch(()=>({key:"transferred",count:0}))]).then(j=>{const te={};j.forEach(se=>te[se.key]=se.count),B(te)})},At=()=>{nr.current||(nr.current=window.setTimeout(()=>{nr.current=null,sr()},500))};d.useEffect(()=>{b!=null&&b.id&&Kt(b.id)},[b==null?void 0:b.id]),d.useEffect(()=>{if(n)return um(j=>{var se,ye,Bt,hn,$r,h,R,F,ne,Z,K;const te={new:"NEW",active:"ACTIVE",closed:"CLOSED",transferred:"ESCALATED"};if(j.event==="chat_created"&&((se=j.data)!=null&&se.chat)){const U=j.data.chat;E(G=>{if(G.find(ie=>ie.id===U.id))return G;if(c==="all"){const ie=te[N];if(ie&&U.status!==ie)return G}return[U,...G]}),kt(),At()}if(j.event==="chat_updated"&&((ye=j.data)!=null&&ye.id)){const U=j.data;if(E(G=>G.map(ie=>ie.id===U.id?{...ie,...U}:ie)),(b==null?void 0:b.id)===U.id&&A(G=>G&&{...G,...U}),c==="all"&&U.status){const G=te[N];if(G&&U.status!==G){const ie=dn.current.get(U.id);ie&&clearTimeout(ie);const oe=window.setTimeout(()=>{E(Ae=>Ae.filter(X=>X.id!==U.id)),dn.current.delete(U.id)},150);dn.current.set(U.id,oe)}}kt(),At()}if(j.event==="message_updated"&&((Bt=j.data)!=null&&Bt.message)){const U=j.data.message;b!=null&&b.id&&((hn=j.data)==null?void 0:hn.chat_id)===b.id&&H(G=>G.map(ie=>ie.id===U.id?U:ie))}if(j.event==="message_deleted"&&(($r=j.data)!=null&&$r.chat_id)&&((h=j.data)!=null&&h.message_id)){const U=j.data.chat_id,G=j.data.message_id;(b==null?void 0:b.id)===U&&H(ie=>ie.filter(oe=>oe.id!==G))}if(j.event==="chat_deleted"&&((R=j.data)!=null&&R.id)){const U=j.data.id;E(G=>G.filter(ie=>ie.id!==U)),(b==null?void 0:b.id)===U&&(A(void 0),H([])),kt(),At()}if(j.event==="message_created"&&((F=j.data)!=null&&F.message)){const U=j.data.message,G=j.data.chat_id;if(b!=null&&b.id&&G===b.id&&H(ie=>ie.find(oe=>oe.id===U.id)?ie:[U,...ie]),G){const ie=dn.current.get(G);ie&&(clearTimeout(ie),dn.current.delete(G)),E(oe=>{const Ae=oe.findIndex(Jt=>Jt.id===G);if(Ae===-1)return oe;const X=oe[Ae];if((b==null?void 0:b.id)===G)return oe;const Me=U.direction==="IN"?(X.unread_count||0)+1:X.unread_count,$t=U.text?U.text:U.type;return[{...X,unread_count:Me??X.unread_count,last_message_at:U.created_at??X.last_message_at,last_message_preview:$t??X.last_message_preview},...oe.filter((Jt,zs)=>zs!==Ae)]})}kt(),At()}if(j.event==="template_created"&&((ne=j.data)!=null&&ne.template)){const U=j.data.template;V(G=>[U,...G])}if(j.event==="template_updated"&&((Z=j.data)!=null&&Z.template)){const U=j.data.template;V(G=>G.map(ie=>ie.id===U.id?U:ie))}if(j.event==="template_deleted"&&((K=j.data)!=null&&K.id)){const U=j.data.id;V(G=>G.filter(ie=>ie.id!==U))}})},[b==null?void 0:b.id,N,c,n]),d.useEffect(()=>{Qt.current&&(Qt.current.scrollLeft=tr.current)},[M,N]),d.useEffect(()=>{n&&Q.listTemplates().then(V).catch(()=>V([]))},[n]);const Xl=async()=>{ce(null),D(!0);try{if(Ie==="password"){if(!xe||xe.length<6){ce("    6 "),D(!1);return}await Q.changePassword(xe,Fe,_e||void 0)}else{if(!_e){ce("  "),D(!1);return}await Q.changePassword(Fe,Fe,_e)}ge(!1),We(""),ce(null),D(!1)}catch(j){ce(j.message||"   "),D(!1)}},Ar=()=>r.jsxs("div",{className:"flex flex-col gap-3 h-full min-h-0",children:[r.jsx("div",{ref:Qt,onScroll:()=>{Qt.current&&(tr.current=Qt.current.scrollLeft)},className:"shrink-0 flex items-center gap-2 overflow-x-auto scrollbar-thin pb-1",children:Iu.map(j=>r.jsxs("button",{onClick:()=>w(j.key),className:`relative shrink-0 px-3 py-1.5 rounded-full text-xs border transition flex items-center gap-2 ${N===j.key?"bg-ocean-600/20 text-white border-ocean-500/30":"border-white/10 text-white/70 hover:bg-white/5"}`,children:[r.jsx("span",{className:"font-medium",children:j.label}),typeof M[j.key]=="number"&&r.jsx("span",{className:"text-[11px] text-white/60",children:M[j.key]}),j.key==="new"&&I>0&&r.jsx("span",{className:"h-2 w-2 rounded-full bg-rose-500 shadow-[0_0_10px_rgba(244,63,94,0.7)]"})]},j.key))}),r.jsxs("div",{className:"flex-1 grid grid-cols-1 xl:grid-cols-[320px_1fr_360px] gap-4 min-h-0",children:[r.jsxs("div",{className:"flex flex-col gap-4 min-h-0",children:[r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex-1 relative group",children:[r.jsx("div",{className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-white/30 group-focus-within:text-ocean-400 transition-colors",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),r.jsx("input",{value:P,onChange:j=>f(j.target.value),placeholder:": , ID, ",className:"w-full h-11 pl-10 pr-4 rounded-2xl bg-white/[0.03] border border-white/[0.06] text-sm text-white placeholder:text-white/30 focus:outline-none focus:border-ocean-500/40 focus:bg-white/[0.05] focus:shadow-[0_0_20px_rgba(59,130,246,0.1)] transition-all duration-300"}),P&&r.jsx("button",{onClick:()=>f(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-white/30 hover:text-white/60 transition-colors",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("button",{onClick:()=>T(j=>!j),className:`hidden xl:flex h-11 w-11 items-center justify-center rounded-2xl border transition-all duration-300 ${k||c!=="all"?"bg-ocean-500/10 border-ocean-500/30 text-ocean-400":"bg-white/[0.03] border-white/[0.06] text-white/40 hover:text-white/70 hover:bg-white/[0.05] hover:border-white/10"}`,title:"",children:[r.jsx("svg",{className:"w-[18px] h-[18px]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75"})}),c!=="all"&&r.jsx("span",{className:"absolute -top-1 -right-1 h-2.5 w-2.5 rounded-full bg-ocean-500 shadow-[0_0_8px_rgba(59,130,246,0.6)]"})]})]}),k&&r.jsxs("div",{className:"absolute right-0 top-14 z-20 w-64 rounded-2xl border border-white/[0.08] bg-ink-900/95 backdrop-blur-xl p-2 shadow-2xl animate-in fade-in slide-in-from-top-2 duration-200",children:[r.jsx("div",{className:"px-3 py-2 text-[11px] font-medium text-white/40 uppercase tracking-wider",children:" "}),[{key:"all",label:" ",icon:"",desc:"   "},{key:"unanswered",label:"",icon:"",desc:"  "},{key:"messages",label:" ",icon:"",desc:"  "}].map(j=>r.jsxs("button",{onClick:()=>{x(j.key),T(!1)},className:`w-full flex items-center gap-3 rounded-xl px-3 py-2.5 text-left transition-all ${c===j.key?"bg-ocean-500/10 text-white":"text-white/70 hover:bg-white/[0.04]"}`,children:[r.jsx("span",{className:"text-lg",children:j.icon}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-[13px] font-medium",children:j.label}),r.jsx("div",{className:"text-[11px] text-white/40",children:j.desc})]}),c===j.key&&r.jsx("div",{className:"w-5 h-5 rounded-full bg-ocean-500/20 flex items-center justify-center",children:r.jsx("svg",{className:"w-3 h-3 text-ocean-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})})]},j.key))]})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto scrollbar-thin pr-2",children:[ee&&L.length===0&&r.jsxs("div",{className:"space-y-4",children:[r.jsx(Gs,{className:"h-24"}),r.jsx(Gs,{className:"h-24"}),r.jsx(Gs,{className:"h-24"})]}),!ee&&L.length===0&&r.jsx("div",{className:"text-white/40 text-sm",children:"  "}),L.length>0&&r.jsx("div",{className:"fade-in",children:r.jsx(Tu,{chats:L,selectedId:b==null?void 0:b.id,onSelect:j=>{A(j),C("chat"),j.unread_count>0&&E(te=>te.map(se=>se.id===j.id?{...se,unread_count:0}:se))},hasMore:Pt,loadingMore:bt,onLoadMore:Dr})})]})]}),r.jsx("div",{className:"card p-5 h-full flex flex-col min-h-0",children:r.jsx(zu,{chat:b,messages:[...O].reverse(),templates:W,onMessageSent:()=>b&&Kt(b.id),onMessageDeleted:()=>b&&Kt(b.id),highlight:P,userRole:o,hasMoreMessages:Rt,loadingMoreMessages:Ht,onLoadMoreMessages:rr})}),r.jsx("div",{className:"hidden xl:block h-full min-h-0",children:r.jsx(Ou,{chat:b,userRole:o,solobotUsername:g,onChatDeleted:j=>{E(te=>te.filter(se=>se.id!==j)),(b==null?void 0:b.id)===j&&A(void 0)}})})]})]}),Br=ae?r.jsx("div",{className:"fixed top-6 right-6 z-50 rounded-2xl border border-rose-500/30 bg-rose-500/10 px-4 py-3 text-sm text-rose-100 shadow-soft",children:"    "}):null,Zl=pe?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 px-4",children:r.jsxs("div",{className:"card p-8 w-full max-w-md",children:[r.jsx("div",{className:"text-2xl font-display font-semibold mb-2",children:"  "}),r.jsx("p",{className:"text-white/50 text-sm mb-6",children:"        "}),r.jsxs("div",{className:"flex gap-2 mb-6",children:[r.jsx("button",{onClick:()=>De("password"),className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition ${Ie==="password"?"bg-white/10 text-white border border-white/20":"text-white/60 hover:text-white/80"}`,children:""}),r.jsx("button",{onClick:()=>De("username"),className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition ${Ie==="username"?"bg-white/10 text-white border border-white/20":"text-white/60 hover:text-white/80"}`,children:" ()"})]}),r.jsxs("div",{className:"space-y-4 mb-6",children:[Ie==="password"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-white/70 text-xs font-medium mb-1",children:" "}),r.jsx("input",{type:"password",value:Fe,onChange:j=>ot(j.target.value),placeholder:"  ",className:"w-full rounded-lg bg-ink-800/80 border border-white/10 px-3 py-2 text-sm text-white placeholder-white/30 focus:outline-none focus:ring-2 focus:ring-ocean-500/30"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-white/70 text-xs font-medium mb-1",children:" "}),r.jsx("input",{type:"password",value:xe,onChange:j=>We(j.target.value),placeholder:" 6 ",className:"w-full rounded-lg bg-ink-800/80 border border-white/10 px-3 py-2 text-sm text-white placeholder-white/30 focus:outline-none focus:ring-2 focus:ring-ocean-500/30"})]})]}),Ie==="username"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-white/70 text-xs font-medium mb-1",children:"  ()"}),r.jsx("input",{type:"text",value:_e,onChange:j=>_(j.target.value),placeholder:"    ",className:"w-full rounded-lg bg-ink-800/80 border border-white/10 px-3 py-2 text-sm text-white placeholder-white/30 focus:outline-none focus:ring-2 focus:ring-ocean-500/30"})]}),r.jsx("div",{className:"text-xs text-white/50",children:'   ""'})]})]}),Te&&r.jsx("div",{className:"rounded-lg bg-rose-500/10 border border-rose-500/30 px-3 py-2 text-rose-200 text-xs mb-4",children:Te}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("button",{onClick:Xl,disabled:q,className:"w-full h-10 rounded-lg bg-white text-ink-900 font-semibold hover:bg-white/90 disabled:opacity-50 disabled:cursor-not-allowed transition",children:q?"...":""}),Ie==="username"&&r.jsx("button",{onClick:()=>ge(!1),disabled:q,className:"w-full h-10 rounded-lg border border-white/10 text-white/70 hover:bg-white/10 disabled:opacity-50 transition",children:""})]})]})}):null;return l?n?r.jsxs("div",{className:"h-full flex flex-col px-5 py-6 pb-[calc(1.5rem+env(safe-area-inset-bottom))] text-white overflow-hidden",children:[Br,Zl,r.jsxs("header",{className:"shrink-0 z-20 -mx-5 -mt-6 px-5 py-4 bg-ink-950/95 backdrop-blur border-b border-white/10 flex flex-col gap-3 lg:flex-row lg:items-center lg:justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{className:"lg:hidden h-10 w-10 rounded-full border border-white/10 text-white/70 hover:bg-white/10",onClick:()=>me(j=>!j),"aria-label":"",children:""}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-display font-semibold",children:u}),r.jsx("div",{className:"text-sm text-white/50",children:y})]})]}),r.jsxs("div",{className:"hidden lg:flex items-center gap-3",children:[r.jsx("nav",{className:"flex flex-wrap gap-3",children:(o==="administrator"?["chats","templates","broadcast","users","settings"]:["chats","templates","account"]).map(j=>{const te={chats:"",templates:"",broadcast:"",users:"",settings:"",account:""};return r.jsx("button",{onClick:()=>t(j),className:`px-4 py-2 rounded-full text-xs uppercase tracking-widest border transition ${e===j?"bg-white text-ink-950":"border-white/10 text-white/60 hover:bg-white/10"}`,children:te[j]||j},j)})}),r.jsx("button",{onClick:Rn,className:"px-4 py-2 rounded-full text-xs uppercase tracking-widest border border-white/10 text-white/70 hover:bg-white/10",children:""})]}),re&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"lg:hidden fixed inset-0 z-40 bg-black/50",onClick:()=>me(!1)}),r.jsxs("div",{className:"lg:hidden fixed left-4 top-20 z-50 w-56 rounded-2xl border border-white/10 bg-[#0d1117] p-3 shadow-2xl",children:[(o==="administrator"?["chats","templates","broadcast","users","settings"]:["chats","templates","account"]).map(j=>r.jsx("button",{onClick:()=>{t(j),me(!1)},className:`w-full rounded-xl px-3 py-2 text-left text-xs uppercase tracking-widest ${e===j?"bg-white/10 text-white":"text-white/60 hover:bg-white/10"}`,children:{chats:"",templates:"",broadcast:"",users:"",settings:"",account:""}[j]||j},j)),r.jsx("button",{onClick:()=>{me(!1),Rn()},className:"w-full rounded-xl px-3 py-2 text-left text-xs uppercase tracking-widest text-white/60 hover:bg-white/10",children:""})]})]})]}),r.jsxs("main",{className:"mt-4 flex-1 min-h-0 overflow-hidden overflow-x-hidden",children:[e==="chats"&&r.jsxs("div",{className:"h-full min-h-0",children:[r.jsxs("div",{className:"xl:hidden h-full",children:[S==="list"&&r.jsxs("div",{className:"card p-5 h-full min-h-0",children:[r.jsx("div",{className:"flex items-center gap-1.5 overflow-x-auto scrollbar-thin pb-1 mb-4",children:Iu.map(j=>r.jsxs("button",{onClick:()=>w(j.key),className:`relative shrink-0 px-3 py-1 rounded-full text-xs border flex items-center gap-2 ${N===j.key?"bg-ocean-600 text-white border-ocean-500/30":"border-white/10 text-white/60"}`,children:[r.jsx("span",{children:j.label}),r.jsx("span",{className:"text-[10px] text-white/60",children:M[j.key]??0}),j.key==="new"&&I>0&&r.jsx("span",{className:"absolute -right-1 -top-1 h-2.5 w-2.5 rounded-full bg-rose-500"})]},j.key))}),r.jsxs("div",{className:"relative mb-4",children:[r.jsx("div",{className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-white/30",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),r.jsx("input",{value:P,onChange:j=>f(j.target.value),placeholder:": , ID, ",className:"w-full h-11 pl-10 pr-4 rounded-2xl bg-white/[0.03] border border-white/[0.06] text-sm text-white placeholder:text-white/30 focus:outline-none focus:border-ocean-500/40"}),P&&r.jsx("button",{onClick:()=>f(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-white/30 hover:text-white/60",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),ee&&L.length===0?r.jsx(Gs,{className:"h-24"}):L.length===0?r.jsx("div",{className:"text-white/40 text-sm",children:"  "}):r.jsx("div",{className:"fade-in",children:r.jsx(Tu,{chats:L,selectedId:b==null?void 0:b.id,onSelect:j=>{A(j),C("chat"),j.unread_count>0&&E(te=>te.map(se=>se.id===j.id?{...se,unread_count:0}:se))},hasMore:Pt,loadingMore:bt,onLoadMore:Dr})})]}),S==="chat"&&r.jsx("div",{className:"card p-5 h-full min-h-0",children:r.jsx(zu,{chat:b,messages:[...O].reverse(),templates:W,onMessageSent:()=>b&&Kt(b.id),onMessageDeleted:()=>b&&Kt(b.id),highlight:P,onBack:()=>C("list"),onShowProfile:()=>C("profile"),userRole:o,onChatUpdated:j=>{b&&(A({...b,...j}),E(te=>te.map(se=>se.id===b.id?{...se,...j}:se)))},hasMoreMessages:Rt,loadingMoreMessages:Ht,onLoadMoreMessages:rr})}),S==="profile"&&r.jsx("div",{className:"h-full min-h-0",children:r.jsx(Ou,{chat:b,onBack:()=>C("chat"),userRole:o,solobotUsername:g,onChatDeleted:j=>{E(te=>te.filter(se=>se.id!==j)),(b==null?void 0:b.id)===j&&(A(void 0),C("list"))}})})]}),r.jsx("div",{className:"hidden xl:flex xl:flex-col h-full min-h-0",children:Ar()})]}),e==="templates"&&r.jsx(Gf,{}),e==="broadcast"&&o==="administrator"&&r.jsx(em,{}),e==="users"&&o==="administrator"&&r.jsx(rm,{}),e==="account"&&r.jsx(om,{}),e==="settings"&&o==="administrator"&&r.jsx(sm,{onBrandingChange:(j,te,se,ye)=>{if(m(j),p(te),se?document.title=se:j&&(document.title=j),ye){let Bt=document.querySelector("link[rel~='icon']");Bt||(Bt=document.createElement("link"),Bt.rel="icon",document.head.appendChild(Bt)),Bt.href=ye}}})]})]}):r.jsx(am,{onAuthSuccess:()=>{Q.me().then(j=>{s(!0),a(j.role),ge(j.must_change_password===!0),j.username&&_(j.username)}).catch(()=>{s(!1)})},appName:u,appDescription:y}):r.jsx("div",{className:"min-h-screen flex items-center justify-center text-white/60",children:"..."})}Ti.createRoot(document.getElementById("root")).render(r.jsx(N0.StrictMode,{children:r.jsx(cm,{})}));
